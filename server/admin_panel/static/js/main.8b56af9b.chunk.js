(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{224:function(e,t,n){},252:function(e,t,n){},256:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var c,a,s,o,r=n(1),i=n(0),l=n(32),d=n.n(l),u=n(7),j=n(73),b=n(31),m=n(6),h="http://crm.3place.ru",p=n(53),f=function(e){return{Roles:e.roles}},x={addRoles:function(e){return{type:"ADD_ROLES",payload:e}}},O=n(28),g=O.a.nav({margin:"3px 3px 20px 3px",overflow:"auto","&::-webkit-scrollbar":{height:"4px",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#17a2b8",borderRadius:"10px"},ul:{marginBottom:"3px"}}),v=function(e){for(var t=e.offset,n=e.setOffset,c=e.getItem,a=e.count,s=[],o=function(e){var a="";t/10===e&&(a=" active"),s.push(Object(r.jsx)("li",{onClick:function(){n(10*e),c(10*e)},className:"page-item".concat(a),children:Object(r.jsx)("span",{className:"page-link",children:e+1})},e))},i=0;i<a/10;i++)o(i);return Object(r.jsx)(g,{"aria-label":"Page navigation example",children:Object(r.jsx)("ul",{className:"pagination",children:s})})},y=(n(224),n(64)),N=n.n(y),S=function(e,t){N.a.fire({icon:"error",title:e,text:t})},C=function(e,t){N.a.fire({icon:"success",title:e,text:t})},w=N.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",N.a.stopTimer),e.addEventListener("mouseleave",N.a.resumeTimer)}}),T=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";N.a.fire({title:e,html:n,timerProgressBar:!0,didOpen:function(){N.a.showLoading(),t=setInterval((function(){var e=N.a.getHtmlContainer();if(e){var t=e.querySelector("b");t&&(t.textContent=N.a.getTimerLeft())}}),100)},willClose:function(){clearInterval(t)}})},k=function(){N.a.close()},A=function(e){403==e&&w.fire({icon:"error",title:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})},_=function(e){localStorage.removeItem("tokenID"),localStorage.setItem("tokenID",e)},F=function(e,t){if(t.response){for(var n=arguments.length,c=new Array(n>2?n-2:0),a=2;a<n;a++)c[a-2]=arguments[a];c.forEach((function(e){e()})),A(t.response.status);var s=t.response,o=s.status,r=s.data;"Bad Request"===r.message?S("\u041d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043e\u0440\u043e\u043d\u043a\u0443 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0435\u0441\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a"):404==o?S("\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):401==o?"TOKEN_EXPIRED"==r.message?(_(r.token),e()):(localStorage.removeItem("tokenID"),window.location.replace("/")):500==o?S("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"):400==o&&S("\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435")}},E=n(42),P=Object(p.b)(f,x)((function(e){var t=e.Roles,n=e.addRoles,c=Object(i.useState)(0),a=Object(m.a)(c,2),s=a[0],o=a[1],l=Object(i.useState)(1),d=Object(m.a)(l,2),u=d[0],j=(d[1],Object(i.useState)([{name:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442",surname:"",midname:"",login:"",role:""}])),b=Object(m.a)(j,2),p=b[0],f=b[1],x=Object(i.useState)(""),g=Object(m.a)(x,2),y=g[0],N=g[1],S=Object(i.useState)("overflow-auto"),C=Object(m.a)(S,2),w=C[0],T=C[1],k=Object(i.useState)({}),A=Object(m.a)(k,2),_=A[0],P=A[1],I=Object(r.jsx)("div",{className:"alert alert-warning",role:"alert",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),R=Object(r.jsx)("div",{className:"alert alert-success",role:"alert",children:"\u0413\u043e\u0442\u043e\u0432\u043e!"}),D=Object(i.useState)(""),M=Object(m.a)(D,2),z=M[0],L=M[1],B=Object(i.useState)(""),q=Object(m.a)(B,2),W=q[0],H=q[1],G=Object(i.useState)(""),U=Object(m.a)(G,2),V=U[0],J=U[1],X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;L(I),fetch("".concat(h,"/AdminPanel/CRMAccounts?limit=10&offset=").concat(e,"&accountType=admin&accountType=manager&accountType=support&accountType=partner&accountType=senior-teacher"),{method:"GET",header:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){L(""),f(e)}))},Y=function e(){E({method:"get",url:"".concat(h,"/AdminPanel/Roles"),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){n(e.data)})).catch((function(t){F(e,t)}))};Object(i.useEffect)((function(){X(),Y()}),[]);var K=p.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"td-trash",scope:"row",children:Object(r.jsx)("i",{onClick:function(){L(I),fetch("".concat(h,"/AdminPanel/CRMAccounts/").concat(e.login),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(){})).then((function(){L(""),X()}))},className:"bi bi-trash",style:{fontSize:"30px",color:"#F56767"}})}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.name}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.surname}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.midname}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.login}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.accountType})]},e.login)})),Q={name:_.name,surname:_.surname,midname:_.midname,login:_.login,password:_.password,role:_.role,accountType:_.accountType},Z=t.map((function(e){return Object(r.jsx)("option",{value:e._id,children:e.name},e._id)})),$=O.a.div({".h3Ac, .boxAdd":{display:"inline-block"},".boxAdd":{marginLeft:"10px"}});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($,{className:"container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"table_user ".concat(w),children:[Object(r.jsx)("h3",{className:"h3Ac",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442\u044b"}),Object(r.jsx)("div",{className:"boxAdd",children:Object(r.jsxs)("div",{className:"d-flex plus-box",children:[Object(r.jsx)("i",{className:"bi bi-person-circle",style:{fontSize:"30px",color:"#0498FA"}}),Object(r.jsx)("div",{onClick:function(){T("overflowH")},className:"nav-item plus","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:Object(r.jsx)("i",{className:"bi bi-plus",style:{fontSize:"30px",color:"#F56767"}})})]})}),z,Object(r.jsxs)("table",{className:"table table-striped",children:[Object(r.jsx)("thead",{className:"thead-table",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"th-h",scope:"col"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0418\u043c\u044f"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0422\u0438\u043f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})}),Object(r.jsx)("tbody",{children:K})]})]}),Object(r.jsx)(v,{getItem:X,count:u,offset:s,setOffset:o})]})}),Object(r.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"exampleModal",children:Object(r.jsx)("div",{className:"modal-dialog modal-lg",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(r.jsx)("button",{onClick:function(){P(Q),H(""),N(""),T("overflow-auto")},type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsx)("div",{className:"alert-modal",children:W}),Object(r.jsxs)("form",{className:y,action:"#",method:"post",onSubmit:function e(t){P(Q),H(I),N("modal-form2");var n=Q.name,c=Q.surname,a=Q.midname,s=Q.login,o=Q.password,r=Q.role,i=Q.accountType;fetch("".concat(h,"/AdminPanel/CRMAccounts"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({name:n,surname:c,midname:a,login:s,password:o,accountType:i,role:r})}).then((function(e){"THIS_USER_EXISTS"===e.message?(J(" border-red"),H("")):(H(R),t.target.reset(),X()),document.querySelector(".btn-close").click()})).catch((function(t){F(e,t)})),t.preventDefault()},children:[Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputSirname",className:"fs-5 col-sm-2 col-form-label",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){Q.surname=e.target.value},autoComplete:"off",required:!0,type:"name",name:"surname",className:"form-control".concat(V),id:"inputSirname"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputName",className:"fs-5 col-sm-2 col-form-label",children:"\u0418\u043c\u044f"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){Q.name=e.target.value},autoComplete:"off",required:!0,type:"name",name:"name",className:"form-control".concat(V),id:"inputname"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputMidname",className:"fs-5 col-sm-2 col-form-label",children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){Q.midname=e.target.value},autoComplete:"off",required:!0,type:"name",name:"midname",className:"form-control".concat(V),id:"inputMidname"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputLogin",className:"fs-5 col-sm-2 col-form-label",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){Q.login=e.target.value},autoComplete:"off",required:!0,type:"name",name:"login",className:"form-control".concat(V),id:"inputLogin"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputPassword3",className:"fs-5 col-sm-2 col-form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){Q.password=e.target.value},autoComplete:"off",required:!0,type:"password",name:"password",className:"form-control".concat(V),id:"inputPassword3"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{className:"fs-5 col-sm-4 col-form-label",children:"\u0422\u0438\u043f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"}),Object(r.jsx)("div",{className:"col-sm-8 input-group",children:Object(r.jsxs)("select",{defaultValue:" ",onChange:function(e){Q.accountType=e.target.value},required:!0,className:"form-control",id:"inputGroupSelect01",children:[Object(r.jsx)("option",{defaultValue:!0}),Object(r.jsx)("option",{value:"manager",children:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),Object(r.jsx)("option",{value:"admin",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}),Object(r.jsx)("option",{value:"senior-teacher",children:"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0443\u0447\u0438\u0442\u0435\u043b\u044c"}),Object(r.jsx)("option",{value:"partner",children:"\u041f\u0430\u0440\u0442\u043d\u0435\u0440"}),Object(r.jsx)("option",{value:"support",children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{className:"fs-5 col-sm-4 col-form-label",children:"\u0420\u043e\u043b\u044c"}),Object(r.jsx)("div",{className:"col-sm-8 input-group",children:Object(r.jsxs)("select",{defaultValue:" ",onChange:function(e){Q.role=e.target.value},required:!0,className:"form-control",children:[Object(r.jsx)("option",{defaultValue:!0}),Z]})})]})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})]})]})})})]})})),I=n(344),R=(n(252),[379,700,1024,565].map((function(e){return"@media (max-width: ".concat(e,"px)")}))),D=O.a.div((o={height:"100vh",backgroundColor:"#fff",zIndex:"99",width:"230px",padding:".5rem 1rem"},Object(u.a)(o,R[3],{width:"99px"}),Object(u.a)(o,"h5",(c={whiteSpace:"nowrap",textOverflow:"clip",overflow:"hidden",margin:"auto 0"},Object(u.a)(c,R[3],{display:"none"}),Object(u.a)(c,R[0],{fontSize:"17px"}),c)),Object(u.a)(o,"section",{width:"100%"}),Object(u.a)(o,"div",(a={marginBottom:"10px",transition:"0.2s",overflow:"hidden",padding:"12px 17px",borderRadius:"12px","&:hover":{transition:"0.2s",backgroundColor:"#DEF2FF",i:{color:"#0099FF"}}},Object(u.a)(a,R[3],{margin:"0 auto",marginBottom:"10px","modal-footer":{alignItems:"initial"}}),Object(u.a)(a,R[2],{backgroundColor:"#DEF2FF",i:{color:"#0099FF"}}),a)),Object(u.a)(o,"i",(s={marginRight:"17px",color:"#91A8B0"},Object(u.a)(s,R[0],{marginRight:"9px"}),Object(u.a)(s,R[3],{margin:"0px"}),s)),Object(u.a)(o,"a",{color:"#91A8B0"}),Object(u.a)(o,"#UploadPupils",{backgroundColor:"#fff","&:hover":{backgroundColor:"#fff"},padding:"0",".css-7hkkzb":{padding:"0",margin:"0 auto"},div:{"&:hover":{backgroundColor:"#fff"}}}),o)),M=function(e){var t=e.sitdebarClass,n=e.setUrl;return Object(r.jsx)(D,{className:"Sidebar modernSidebar-nav header navbar ".concat(t),children:Object(r.jsxs)("section",{children:[Object(r.jsx)("div",{className:"d-flex",children:Object(r.jsxs)(j.b,{onClick:n,className:"d-flex",style:{textDecoration:"none"},to:"/",children:[Object(r.jsx)("i",{className:"bi bi-person-circle",style:{fontSize:"35px"}}),Object(r.jsx)("h5",{children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442\u044b"})]})}),Object(r.jsx)("div",{className:"d-flex",children:Object(r.jsxs)(j.b,{onClick:n,className:"d-flex",style:{textDecoration:"none"},to:"/subscriptions",children:[Object(r.jsx)("i",{className:"bi bi-tags-fill",style:{fontSize:"33px"}}),Object(r.jsx)("h5",{children:"\u0410\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442\u044b"})]})}),Object(r.jsx)("div",{className:"d-flex",children:Object(r.jsxs)(j.b,{onClick:n,className:"d-flex",style:{textDecoration:"none"},to:"/teacher",children:[Object(r.jsx)("i",{className:"bi bi-person-plus-fill",style:{fontSize:"35px"}}),Object(r.jsx)("h5",{children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044f"})]})}),Object(r.jsx)("div",{className:"d-flex",children:Object(r.jsxs)(j.b,{className:"d-flex",style:{textDecoration:"none"},to:"/sales-funnel",children:[Object(r.jsx)("i",{className:"bi bi-funnel-fill",style:{fontSize:"35px"}}),Object(r.jsx)("h5",{children:"\u0412\u043e\u0440\u043e\u043d\u043a\u0430 \u043f\u0440\u043e\u0434\u0430\u0436"})]})}),Object(r.jsx)("div",{className:"d-flex",children:Object(r.jsxs)(j.b,{onClick:n,className:"d-flex",style:{textDecoration:"none"},to:"/allemployees",children:[Object(r.jsx)("i",{className:"bi bi-person-lines-fill",style:{fontSize:"35px"}}),Object(r.jsx)("h5",{children:"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"})]})}),Object(r.jsx)("div",{className:"d-flex",children:Object(r.jsxs)(j.b,{className:"d-flex",style:{textDecoration:"none"},to:"/roleCreation",children:[Object(r.jsx)(I.a,{style:{fontSize:"35px",padding:"0px 18px 0 0"}}),Object(r.jsx)("h5",{children:"\u0420\u043e\u043b\u0438"})]})})]})})},z=(n(256),function(e){var t=e.setWidthMenu,n=(e.children,e.iconR),c=e.setInon,a=O.a.div({backgroundColor:"#fff",borderBottom:"4px solid #EFF5F7"});return Object(r.jsx)(a,{className:"d-flex bd-highlight",children:Object(r.jsx)("div",{className:"burger w-100 bd-highlight",children:Object(r.jsx)("div",{className:"box-i",children:Object(r.jsx)("i",{onClick:function(){"iconR"==n?(c("iconR-revers"),t("width100")):(c("iconR"),t("width50"))},className:"bi bi-arrow-left ".concat(n),style:{fontSize:"34px",color:"#91A8B0"}})})})})}),L=function(){var e=Object(i.useState)("width50"),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)("iconR"),s=Object(m.a)(a,2),o=s[0],l=s[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(z,{iconR:o,setInon:l,setWidthMenu:c}),Object(r.jsx)(M,{setUrl:function(){c("width50"),l("iconR")},sitdebarClass:n})]})},B=n(42),q=function(e){var t=e.getSubsc_on,n="",c="";return Object(r.jsx)("div",{className:"addSubscriptions col-2 row",children:Object(r.jsxs)("div",{className:"btn-group",children:[Object(r.jsx)("i",{id:"dropdownMenuReference","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-reference":"parent",className:"bi bi-calendar2-plus",style:{fontSize:"26px",color:"#28a745",cursor:"pointer",marginBottom:".5rem"}}),Object(r.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuReference",children:[Object(r.jsx)("li",{className:"li",children:Object(r.jsx)("input",{placeholder:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c",onChange:function(e){n=e.target.value},type:"number",className:"text-success form-control col-12"})}),Object(r.jsx)("li",{className:"li",children:Object(r.jsx)("input",{placeholder:"\u041a\u043e\u043b. \u0447\u0430\u0441\u043e\u0432",onChange:function(e){c=e.target.value},type:"number",className:"text-dark form-control col-12"})}),Object(r.jsx)("li",{className:"li",children:Object(r.jsx)("span",{onClick:function(){T("\u0410\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f");var e="\u0447\u0430\u0441\u0430";+c%10>4||+c%10==0?e="\u0447\u0430\u0441\u043e\u0432":+c%10==1&&(e="\u0447\u0430\u0441"),B({method:"post",url:"".concat(h,"/AdminPanel/Subscriptions"),headers:{"Content-Type":"application/json;charset=utf-8"},data:{name:"".concat(n,"\u20bd \u0437\u0430 ").concat(c," ").concat(e),price:+n,hoursCount:+c}}).then((function(e){console.log(e.data,e),console.log(n,c),t(),document.querySelectorAll("input").forEach((function(e){e.value=""}))}))},className:"badge bg-warning text-dark",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})})},W=function(){var e=Object(i.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],a=function(){fetch("".concat(h,"/AdminPanel/Subscriptions"),{method:"GET",header:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8"}}).then((function(e){return e.json()})).then((function(e){k(),c(e)}))};Object(i.useEffect)((function(){a()}),[]);var s=n.map((function(e){var t=e._id,n=e.name,c=e.price,s=e.hoursCount;return Object(r.jsxs)("div",{className:"card card-subscriptions",style:{width:"18rem"},children:[Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("h5",{className:"card-title",children:n})}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item",children:[c," \u20bd"]}),Object(r.jsxs)("li",{className:"list-group-item",children:[s," \u0447\u0430\u0441\u043e\u0432"]})]}),Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("span",{onClick:function(){T("\u0410\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f"),fetch("".concat(h,"/AdminPanel/Subscriptions/").concat(e._id),{method:"DELETE",header:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8"}}).then((function(e){a()}))},className:"delete-abic card-link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)}));return Object(r.jsxs)("div",{className:"subscriptions container",children:[Object(r.jsx)("h3",{children:"\u0410\u0431\u043e\u043d\u0435\u043c\u0435\u043d\u0442\u044b"}),Object(r.jsx)(q,{getSubsc_on:a}),Object(r.jsx)("div",{className:"row",children:s})]})},H=n(9),G=n(42),U=function(e){var t=e.setTeacherObj,n=e.TeacherObj,c=Object(i.useState)([]),a=Object(m.a)(c,2),s=a[0],o=a[1],l={name:"",surname:"",midname:"",login:"",subject:"",accountType:"teacher",role:""};Object(i.useEffect)((function(){G({method:"get",url:"".concat(h,"/AdminPanel/Roles"),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){o(e.data)})).catch((function(e){e.response}))}),[]);var d=s.map((function(e){return Object(r.jsx)("option",{value:e._id,children:e.name},e._id)}));return Object(r.jsx)("div",{className:"modal fade",tabIndex:"-1",id:"exampleModal",children:Object(r.jsx)("div",{className:"modal-dialog modal-lg",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0438\u0442\u0435\u043b\u044f"}),Object(r.jsx)("button",{onClick:function(){},type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsx)("div",{className:"alert-modal"}),Object(r.jsxs)("form",{method:"post",onSubmit:function(e){T("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),G({method:"post",url:"".concat(h,"/AdminPanel/CRMAccounts"),headers:{"Content-Type":"application/json;charset=utf-8"},data:l}).then((function(e){e.data.data;t([].concat(Object(H.a)(n),[l])),k(),document.querySelector(".btn-close").click(),document.querySelectorAll("input").forEach((function(e){e.value=""}))})).catch((function(e){e.response&&(document.querySelectorAll("input").forEach((function(e){e.value=""})),document.querySelectorAll("select").forEach((function(e){e.value=""})),400==e.response.status?S("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430","\u041d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"):k())})),e.preventDefault()},children:[Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputName",className:"fs-5 col-sm-2 col-form-label",children:"\u0418\u043c\u044f"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){l.name=e.target.value},autoComplete:"off",required:!0,type:"name",name:"name",className:"form-control",id:"inputname"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputSirname",className:"fs-5 col-sm-2 col-form-label",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){l.surname=e.target.value},autoComplete:"off",required:!0,type:"name",name:"surname",className:"form-control",id:"inputSirname"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputMidname",className:"fs-5 col-sm-2 col-form-label",children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){l.midname=e.target.value},autoComplete:"off",required:!0,type:"name",name:"midname",className:"form-control",id:"inputMidname"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputLogin",className:"fs-5 col-sm-2 col-form-label",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){l.login=e.target.value},autoComplete:"off",required:!0,type:"name",name:"login",className:"form-control",id:"inputLogin"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"inputPassword3",className:"fs-5 col-sm-2 col-form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)("input",{onChange:function(e){l.password=e.target.value},autoComplete:"off",required:!0,type:"password",name:"password",className:"form-control",id:"inputPassword3"})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{className:"fs-5 col-sm-4 col-form-label",children:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442"}),Object(r.jsx)("div",{className:"col-sm-8 input-group",children:Object(r.jsxs)("select",{defaultValue:" ",onChange:function(e){l.subject=e.target.value},className:"form-control",id:"inputGroupSelect01",children:[Object(r.jsx)("option",{defaultValue:!0,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043c\u0435\u0442..."}),Object(r.jsx)("option",{value:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(r.jsx)("option",{value:"\u0414\u0438\u0437\u0430\u0439\u043d",children:"\u0414\u0438\u0437\u0430\u0439\u043d"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{className:"fs-5 col-sm-4 col-form-label",children:"\u0420\u043e\u043b\u044c"}),Object(r.jsx)("div",{className:"col-sm-8 input-group",children:Object(r.jsxs)("select",{defaultValue:" ",onChange:function(e){l.role=e.target.value},className:"form-control",id:"inputGroupSelect01",children:[Object(r.jsx)("option",{defaultValue:!0}),d]})})]})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})]})]})})})},V=function(){var e=Object(i.useState)(0),t=Object(m.a)(e,2),c=t[0],a=t[1],s=Object(i.useState)(1),o=Object(m.a)(s,2),l=o[0],d=o[1],u=n(42),j=Object(i.useState)([]),b=Object(m.a)(j,2),p=b[0],f=b[1],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u({method:"get",url:"".concat(h,"/AdminPanel/CRMAccounts?limit=10&offset=").concat(e,"&accountType=teacher"),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){var t=e.data;d(e.headers.count),f(t)})).catch((function(e){e.response&&S("\u041e\u0448\u0438\u0431\u043a\u0430","")}))};Object(i.useEffect)((function(){x()}),[]);var g=p.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"td-trash",scope:"row",children:Object(r.jsx)("i",{onClick:function(){fetch("".concat(h,"/AdminPanel/CRMAccounts/").concat(e.login),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){console.log(e)})).then((function(){x()}))},className:"bi bi-trash",style:{fontSize:"30px",color:"#F56767"}})}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.name}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.surname}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.midname}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.login}),Object(r.jsx)("td",{className:"align-middle td-use",children:e.subject})]},e.login)})),y=O.a.div({".h3Ac, .boxAdd":{display:"inline-block"},".boxAdd":{marginLeft:"10px"}});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(y,{className:"container",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"table_user",children:[Object(r.jsx)("h3",{className:"h3Ac",children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044f"}),Object(r.jsx)("div",{className:"boxAdd",children:Object(r.jsxs)("div",{className:"d-flex plus-box",children:[Object(r.jsx)("i",{className:"bi bi-people",style:{fontSize:"30px",color:"#0498FA"}}),Object(r.jsx)("div",{onClick:function(){},className:"nav-item plus","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:Object(r.jsx)("i",{className:"bi bi-plus",style:{fontSize:"30px",color:"#F56767"}})})]})}),Object(r.jsxs)("table",{className:"table table-striped",children:[Object(r.jsx)("thead",{className:"thead-table",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"th-h",scope:"col"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0418\u043c\u044f"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(r.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442"})]})}),Object(r.jsx)("tbody",{children:g})]})]}),Object(r.jsx)(v,{getItem:x,count:l,offset:c,setOffset:a})]})}),Object(r.jsx)(U,{setTeacherObj:f,TeacherObj:p})]})},J=n(3),X=n(334),Y=n(84);function K(){var e=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return K=function(){return e},e}var Q=O.a.div({padding:"0 15px"}),Z=O.a.div({display:"flex",span:{fontSize:"16px",borderRadius:"10px 0 0 10px"},input:{width:"200px",fontSize:"13px",borderRadius:"0 10px 10px 0",whiteSpace:"nowrap",overflow:"hidden"}}),$=(O.a.div(K()),n(103)),ee=n(337),te=n(46),ne=n(339);function ce(){var e=Object(Y.a)(["\n  width: 100%;\n  user-select: none;\n  .week {\n    td {\n      text-align: left;\n      background: #e6e3e3;\n    }\n    .white {\n      background: #fff;\n    }\n  }\n  .time {\n    background: #e6e3e3;\n  }\n  td {\n    padding: 10px;\n    //box-sizing: border-box;\n    width: 12.5%;\n    height: 50px;\n    text-align: right;\n    border-top: 1px solid #f0f0f0;\n    border-right: 1px solid #f0f0f0;\n  }\n"]);return ce=function(){return e},e}function ae(){var e=Object(Y.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  thead {\n    background: #fff;\n  }\n"]);return ae=function(){return e},e}var se=O.a.div(ae()),oe=O.a.table(ce()),re=n(42),ie=n.n(re),le=function(e){var t=e.title,n=e.id,c=e.initial_workHours,a=c||{hour8:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour9:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour10:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour11:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour12:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour13:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour14:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour15:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour16:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour17:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour18:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour19:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour20:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour21:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1}},s=Object(i.useState)(!1),o=Object(m.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(!1),j=Object(m.a)(u,2),b=j[0],p=j[1],f=Object(i.useState)(!1),x=Object(m.a)(f,2),O=x[0],g=x[1],v=Object(i.useState)(JSON.parse(JSON.stringify(a))),y=Object(m.a)(v,2),N=y[0],S=y[1],C=N.hour8,w=N.hour9,T=N.hour10,k=N.hour11,A=N.hour12,_=N.hour13,E=N.hour14,P=N.hour15,I=N.hour16,R=N.hour17,D=N.hour18,M=N.hour19,z=N.hour20,L=N.hour21,B=[],q=[],W=[],H=[],G=[],U=[],V=[],X=[],Y=[],K=[],Q=[],Z=[],$=[],ee=[],ce=function e(t,n,c,s){c(!0),ie()({method:"PUT",url:"".concat(h,"/AdminPanel/WorkHours/").concat(n),headers:{"Content-Type":"application/json;charset=utf-8"},data:{workHours:t}}).then((function(e){c(!1),s(!b)})).catch((function(s){F((function(){return e(t,n,c)}),s,(function(){c(!1),S(a)}))}))},ae=function(e,t,n){var c=function(c){var a=function(){var e=Object(J.a)({},N);e[n][c]=!t[c],S(e)};e.push(Object(r.jsx)("td",{className:"td",onMouseDown:function(){g(!0),a()},onMouseUp:function(){g(!1)},onMouseOver:function(){O&&a()},style:{background:t[c]?"#13c2c2":"#fff"}},"".concat(c).concat(t)))};for(var a in t)c(a)};return ae(B,C,"hour8"),ae(q,w,"hour9"),ae(W,T,"hour10"),ae(H,k,"hour11"),ae(G,A,"hour12"),ae(U,_,"hour13"),ae(V,E,"hour14"),ae(X,P,"hour15"),ae(Y,I,"hour16"),ae(K,R,"hour17"),ae(Q,D,"hour18"),ae(Z,M,"hour19"),ae($,z,"hour20"),ae(ee,L,"hour21"),Object(r.jsxs)(se,{children:[Object(r.jsx)("p",{children:t}),Object(r.jsx)(te.a,{onClick:function(){p(!b)},size:"small",type:"link",children:"\u0420\u0430\u0431\u043e\u0447\u0435\u0435 \u0432\u0440\u0435\u043c\u044f"}),Object(r.jsx)(ne.a,{width:1e3,title:"\u0420\u0430\u0431\u043e\u0447\u0435\u0435 \u0432\u0440\u0435\u043c\u044f",visible:b,onCancel:function(){return p(!b)},footer:Object(r.jsx)(te.a,{type:"primary",loading:l,onClick:function(){ce(N,n,d,p)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),children:Object(r.jsx)("div",{style:{padding:"20px"},onMouseOver:function(e){O&&"td"!==e.target.classList[0]&&g(!1)},children:Object(r.jsx)(oe,{children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{className:"week",children:[Object(r.jsx)("td",{className:"white"}),Object(r.jsx)("td",{children:"\u041f\u043d"}),Object(r.jsx)("td",{children:"\u0412\u0442"}),Object(r.jsx)("td",{children:"\u0421\u0440"}),Object(r.jsx)("td",{children:"\u0427\u0442"}),Object(r.jsx)("td",{children:"\u041f\u0442"}),Object(r.jsx)("td",{children:"\u0421\u0431"}),Object(r.jsx)("td",{children:"\u0412\u0441"})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"08:00"}),B]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"09:00"}),q]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"10:00"}),W]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"11:00"}),H]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"12:00"}),G]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"13:00"}),U]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"14:00"}),V]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"15:00"}),X]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"16:00"}),Y]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"17:00"}),K]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"18:00"}),Q]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"19:00"}),Z]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"20:00"}),$]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{className:"time",children:"21:00"}),ee]})]})})})})]})},de=n(115),ue=n(336);function je(){var e=Object(Y.a)(["\n  .submit {\n    margin: 0;\n    .ant-form-item-control-input-content {\n      display: flex;\n      justify-content: right;\n    }\n  }\n  .ant-form-item-label {\n    display: flex;\n  }\n"]);return je=function(){return e},e}var be=O.a.div(je()),me=function e(t,n,c){ie()({method:"PATCH",url:"".concat(h,"/AdminPanel/CRMAccounts/").concat(t),headers:{"Content-Type":"application/json;charset=utf-8"},data:n}).then((function(e){c(e.data)})).catch((function(t){F(e,t)}))},he=function(e,t,n,c,a,s){c(),me(t,e,(function(e){a(e),w.fire({icon:"success",title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"}),s(),c()}))},pe=de.a.Option,fe="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c!",xe=function(e){var t=e.label,n=e.name;return Object(r.jsx)(ue.a.Item,{label:t,name:n,rules:[{required:!0,message:fe}],children:Object(r.jsx)(ee.a,{})})},Oe={editAccount:function(e){return{type:"EDIT_ACCOUNT",payload:e}},setButtonState:function(){return{type:"SET_BUTTON_STATE"}}},ge=Object(p.b)((function(e){return{Roles:e.roles,loading_button:e.loading_button}}),Oe)((function(e){var t=e.visible,n=e.account,c=e.changeVisibility,a=e.Roles,s=e.editAccount,o=e.loading_button,i=e.setButtonState,l=n.surname,d=n.name,u=n.midname,j=n.login,b=n.accountType,m=n.role,h=n.subject,p=n._id;return Object(r.jsx)(ne.a,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",visible:t,onCancel:c,cancelButtonProps:{style:{display:"none"}},okButtonProps:{style:{display:"none"}},footer:!1,children:Object(r.jsx)(be,{children:Object(r.jsxs)(ue.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{surname:l,name:d,midname:u,login:j,accountType:b,subject:h,role:m?m._id:""},onFinish:function(e){he(e,p,0,i,s,c)},autoComplete:"off",children:[Object(r.jsx)(xe,{label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname"}),Object(r.jsx)(xe,{label:"\u0418\u043c\u044f",name:"name"}),Object(r.jsx)(xe,{label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",name:"midname"}),Object(r.jsx)(xe,{label:"Login",name:"login"}),Object(r.jsx)(ue.a.Item,{name:"accountType",label:"\u0422\u0438\u043f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",rules:[{required:!0,message:fe}],children:Object(r.jsxs)(de.a,{placeholder:"\u0427\u0435\u043c \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a?",allowClear:!0,children:[Object(r.jsx)(pe,{value:"admin",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}),Object(r.jsx)(pe,{value:"manager",children:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),Object(r.jsx)(pe,{value:"teacher",children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044c"}),Object(r.jsx)(pe,{value:"senior-teacher",children:"\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c"}),Object(r.jsx)(pe,{value:"partner",children:"\u041f\u0430\u0440\u0442\u043d\u0435\u0440"}),Object(r.jsx)(pe,{value:"support",children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"})]})}),Object(r.jsx)(ue.a.Item,{name:"role",label:"\u0420\u043e\u043b\u044c",rules:[{required:!0,message:fe}],children:Object(r.jsx)(de.a,{placeholder:"\u041a\u0430\u043a\u0438\u0435 \u043f\u0440\u0430\u0432\u0430 \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430?",allowClear:!0,children:a.map((function(e){return Object(r.jsx)(pe,{value:e._id,children:e.name},e._id)}))})}),Object(r.jsx)(ue.a.Item,{style:{display:"teacher"===b?"":"none"},name:"subject",label:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442",rules:[{required:"teacher"===b,message:fe}],children:Object(r.jsxs)(de.a,{placeholder:"\u0415\u0441\u043b\u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u0442\u0435 \u0443\u0447\u0438\u0442\u0435\u043b\u044f...",allowClear:!0,children:[Object(r.jsx)(pe,{value:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"}),Object(r.jsx)(pe,{value:"\u0414\u0438\u0437\u0430\u0439\u043d",children:"\u0414\u0438\u0437\u0430\u0439\u043d"})]})}),Object(r.jsxs)(ue.a.Item,{className:"submit",wrapperCol:{offset:8,span:16},children:[Object(r.jsx)(te.a,{style:{marginRight:"10px"},onClick:c,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(r.jsx)(te.a,{type:"primary",htmlType:"submit",loading:o,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})})})),ve=function(e){var t=e.account,n=Object(i.useState)(!1),c=Object(m.a)(n,2),a=c[0],s=c[1],o=function(){return s(!a)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(te.a,{onClick:o,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(r.jsx)(ge,{changeVisibility:o,visible:a,account:t})]})},ye=function(){return[{key:"surname",dataIndex:"surname",title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"},{key:"name",dataIndex:"name",title:"\u0418\u043c\u044f"},{key:"midname",dataIndex:"midname",title:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"},{key:"login",dataIndex:"login",title:"\u041b\u043e\u0433\u0438\u043d"},{key:"work_time_base",dataIndex:"work_time_base",title:"\u0422\u0438\u043f \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",render:function(e){return"teacher"!==e.accountType?Object(r.jsx)("p",{children:e.accountType}):Object(r.jsx)(le,{title:e.accountType,id:e._id,initial_workHours:e.workHours})}},{key:"role",dataIndex:"role",title:"\u0420\u043e\u043b\u044c",render:function(e){if(e){var t=e.name,n=e.actionPermissions,c=e.dataPermissions,a=[].concat(Object(H.a)(n.map((function(e,t){switch(e){case 0:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443";case 1:return"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443";case 2:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443";case 3:return"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f";case 4:return"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0433\u0440\u0443\u043f\u043f\u044b";case 5:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b";case 6:return"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432";case 7:return"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443";case 8:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b";case 9:return"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0438\u0442\u0435\u043b\u044f";case 10:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 11:return"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 12:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 13:return"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432";case 14:return"\u0417\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 15:return"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b";case 16:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436";case 17:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443";case 18:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443";case 19:return"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0438\u0441\u043a";default:return}}))),Object(H.a)((s=c,Object.keys(Object(J.a)(Object(J.a)({},s.forPupil),s.forGroup)).map((function(e){switch(e){case"phone":return"\u0422\u0435\u043b\u0435\u0444\u043e\u043d";case"parentPhone":return"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d";case"parentNSM":return"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u044b";case"balance":return"\u0411\u0430\u043b\u0430\u043d\u0441";case"discord":return"Discord";case"paymentHistory":return"\u0418\u0441\u0442\u043e\u0440\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439";case"notes":return"\u0417\u0430\u043c\u0435\u0442\u043a\u0438";case"groupsHistory":return"\u0418\u0441\u0442\u043e\u0440\u0438\u044e \u0433\u0440\u0443\u043f\u043f";case"groups":return"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f";case"tutors":return"\u0423\u0447\u0438\u0442\u0435\u043b\u044f";case"localSchedule":return"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435";case"GROUP_NAME":return"\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b";case"LEVEL":return"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0433\u0440\u0443\u043f\u043f\u044b";case"TUTOR":return"\u0423\u0447\u0438\u0442\u0435\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b";case"PUPILS":return"\u0423\u0447\u0435\u043d\u0438\u043a\u0438 \u0433\u0440\u0443\u043f\u043f\u044b";case"PLACES":return"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435";case"GLOBAL_SCHEDULE":return"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b";case"name":return"\u0418\u043c\u044f \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case"midname":return"\u0424\u0430\u043c\u0438\u043b\u0438\u044e \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case"surname":return"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0447\u0435\u043d\u0438\u043a\u0430";default:return}})))));return Object(r.jsxs)(Z,{children:[Object(r.jsxs)("span",{className:"badge bg-info text-dark",children:[t,":"]}),Object(r.jsx)($.a,{placement:"leftTop",title:a.join(", "),children:Object(r.jsx)(ee.a,{placeholder:a.join(", "),readOnly:"readonly"})})]})}var s}},{key:"account_editing",dataIndex:"account_editing",title:"",render:function(e){return Object(r.jsx)(ve,{account:e})}}]},Ne=n(42),Se={updateAllEmployees:function(e){return{type:"ALL_EMPLOYEES_DATA",payload:e}}},Ce=Object(p.b)((function(e){return{data:e.all_employees_data}}),Se)((function(e){var t=e.data,n=e.updateAllEmployees,c=function(e){var t="";return e.forEach((function(e){t+="&accountType=".concat(e)})),t};Object(i.useEffect)((function(){document.querySelectorAll(".ant-table-cell")[4].style.width="300px"})),Object(i.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Ne({method:"get",url:"".concat(h,"/AdminPanel/CRMAccounts?limit=10&offset=").concat(e).concat(c(["admin","manager","teacher","senior-teacher","partner","support"])),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){n(e.data)}))}()}),[]);var a=t.map((function(e){var t=e._id,n=e.accountType,c=e.workHours;return Object(J.a)(Object(J.a)({},e),{},{key:t,account_editing:e,work_time_base:{workHours:c,accountType:n,_id:t}})}));return Object(r.jsx)(Q,{children:Object(r.jsx)(X.a,{pagination:!1,dataSource:a,columns:Object(H.a)(ye()),scroll:{x:0}})})})),we=n(333),Te=n(65),ke=n(335),Ae=n(342),_e=n(338),Fe=n(341),Ee=n(107),Pe=n(346),Ie=n(343),Re=[["\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",0],["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",1],["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",2],["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f",3],["\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0433\u0440\u0443\u043f\u043f\u044b",4],["\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",5],["\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432",6],["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443",7],["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b",8],["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0438\u0442\u0435\u043b\u044f",9],["\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430",10],["\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430",11],["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430",12],["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432",13],["\u0417\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0443\u0447\u0435\u043d\u0438\u043a\u0430",14],["\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b",15],["\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436",16],["\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",17],["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443",18],["\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0438\u0441\u043a",19],["\u0412\u043e\u0440\u043e\u043d\u043a\u0430 \u043f\u0440\u043e\u0434\u0430\u0436",20]],De=[["\u0422\u0435\u043b\u0435\u0444\u043e\u043d","phone"],["\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","parentPhone"],["\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f","groups"],["\u0411\u0430\u043b\u0430\u043d\u0441","balance"],["Discord","discord"],["\u0418\u0441\u0442\u043e\u0440\u0438\u044e \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439","paymentHistory"],["\u0417\u0430\u043c\u0435\u0442\u043a\u0438","notes"],["\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430","localSchedule"],["\u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0418\u043c\u044f, \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f","parentFullname"],["\u042d\u0442\u0430\u043f \u0432\u043e\u0440\u043e\u043d\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0436","salesFunnelStep"],["\u0412\u043e\u0437\u0440\u0430\u0441\u0442","dateOfBirth"],["\u041f\u043e\u043b","gender"],["\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0443\u0447\u0435\u043d\u0438\u043a\u0430","tutors"],["\u0421\u0442\u0430\u0442\u0443\u0441\u044b","statuses"]],Me=[["\u0418\u0441\u0442\u043e\u0440\u0438\u044e \u0433\u0440\u0443\u043f\u043f","groupsHistory"],["\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b","group_name"],["\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0433\u0440\u0443\u043f\u043f\u044b","level"],["\u0423\u0447\u0438\u0442\u0435\u043b\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b","tutor"],["\u0423\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0433\u0440\u0443\u043f\u043f\u044b","pupils"],["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435","places"],["\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b","global_schedule"]],ze=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};n(!0),ie()({method:"get",url:"".concat(h,"/AdminPanel/Roles"),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){n(!1),t(e.data)})).catch((function(t){F(e,t,(function(){n(!1)}))}))},Le=function e(t,n,c,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){},i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){},l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"\u0441\u043e\u0437\u0434\u0430\u043d\u0430",d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"post",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"";Object.keys(Object(J.a)({},t)).length&&n?(i(!0),ie()({method:d,url:"".concat(h,"/AdminPanel/Roles/").concat(u),headers:{"Content-Type":"application/json;charset=utf-8"},data:{name:n,actionPermissions:Object.values(t),dataPermissions:Object(J.a)({},c)}}).then((function(e){var t=e.data,n=[].concat(Object(H.a)(o),[t]);C("\u0413\u043e\u0442\u043e\u0432\u043e",'\u0420\u043e\u043b\u044c "'.concat(t.name,'" ').concat(l)),r(u?t:n),i(!1)})).catch((function(t){F(e,t,(function(){i(!1)}))})),a(!1)):(S("\u041e\u0439...","\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),s(n))},Be=function(e){var t=e.dataRole,c=e.setDataRole,a=e.setSkeletonShow,s=(n(42),Object(i.useState)(!1)),o=Object(m.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(""),j=Object(m.a)(u,2),b=j[0],h=j[1],p={},f={forPupil:{phone:void 0,parentPhone:void 0,parentNSM:void 0,balance:void 0,discord:void 0,paymentHistory:void 0,notes:void 0,localSchedule:void 0,groups:void 0,name:1,surname:1,midname:1,statuses:void 0},forGroup:{groupsHistory:void 0,tutors:void 0,group_name:void 0,level:void 0,tutor:void 0,pupils:void 0,places:void 0,global_schedule:void 0}},x=b,g=Re.map((function(e){return Object(r.jsxs)(Ae.b.Item,{children:[e[0],Object(r.jsx)(Ie.a,{onChange:function(t){t?p[e[0]]=e[1]:delete p[e[0]]},style:{position:"absolute",right:"15px"}})]},e[1])})),v=De.map((function(e){return Object(r.jsxs)(Ae.b.Item,{children:[e[0],Object(r.jsx)(Ie.a,{onChange:function(t){f.forPupil[e[1]]=t?1:void 0},style:{position:"absolute",right:"15px"}})]},e[1])})),y=Me.map((function(e){return Object(r.jsxs)(Ae.b.Item,{children:[e[0],Object(r.jsx)(Ie.a,{onChange:function(t){f.forGroup[e[1]]=t?1:void 0},style:{position:"absolute",right:"15px"}})]},e[1])})),N=O.a.div({display:"inline","& > button":{marginLeft:"10px",fontSize:"13px",height:"30px"}});return Object(r.jsxs)(N,{children:[Object(r.jsx)(te.a,{type:"primary",onClick:function(){d(!0),h("")},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u043e\u043b\u044c"}),Object(r.jsx)(ne.a,{width:1e3,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438",visible:l,onOk:function(){Le(p,x,f,d,h,t,c,a)},onCancel:function(){d(!1)},children:Object(r.jsxs)(Ae.b,{size:"small",bordered:!1,children:[Object(r.jsxs)(Ae.b.Item,{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438: ",Object(r.jsx)(ee.a,{onChange:function(e){x=e.target.value},defaultValue:b})]}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsxs)("div",{className:"boxLeft col-6",style:{position:"relative"},children:[Object(r.jsx)(Ae.b.Item,{style:{fontSize:"16px",fontWeight:"500"},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0451\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:"}),g]}),Object(r.jsxs)("div",{className:"boxRights col-6",children:[Object(r.jsx)(Ae.b.Item,{style:{fontSize:"16px",fontWeight:"500"},children:"\u041c\u043e\u0436\u043d\u043e \u0432\u0438\u0434\u0435\u0442\u044c:"}),v,y]})]})]})})]})},qe=n(345),We=function(e,t){return Re.map((function(n){var c=!1;return e.actionPermissions.forEach((function(e){e!=n[1]||c||(c=!0,t[n[0]]=n[1])})),Object(r.jsxs)(Ae.b.Item,{children:[n[0],Object(r.jsx)(Ie.a,{defaultChecked:c,onChange:function(e){e?t[n[0]]=n[1]:delete t[n[0]]},style:{position:"absolute",right:"15px"}})]},n[1])}))},He=function(e,t){return De.map((function(n){var c=!1;for(var a in e.dataPermissions.forPupil)a!=n[1]||c||(c=!0,t.forPupil[n[1]]=1);return Object(r.jsxs)(Ae.b.Item,{children:[n[0],Object(r.jsx)(Ie.a,{defaultChecked:c,onChange:function(e){t.forPupil[n[1]]=e?1:void 0},style:{position:"absolute",right:"15px"}})]},n[1])}))},Ge=function(e,t){return Me.map((function(n){var c=!1;for(var a in e.dataPermissions.forGroup)a!=n[1]||c||(c=!0,t.forGroup[n[1]]=1);return Object(r.jsxs)(Ae.b.Item,{children:[n[0],Object(r.jsx)(Ie.a,{defaultChecked:c,onChange:function(e){t.forGroup[n[1]]=e?1:void 0},style:{position:"absolute",right:"15px"}})]},n[1])}))},Ue=function(e){var t=e.Roles,n=e.setRoles,c=e.setSkeletonShow,a=e.name_role,s=e.role,o=Object(i.useState)(!1),l=Object(m.a)(o,2),d=l[0],u=l[1],j={},b={forPupil:{phone:void 0,parentPhone:void 0,parentNSM:void 0,balance:void 0,discord:void 0,paymentHistory:void 0,notes:void 0,localSchedule:void 0,groups:void 0,name:1,surname:1,midname:1,statuses:void 0},forGroup:{groupsHistory:void 0,tutors:void 0,group_name:void 0,level:void 0,tutor:void 0,pupils:void 0,places:void 0,global_schedule:void 0}},h=a;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(qe.a,{style:{fontSize:"20px",position:"absolute",top:"19px",right:"55px"},onClick:function(){u(!0)}}),Object(r.jsx)(ne.a,{width:1e3,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u043e\u043b\u044c: ".concat(a),visible:d,onCancel:function(){u(!1)},onOk:function(){Le(j,h,b,u,(function(){}),t,(function(e){var c=0;t.forEach((function(e,t){e._id===s._id&&(c=t)}));var a=Object(H.a)(t);a.splice(c,1,e),n(a)}),c,"\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430","PATCH",s._id)},children:Object(r.jsxs)(Ae.b,{size:"small",bordered:!1,children:[Object(r.jsxs)(Ae.b.Item,{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0438:",Object(r.jsx)(ee.a,{onChange:function(e){h=e.target.value},defaultValue:a})]}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsxs)("div",{className:"boxLeft col-6",style:{position:"relative"},children:[Object(r.jsx)(Ae.b.Item,{style:{fontSize:"16px",fontWeight:"500"},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0451\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:"}),We(s,j)]}),Object(r.jsxs)("div",{className:"boxRights col-6",children:[Object(r.jsx)(Ae.b.Item,{style:{fontSize:"16px",fontWeight:"500"},children:"\u041c\u043e\u0436\u043d\u043e \u0432\u0438\u0434\u0435\u0442\u044c:"}),He(s,b),Ge(s,b)]})]})]})})]})},Ve=we.a.Content,Je=n(42),Xe=Object(p.b)(f,x)((function(e){var t=e.Roles,n=e.addRoles,c=Object(i.useState)(!1),a=Object(m.a)(c,2),s=a[0],o=a[1];Object(i.useEffect)((function(){ze(n,o)}),[]);var l=t.map((function(e){var c=e.name,a=e.actionPermissions,i=e.dataPermissions,l=e._id;if(s)return Object(r.jsx)(_e.a,{active:!0},l);var d=a.map((function(e){switch(e){case 0:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443";case 1:return"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443";case 2:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443";case 3:return"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f";case 4:return"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0433\u0440\u0443\u043f\u043f\u044b";case 5:return"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b";case 6:return"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432";case 7:return"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443";case 8:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b";case 9:return"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0438\u0442\u0435\u043b\u044f";case 10:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 11:return"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 12:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 13:return"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432";case 14:return"\u0417\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case 15:return"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b";case 16:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436";case 17:return"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443";case 18:return"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443";case 19:return"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0438\u0441\u043a";case 20:return"\u0412\u043e\u0440\u043e\u043d\u043a\u0430 \u043f\u0440\u043e\u0434\u0430\u0436";default:return"****"}})).map((function(e){return Object(r.jsx)(Ae.b.Item,{children:e},e)})),u=function(e){return Object.keys(Object(J.a)(Object(J.a)({},e.forPupil),e.forGroup)).map((function(e){switch(e){case"phone":return"\u0422\u0435\u043b\u0435\u0444\u043e\u043d";case"parentPhone":return"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d";case"balance":return"\u0411\u0430\u043b\u0430\u043d\u0441";case"discord":return"Discord";case"paymentHistory":return"\u0418\u0441\u0442\u043e\u0440\u0438\u044e \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439";case"notes":return"\u0417\u0430\u043c\u0435\u0442\u043a\u0438";case"groupsHistory":return"\u0418\u0441\u0442\u043e\u0440\u0438\u044e \u0433\u0440\u0443\u043f\u043f";case"groups":return"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f";case"tutors":return"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case"localSchedule":return"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435";case"group_name":return"\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b";case"level":return"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0433\u0440\u0443\u043f\u043f\u044b";case"tutor":return"\u0423\u0447\u0438\u0442\u0435\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b";case"pupils":return"\u0423\u0447\u0435\u043d\u0438\u043a\u0438 \u0433\u0440\u0443\u043f\u043f\u044b";case"places":return"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435";case"global_schedule":return"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b";case"name":return"\u0418\u043c\u044f \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case"midname":return"\u0424\u0430\u043c\u0438\u043b\u0438\u044e \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case"surname":return"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0447\u0435\u043d\u0438\u043a\u0430";case"parentFullname":return"\u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0418\u043c\u044f, \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f";case"salesFunnelStep":return"\u042d\u0442\u0430\u043f \u0432\u043e\u0440\u043e\u043d\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0436";case"dateOfBirth":return"\u0412\u043e\u0437\u0440\u0430\u0441\u0442";case"gender":return"\u041f\u043e\u043b";case"statuses":return"\u0421\u0442\u0430\u0442\u0443\u0441\u044b";default:return"****"}})).map((function(e){return Object(r.jsx)(Ae.b.Item,{children:e},e)}))}(i);return Object(r.jsx)(Te.a,{span:8,style:{position:"relative"},children:Object(r.jsxs)(ke.a,{title:c,bordered:!0,children:[Object(r.jsx)(Ue,{Roles:t,setRoles:n,setSkeletonShow:o,name_role:c,role:e}),Object(r.jsx)(Pe.a,{style:{color:"red",fontSize:"20px",position:"absolute",top:"19px",right:"22px"},onClick:function(){!function(e){o(!0),Je({method:"Delete",url:"".concat(h,"/AdminPanel/Roles/").concat(e),headers:{"Content-Type":"application/json;charset=utf-8"}}).then((function(e){ze(o)})).catch((function(e){e.response&&o(!1)}))}(l)}}),Object(r.jsxs)(Ae.b,{size:"small",bordered:!0,children:[Object(r.jsx)(Ae.b.Item,{style:{fontSize:"16px",fontWeight:"500"},children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0451\u043d\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:"}),d,Object(r.jsx)(Ae.b.Item,{style:{fontSize:"16px",fontWeight:"500"},children:"\u041c\u043e\u0436\u043d\u043e \u0432\u0438\u0434\u0435\u0442\u044c:"}),u]})]})},l)})),d=O.a.div({".ant-col":{padding:"10px"},".Possibilities":{fontWeight:"600",fontSize:"15px"},".ant-list-bordered":{border:"none"},".ant-card-head":{backgroundColor:"#e6696952"}});return Object(r.jsxs)(Ve,{style:{padding:"0 50px"},children:[Object(r.jsxs)(Fe.a,{style:{margin:"16px 0"},children:[Object(r.jsx)(Fe.a.Item,{children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}),Object(r.jsxs)(Fe.a.Item,{children:["\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0435\u0439",Object(r.jsx)(Be,{dataRole:t,setDataRole:n,setSkeletonShow:o})]})]}),Object(r.jsx)(d,{className:"site-layout-content",children:Object(r.jsx)("div",{className:"site-card-wrapper",children:Object(r.jsx)(Ee.a,{gutter:16,children:l})})})]})})),Ye=n(340),Ke=n(209),Qe=n(42),Ze={"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},$e=function e(t){Qe({method:"GET",url:"".concat(h,"/AdminPanel/SalesFunnel"),headers:Ze}).then((function(e){t(e.data)})).catch((function(t){F(e,t)}))},et=function e(t,n,c){t.name&&Qe({method:"POST",url:"".concat(h,"/AdminPanel/SalesFunnel"),headers:Ze,data:t}).then((function(e){c(e.data)})).catch((function(t){F(e,t,n)}))},tt=function e(t,n,c){var a=t.map((function(e){return{id:e.id,newOrder:e.order}}));Qe({method:"PUT",url:"".concat(h,"/AdminPanel/SalesFunnel"),headers:Ze,data:a}).then((function(e){c(e.data)})).catch((function(t){F(e,t,n)}))},nt=we.a.Content,ct=O.a.div({".cards":{boxSizing:"border-box",cursor:"grab",border:"3px solid #ABBED0",margin:"5px",borderRadius:"6px",background:"#DBF8F2",fontWeight:"600",fontSize:"18px",position:"relative",".anticon-delete":{color:"#FF0000",position:"absolute",top:"12px",fontSize:"21px",right:"16px"},".ant-badge":{position:"absolute",top:"-7px",left:"-10px",sup:{borderRadius:"6px",background:"#ABBED0"}}},".addCard":{cursor:"pointer",border:"none",padding:"0 0 0 8px",background:"#DBF8F2",input:{fontSize:"18px",padding:"8px 16px"},".anticon-plus":{color:"#FF0000",fontSize:"21px",marginRight:"8px"}}}),at=function(){document.querySelector("#Input_addCard").value=""},st=function(){var e=Object(i.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(null),s=Object(m.a)(a,2),o=s[0],l=s[1];function d(e){e.target.style.background="#DBF8F2"}Object(i.useEffect)((function(){document.querySelector("#Input_addCard").focus(),at()})),Object(i.useEffect)((function(){$e(c)}),[]);var u=function(e,t){var a=[];n.forEach((function(n){n.id!==e&&(t<n.order?a.push(Object(J.a)(Object(J.a)({},n),{},{order:n.order-1})):a.push(n))})),c(a),function(e,t){Qe({method:"DELETE",url:"".concat(h,"/AdminPanel/SalesFunnel/").concat(e),headers:Ze}).then().catch((function(e){F(tt,e,t)}))}(e,(function(){c(n)}))},j=n.sort((function(e,t){return e.order>t.order?1:-1})).map((function(e){return Object(r.jsxs)(Ae.b.Item,{onDragStart:function(t){return function(e,t){l(t)}(0,e)},onDragLeave:function(e){return d(e)},onDragEnd:function(e){return d(e)},onDragOver:function(e){return function(e){e.preventDefault(),e.target.style.background="#fff"}(e)},onDrop:function(t){return function(e,t){e.preventDefault();var a=n.map((function(e){return e.id===t.id?Object(J.a)(Object(J.a)({},e),{},{order:o.order}):e.id===o.id?Object(J.a)(Object(J.a)({},e),{},{order:t.order}):e}));c(a),tt(a,(function(){c(n)})),e.target.style.background="#DBF8F2"}(t,e)},draggable:!0,className:"cards",children:[Object(r.jsx)(Ye.a,{count:e.order}),e.name,Object(r.jsx)(Pe.a,{onClick:function(){u(e.id,e.order)}})]},e.id)})),b="",p=function(){if(b){var e=n.length+1,t=[].concat(Object(H.a)(n),[{id:Math.random(),order:e,name:b}]);c(t),et({name:b,order:e,background:"#001529",color:"#FFFFFF"},(function(){c(n)}),(function(e){c([].concat(Object(H.a)(n),[e]))}))}};return Object(r.jsxs)(nt,{style:{padding:"0 50px"},children:[Object(r.jsxs)(Fe.a,{style:{margin:"16px 0"},children:[Object(r.jsx)(Fe.a.Item,{children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}),Object(r.jsx)(Fe.a.Item,{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u0440\u043e\u043d\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0436"})]}),Object(r.jsx)(ct,{className:"site-layout-content",children:Object(r.jsx)("div",{className:"site-card-wrapper",children:Object(r.jsxs)(Ae.b,{size:"small",children:[Object(r.jsxs)(Ae.b.Item,{className:"cards addCard",onClick:p,children:[Object(r.jsx)(Ke.a,{}),Object(r.jsx)(ee.a,{onClick:at,id:"Input_addCard",onChange:function(e){var t;(t=e.target.value)&&(b=t)},onPressEnter:p,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u044f\u0447\u0435\u0439\u043a\u0438"})]}),j,Object(r.jsx)(Ae.b.Item,{style:{display:"none"}})]})})})]})},ot=[700].map((function(e){return"@media (max-width: ".concat(e,"px)")})),rt=O.a.div(Object(u.a)({marginLeft:"100px"},ot[0],{marginLeft:"0"})),it=Object(p.b)((function(){return{}}),x)((function(e){var t=e.addRoles;return Object(i.useEffect)((function(){ze(t)}),[]),Object(r.jsxs)(j.a,{children:[Object(r.jsx)(L,{}),Object(r.jsxs)(rt,{children:[Object(r.jsx)(b.a,{exact:!0,path:"/subscriptions",component:W}),Object(r.jsx)(b.a,{exact:!0,path:"/",component:P}),Object(r.jsx)(b.a,{exact:!0,path:"/teacher",component:V}),Object(r.jsx)(b.a,{exact:!0,path:"/allemployees",component:Ce}),Object(r.jsx)(b.a,{exact:!0,path:"/roleCreation",component:Xe}),Object(r.jsx)(b.a,{exact:!0,path:"/sales-funnel",component:st})]})]})})),lt=n(126),dt={all_employees_data:[],roles:[],loading_button:!1},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;console.log(t.type);var n=t.type,c=t.payload;switch(n){case"ALL_EMPLOYEES_DATA":return Object(J.a)(Object(J.a)({},e),{},{all_employees_data:c});case"ADD_ROLES":return Object(J.a)(Object(J.a)({},e),{},{roles:c});case"EDIT_ACCOUNT":var a=e.all_employees_data.map((function(e){return e._id!==c._id?e:c}));return Object(J.a)(Object(J.a)({},e),{},{all_employees_data:a});case"SET_BUTTON_STATE":return Object(J.a)(Object(J.a)({},e),{},{loading_button:!e.loading_button});default:return e}},jt=Object(lt.b)(ut);n(330);d.a.render(Object(r.jsx)(p.a,{store:jt,children:Object(r.jsx)(it,{})}),document.getElementById("root"))}},[[331,1,2]]]);
//# sourceMappingURL=main.8b56af9b.chunk.js.map