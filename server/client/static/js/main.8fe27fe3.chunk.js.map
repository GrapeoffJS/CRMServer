{"version":3,"sources":["url/url.js","#localStorage_change.js","components/home-page/sales-funnel/helpers/axios-requests.js","alert/alert.js","components/home-page/student/pageStudent/chat/task-item/requests/editDoneTask.js","components/home-page/sales-funnel/sales-funnel-modal.jsx","components/home-page/student/pageStudent/chat/task-item/requests/getTags.js","components/home-page/student/pageStudent/chat/task-item/requests/getResponsibles.js","components/home-page/student/pageStudent/chat/task-item/requests/createTask.js","components/home-page/student/pageStudent/chat/task-item/helpers/selectResponsible.js","components/home-page/student/pageStudent/chat/task-item/requests/createTag.js","components/home-page/student/pageStudent/chat/task-item/CreateTask.jsx","components/restriction-message/restriction-message.js","reducers/index.js","store.js","components/form-log-In/form-log-in.js","components/error-handler/error-handler.js","components/search/server-request.js","components/search/search.js","components/home-page/return-age/returnAge.js","components/home-page/#more-functions/getLimit/getLimit.js","components/home-page/#more-functions/pagination/pagination.js","components/home-page/student/service-student/service-student.js","components/home-page/student/student.js","components/home-page/change-balance/changeBalance.js","components/home-page/group/group-page/PupilsSandTime/PupilsSandTime.js","components/home-page/group/group-logic.js","components/home-page/student/pageStudent/add-student-group-/request-add-student-group.js","components/home-page/student/pageStudent/add-student-group-/add-student-group-.js","components/home-page/student/pageStudent/add-student-group-/add-student-group-logic.js","components/home-page/student/pageStudent/Info-table/InfoTable.js","components/home-page/student/pageStudent/balance/balance.js","components/home-page/student/pageStudent/payment-history/paymentHistory.js","components/home-page/student/pageStudent/chat/chat-item/chat.js","components/home-page/student/pageStudent/chat/chat-item/CommentList.jsx","components/home-page/student/pageStudent/chat/styled.js","components/home-page/student/pageStudent/chat/task-item/requests/deleteTask.js","components/home-page/student/pageStudent/chat/task-item/TaskComponent.jsx","components/home-page/student/pageStudent/chat/task-item/Tasks.jsx","components/home-page/student/pageStudent/chat/drawer-chat.js","components/home-page/student/pageStudent/style-pageStudent.js","components/home-page/student/student-statuses/logic-statuses.js","components/home-page/student/student-statuses/creating-statuses.js","components/home-page/student/student-statuses/student-statuses.js","components/home-page/student/student-statuses/list-statuses.js","components/home-page/student/pageStudent.styled.js","components/home-page/student/pageStudent/tabs-pupil/tabs-pupil.js","components/home-page/student/pageStudent/pageStudent.js","components/home-page/group/adding-students-to-group.js","components/home-page/group/group-style.js","components/home-page/group/group.js","components/home-page/#schedule/schedule.js","components/home-page/#schedule/form/scheduleForm.js","components/home-page/#more-functions/add-student_group/add-Student_Group.js","components/home-page/group/group-page/Info-table/InfoTable.js","components/home-page/group/group-page/group-page.js","components/home-page/upload-pupils/upload-pupils.js","components/table-groups/table-groups.js","components/home-page/#more-functions/change-column/change-column.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js","components/table-pupils/table.js","components/home-page/#more-functions/сreate-columns-and-rows/style-filter.js","components/home-page/#more-functions/сreate-columns-and-rows/filter-dropdown/logics-pupils.js","components/home-page/#more-functions/сreate-columns-and-rows/filter-dropdown/filter-by-teachers.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js","hocs/SuspenseComponent.jsx","components/trial-lessons/trial-lessons.style.js","components/trial-lessons/trial-lesson-schedule/trial-lesson-schedule.logics.js","components/trial-lessons/trial-lesson-schedule/trial-lesson-schedule-button_delete.js","actions/index.js","components/trial-lessons/trial-lesson-schedule/trial-lesson-schedule-comments.js","components/trial-lessons/trial-lesson-schedule/trial-lesson-schedule.js","components/trial-lessons/create-trial-lesson/create-trial-lesson.style.js","components/trial-lessons/create-trial-lesson/create-trial-lesson.logics.js","components/trial-lessons/selection-students/selection-students.style.js","components/trial-lessons/selection-students/find-students-for-trial-lesson/find-students-for-trial-lesson.logics.js","components/trial-lessons/selection-students/find-students-for-trial-lesson/find-students-for-trial-lesson.js","components/trial-lessons/selection-students/list-students-for-trial-lesson/list-students-for-trial-lesson.logics.js","components/trial-lessons/selection-students/list-students-for-trial-lesson/list-students-for-trial-lesson.js","components/trial-lessons/selection-students/selection-students.js","components/trial-lessons/lead_teacher/lead_teacher.js","components/trial-lessons/button_create_trial_lesson/button_create_trial_lesson.js","components/trial-lessons/create-trial-lesson/create-trial-lesson.js","components/trial-lessons/trial-lessons.js","components/home-page/home-page.js","components/home-page-tutor/today/lesson-now/table-pupils/write-сomment/write-comment.js","components/home-page-tutor/today/lesson-now/table-pupils/change-schedule/change-schedule.js","components/home-page-tutor/today/lesson-now/table-pupils/table-pupils.js","components/home-page-tutor/today/lesson-now/lesson-now.js","components/home-page-tutor/today/all-lesson/table-groups/table-groups.js","components/home-page-tutor/today/all-lesson/all-lesson.js","components/home-page-tutor/today/today.js","components/home-page-tutor/calendar/calendar.js","components/home-page-tutor/all-pupils/all-pupils.js","components/home-page-tutor/all-groups/all-groups.js","components/trial-lessons/trial-lessons-tutor/trial-lessons-tutor.js","components/home-page-tutor/home-page-tutor.js","components/App.js","index.js","components/home-page/student/pageStudent/chat/task-item/task.styled.js","components/home-page/sales-funnel/helpers/sales-funnel-styled.js"],"names":["Url","localStorage_change","token","localStorage","removeItem","setItem","axiosCreateNewStudent","url","params","a","axios","post","name","midname","surname","gender","dateOfBirth","phone","discord","parentPhone","parentFullname","salesFunnelStep","headers","getItem","then","res","result","data","axiosUpdateStudent","id","student","patch","axiosGetFunnelSteps","pageSize","get","salesFunnelSteps","MySwalErr","withReactContent","Swal","swallErr","title","text","fire","icon","MySwaGood","swallGood","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","loading","timerInterval","html","showLoading","setInterval","content","getHtmlContainer","b","querySelector","textContent","getTimerLeft","willClose","clearInterval","RestrictionMessage","status","Swalclose","close","editDoneTask","done","authorization","SalesFunnelModal","React","memo","funnel","setPupilsList","setLoaded","bigIcon","update","defaultValueOptionFunnel","validateDiscordNickname","RegExp","dateFormat","useState","confirmLoading","setConfirmLoading","visible","setVisible","moment","dateValue","setDateValue","inputName","setInputName","inputSurname","setInputSurname","inputMidname","setInputMidname","selectGender","setSelectGender","inputParentPhone","setInputParentPhone","inputParentFullname","setInputParentFullname","inputChildPhone","setInputChildPhone","inputDiscordNickname","setInputDiscordNickname","_id","selectSalesFunnelStep","setSelectSalesFunnelStep","deletingDataFromForm","prev","handleCancel","showModal","onFocusHandleInputMask","ev","target","value","handleOk","Error","split","filter","item","length","search","newStudent","toISOString","undefined","String","match","shift","closestTask","console","log","response","message","window","location","replace","style","right","className","onClick","fontSize","color","StylesForUserAddOutlined","width","onCancel","footer","type","action","method","onChange","required","placeholder","defaultValue","format","date","autoComplete","onFocus","StylesForInputMaskPhoneParentOrChild","mask","map","step","getTags","getResponsibles","query","createTask","newTask","taskFromServer","selectResponsible","responsible","_source","doc","createTag","newTag","tag","CreateTaskComponent","setOpenedModal","setRelTasks","portable","fio","filterTasks","colors","responsibles","setResponsibles","tags","setTags","reservTags","setReservTags","selectedTags","setSelectedTags","jwt","decode","selectedResponsible","setSelectedResponsible","tagName","setTagName","setSearch","opened","setOpened","setTitle","setText","deadline","setDeadline","setType","useEffect","responsiblesFromReq","body","hits","getResponsiblesCallback","tagsRes","getTagsFromServer","onClickSelectTag","findIndex","selTag","tagRes","onClickCreateTag","idx","Math","floor","random","replaceAll","createdTag","onClickSubmit","taskName","typeNumber","for","isBefore","createdTask","DoubleLeftOutlined","Number","defaultChecked","rows","showTime","el","accountType","initialState","all_disciplines","selected_subject","trial_lessons","possible_teachers","students_for_trial_lesson","subject_teachers","local_week","chosen_teacher","tutor","time","index","trial_lesson_day","reducer","state","payload","lesson","pupil","day","new_local_week","JSON","parse","stringify","tutors","push","store","createStore","require","LogIn","styled","div","height","button","fontWeight","borderRadius","transition","borderColor","backgroundColor","label","input","background","i","cursor","FormlogIn","setUser","icons","eye","setEye","valuePassword","setValuePassword","valueLogin","setValueLogin","disabled","setDisabled","inputBorder_L","set_I_Border_L","inputBorder_P","set_I_Border_P","valueChangeL","valueChangeP","opacityBtn","InputBorder_L_Style","InputBorder_P_Style","Button","regLogin","regPassword","FormSubmit","e","preventDefault","test","login","password","catch","error","onSubmit","htmlFor","errorHandler","onFunction","notification","additionalActions","forEach","fnc","serverRequest","setData","localUrl","tutorid","functionsONsuccess","Box","paddingBottom","renderItem","obj","key","to","display","justifyContent","SearchAll","Data","Value","setValue","document","getElementById","focus","typingTimer","renderTitle","options","_index","group_name","onSearchInput","clearTimeout","setTimeout","encodeURI","onSearch","dropdownClassName","dropdownMatchSelectWidth","defaultOpen","size","ReturnAge","year","diff","getLimit","round","documentElement","clientHeight","PaginationG","offset","setOffset","count","PaginationI","margin","defaultPageSize","defaultCurrent","total","showSizeChanger","getFunnel","set","box","param","filtersGroups","setUsers","setCount","filtersLocal","groups","ages","balance","$gte","$lt","$lte","p","filters","trashUser","offsetG","getStudent_Id","pageStudent_id","setDataS","mq","bp","TableL","padding","paddingTop","whiteSpace","Student","setOffsetG","Count","setFunnel","phoneNumber","parentPhoneNumber","discordNickname","statuses","users","querySelectorAll","dataSource","trash","getColumn","dataIndex","columns","render","pagination","scroll","x","loader","loaded","pupils","pupilsList","Change_Balance","sym","pupil_id","updeteStudent","Change","subscription","group_id","returnBalance","urlLocal","Authorization","Span","ul","border","span","textarea","PupilsSandTime","itemG","dataGroup","getGroup_Id","pageInfo","visibleNumber","setVisibleNumber","fixedSchedule","setFixedSchedule","ScheduleItem","localSchedule","dataS","addNotes","axiosPut","Abic","setAbic","getAbic","mass","ChangeBalic","liAbic","abic","Item","arr","n","hoursCount","paid","updete","price","href","menu","SchedulePupils","Div_box","borderBottom","marginBottom","top","left","zIndex","overflowY","h4","marginRight","maxHeight","overflow","marginTop","overflowX","opacity","time_day","changeDayIndex","colorTitle","menuItem","aria-label","visibleLocal","onVisibleChange","s","overlay","trigger","urlPage","page","LinkItem","oplata","placement","group","marginLeft","defaultProps","sortingSearchResponses","setArrayEligibleStudents","arrPupils","requestAddStudentGroup","groupId","studentId","callBefore","ids","AddStudentGroup","updatePage","useParams","isModalVisible","setIsModalVisible","ArrayEligibleGroups","setArrayEligibleGroups","SuitableGroups","resData","spanGroup","AppstoreAddOutlined","onOk","Info_Table","Li","li","InfoTable","dataStudent","updetePage","newInfo","onChangeInfoItem","menuSurname","menuName","menuMidname","menuParentPhone","menuPhone","menuDiscord","_d","Div","Balance","balance_item","setBalance","incBalance","PayHistoryDiv","h3","Box2","PayHistory","pay_History","pay_HistoryLocal","liInc","unshift","amount","issuer","liDec","TextArea","Input","Chat","commentsObj","UserName","comments","setComments","submitting","setSubmitting","htmlType","handleSubmit","author","datetime","locale","CommentList","header","itemLayout","props","DivDrawerStyles","deleteTask","delete","TaskComponent","task","setDone","resFIO","Array","isArray","Object","onClickDeleteTask","onChangeEditDone","checked","contains","CloseOutlined","Tasks","tasks","relTasks","CreateTask","DrawerChat","notes","notesLocal","notesGlobal","block","scrollTop","scrollHeight","children","COMEN","StudentPage","paddingRight","paddingLeft","borderRight","TablePupils","updateStatuses","setLoading","createStatus","setStatuses","Statuses","onDelete","attachStatus","statuses_id","updateStudent","student_id","CreatingStatuses","studentStatuses","globalStatuses","onPressEnter","status_statuses","status_id","DeleteOutlined","StudentStatuses","studentStatusesGlobal","setGlobalStatuses","lineHeight","DownOutlined","active","ListStatuses","items","FlexDiv","first","TabPane","Tabs","callback","TabsPupil","tabs_groups","defaultActiveKey","tab","PageStudent","Select","Option","paymentHistory","setSalesFunnelSteps","salesFunnelStepsServ","requestsAsync","arrIdSch","groups_id","PupilsSandTimeGroup","event","AddingStudentsToGroup","addStudent","addedStudents","ArrayEligibleStudents","SuitableStudents","permitted","setStudent","AddedStudentButton","removeStudent","Table","Form","form","Group","setAvailableStudents","setPUPILS_search","availableTutor","setAvailableTutor","setGroups","getPupils","getGroup","getTUTOR","A_Tutor","setPupils","setGROUP_NAME","places","setPLACES","setTUTOR","level","setLEVEL","dataInput","tableGroup","global_schedule","PUPILS01","tutorText","duration","scope","trashGroup","PUPILS_ID","newArr","SchedulE","Schedule","SpanDay","ScheduleForm","updateGroup","groupID","dataInputs","startDate","endDate","duration_Start","duration_End","weekDay","one","two","three","four","five","six","zero","schedule","FindNeedle","academicHours","dayNumber","day_end","day_number","inc","PushDay","scheduleItem","AddStydent_Group","pageId","changeSchedulePupil","idPupil","newSchedule","addPUPILS_Group","PUPILS_search_Li","Data_ALL","PUPILS0","AllTutor","setAllTutor","onChangeInfo","menuGROUP_NAME","menuTutor","menuLEVEL","menuPLACES","changeData","data_name","GroupPageStyle","h5","setFun","onError","GroupPage","DataALL","setDataALL","PUPILS_List","PUPILSandTIME","addPupils_g","UploadPupils","accept","info","file","statusCode","join","TableGroups","setParamFilrers","paramFilrers","td","sorter","extra","con","MenuFoldOutlined","Create_Columns_Rows_Groups","dataObj","setDataObj","loadingButtomFilrer","setLoadingButtomFilrer","filterDropdownVisible","setFilterDropdownVisible","g","setG","l","setL","setP","o","setO","setN","t","setT","Tutors","setTutors","addTUTOR","occupied","CheckboxValue","globalFilters","setGlobalFilters","handleSearch","selectedKeys","confirm","FiltersLocal","DataSource","NUMBER_PUPILS","BoxButtom","svg","filtersTutors","Columns","filterDropdown","setSelectedKeys","clearFilters","dataFilters","SearchOutlined","paramLocal","filterIcon","CloseCircleOutlined","onFilterDropdownVisibleChange","Visible","per","defaultFilteredValue","Table_Pupils","dataGroupsChecked","scrollLeft","itemPupils","createdAt","filterStatuses","dataStatusesCheck","setFilterAxios","keys","FilterFilled","FilterByTeachers","Create_Columns_Rows_Pupils","ValueGroup","setValueGroup","setDataStatusesCheck","objPupils","setObjPupils","setScrollLeft","age","emptyAge","setEmptyAge","emptyAgeLocal","globalFiltersG","setGlobalFiltersG","setS","m","setM","setA","pF","setPF","PhoneTitle","setPhoneTitle","CreatedAt","setCreatedAt","setB","d","setD","gr","setGr","st","setSt","setDataGroupsChecked","GroupsCheckedF","setGroupsCheckedF","heapGroups","dataGroupsCheck","emptyAgeGet","getColumnSearchProps","searchGroups","SearchGroups","FILTER","SET_FILTER","SuspenseComponent","fallback","OtherComponent","Suspense","TrialLessonsStyle","commentingOnGroup","change_trial_lessons","setNotes","new_schedule","change_global_schedule","getTrialLessons","install_trial_lessons","deleteGroups","delete_trial_lessons","free_day_for_teacher","setLessonPassed","mapDispatchToProps","connect","setFnc","danger","TrialLessonScheduleComments","lessons","start","substr","delete_group","hour","comment","subject","skeleton","table","CreateTrialLessonStyle","mapDispathToProps","when_choosing_subject","specify_loading","set_subject_teachers","set_local_week","new_week","set_chosen_teacher","set_trial_lesson_day","week_initial","hour8","Mo","free","Tu","We","Th","Fr","Sa","Su","hour9","hour10","hour11","hour12","hour13","hour14","hour15","hour16","hour17","hour18","hour19","hour20","hour21","initial_work_time","planning_week","setWeek","localWeek","groupNumber","numberOfGroups","group_schedule","Start","End","difference","work_time","workHours","getDaysOfWeek","addNumderGroup","DaysOfWeek","reduce","unique","indexOf","tut","end","get_subject_teachers","setVariable","week","scheduling","Time","nextDay","day_name","current","next_day","funOptionSubjects","subjects","SelectionStudentsStyle","add_pupil_to_trial_lesson","allPupils","setAllPupils","bordered","textDecoration","ListItem","disablePadding","ListItemButton","addPupil","dense","ListItemText","primary","delete_pupil_to_trial_lesson","SelectionStudents","column","add_trial_lessons","new_lesson","StartTime","EndTime","add","pupils_id","updateTeachers","CreateTrialLesson","trial","info_window","settingsTable","allowClear","TrialLessons","SalesFunnel","lazy","SuspenseSalesFunnel","TasksPage","SuspenseTasksPage","Sider","Layout","SubMenu","Menu","HomePage","logOut","collapsed","setCollapsed","Vag","bottom","minHeight","collapsible","onCollapse","theme","defaultSelectedKeys","mode","UploadOutlined","click","UserOutlined","TeamOutlined","CarryOutOutlined","FunnelPlotOutlined","LikeOutlined","DatabaseOutlined","LogoutOutlined","exact","path","component","writeComment","changeSchedule","getUser","Column","ColumnGroup","ID_Group","GLOBAL_ARR_PUPILS","set_GLOBAL_ARR_DAY","GLOBAL_ROW_KEY","set_GLOBAL_ROW_KEY","ARR_PUPILS","RowKeys","onRowKeys","Notes","finish","onChangeStatys","titlePupil","progres","rowSelection","selectedRowKeys","onSelect","onSelectAll","onBlur","autoSize","minRows","maxRows","LessonNowStyle","Text","Typography","LessonNow","rowKey","setRowKey","GROUP","G","indexD","Groups","newGroup","setGROUP","groupName","AllLesson","gro","Today","indexHours","timeN","groupsAll","dataLes_l","itemGL","indexN","groupCon","indexGroup","sort","itemIN","item2","splice","Content","fixed","СalendarStyle","GroupsANDpupils","Сalendar","columns2","itemf","data2","wekDay","wek_day","finalDate","hours","AllPupilsBox","AllPupils","AllGroupsBox","AllGroups","free_places","TrialLessonsTutor","HomePageTutor","role","user","Pupils","getGroups","l_user","mass_id","ClockCircleOutlined","CalendarOutlined","App","ReactDOM","WrapperTasks","TagBlock","CreateTagBlock","section","SelectResponsible","AccountTypeSpan","SubmitButton","OpacityParagraph","OpacityContainer","DeleteButton","WrapperTaskComponent","CheckboxContainer","VisibilitySpan","Wrapper","FunnelSection","jstctn","FlexFunnelElement","FunnelStep","FunnelStepHeader","FunnelStepAbonementSum","FunnelStepText","FunnelStepStudent","StatusesBlock","HoverTask","DropdownClosestTask"],"mappings":"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","file":"static/js/main.8fe27fe3.chunk.js","sourcesContent":["const Url = 'http://crm.3place.ru' // https://dvmncrm.herokuapp.com\nexport default Url\n\n// lcp --proxyUrl https://dvmncrm.herokuapp.com/\n// https://dvmncrm.herokuapp.com/\n// http://crm.3place.ru\n// http://crmedu.3place.ru\n// list --depth=0\n// http://localhost:8010/proxy\n\n// client","const localStorage_change = (token) => {\n\tlocalStorage.removeItem('tokenID');\n\tlocalStorage.setItem('tokenID', token);\n};\n\nexport default localStorage_change;","// imports from plugins\nimport axios from \"axios\"\n\n// imports from files of project\n\nconst status = 1\nconst token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxNWRkNTUzOTZmNWNlMDJiYjY4NTc3MiIsImxvZ2luIjoiaWRtaXRyaXl3aW54IiwibmFtZSI6ItCc0LDQutGB0LjQvCIsInN1cm5hbWUiOiLQkdC10YDQstC40L3QvtCyIiwibWlkbmFtZSI6Ii4uLiIsImFjY291bnRUeXBlIjoibWFuYWdlciIsImlhdCI6MTYzMzU0MDEyNywiZXhwIjoxNjMzNTY4OTI3fQ.O7HLLdJLz2VevFL6tc2Qa1lrukahQIw5Rbh-ZKuQTCo\"\n\n// Student\nexport const axiosCreateNewStudent = async (url, params) => {\n  let result\n\n  await axios.post(`${url}/CRM/Pupils`, {\n    name: params.name,\n    midname: params.midname,\n    surname: params.surname,\n    gender: params.gender,\n    dateOfBirth: params.dateOfBirth,\n    phone: params.phone,\n    discord: params.discord,\n    parentPhone: params.parentPhone,\n    parentFullname: params.parentFullname,\n    salesFunnelStep: params.salesFunnelStep\n  }, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  }).then(res => result = res.data)\n\n  return result\n}\nexport const axiosUpdateStudent = async (url, id, student) => {\n  await axios.patch(`${url}/CRM/Pupils/${id}`, student, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  })\n}\n// Student\n\n// Funnel\nexport const axiosGetFunnelSteps = async (url, pageSize = 1000) => {\n\n  let salesFunnelSteps\n  await axios.get(`${url}/CRM/SalesFunnel?limit=${pageSize}`, {\n    headers: {\n      'Content-Type': 'application/jsoncharset=utf-8',\n      'Authorization': `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`\n    }\n  })\n    .then(res => salesFunnelSteps = res.data)\n\n  return salesFunnelSteps\n}\n// Funnel\n","import React from 'react';\n\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\nconst MySwalErr = withReactContent(Swal);\n\nexport const swallErr = (title, text) => {\n    MySwalErr.fire({\n        icon: \"error\",\n        title: title,\n        text: text,\n    });\n};\n\nconst MySwaGood = withReactContent(Swal);\n\nexport const swallGood = (title = '', text = '') => {\n    MySwaGood.fire({\n        icon: \"success\",\n        title: title,\n        text: text,\n    });\n};\n\nexport const Toast = Swal.mixin({\n    toast: true,\n    position: 'top-end',\n    showConfirmButton: false,\n    timer: 3000,\n    timerProgressBar: true,\n    didOpen: (toast) => {\n        toast.addEventListener('mouseenter', Swal.stopTimer)\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\n    }\n});\n\nexport const loading = (title = 'Загрузка...', text = '') => {\n    let timerInterval\n    Swal.fire({\n      title: title,\n      html: text,\n      timerProgressBar: true,\n      didOpen: () => {\n        Swal.showLoading()\n        timerInterval = setInterval(() => {\n          const content = Swal.getHtmlContainer()\n          if (content) {\n            const b = content.querySelector('b')\n            if (b) {\n              b.textContent = Swal.getTimerLeft()\n          }\n      }\n  }, 100)\n    },\n    willClose: () => {\n        clearInterval(timerInterval)\n    }\n})\n}\n\nexport const RestrictionMessage = status => {\n    if (status == 403) {\n        Toast.fire({\n            icon: 'error',\n            title: 'У вас недостаточно прав для этого действия'\n        });\n    }\n}\n\nexport const Swalclose = () => {\n    Swal.close();\n}","import axios from \"axios\"\n\nexport const editDoneTask = async (url, id, done) => {\n  await axios.patch(`${url}/CRM/Tasks/${id}`, done, {\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n    }\n  })\n}","// imports from plugins\nimport React, {useState} from \"react\"\nimport {Button, DatePicker, Input, Modal} from \"antd\"\nimport moment from \"moment\"\nimport InputMask from \"react-input-mask\"\nimport {UserAddOutlined} from \"@ant-design/icons\"\n\n// imports from files of project\nimport {\n  FlexFunnelElement,\n  StylesForInputMaskPhoneParentOrChild,\n  StylesForUserAddOutlined\n} from \"./helpers/sales-funnel-styled\"\nimport {axiosCreateNewStudent} from \"./helpers/axios-requests\"\nimport {swallErr, swallGood} from \"../../../alert/alert\"\nimport RestrictionMessage from \"../../restriction-message/restriction-message\"\nimport localStorage_change from \"../../../#localStorage_change\"\n\nexport const SalesFunnelModal = React.memo(({funnel, Url, setPupilsList, status, setLoaded, bigIcon = false, update = () => {}, defaultValueOptionFunnel = ''}) => {\n\n  // data\n  const validateDiscordNickname = new RegExp(/\\w+#[0-9]{4}/)\n  const dateFormat = \"DD-MM-YYYY\"\n  // data\n\n  // useState\n  const [confirmLoading, setConfirmLoading] = useState(false)\n  const [visible, setVisible] = useState(false)\n\n  const [dateValue, setDateValue] = useState(moment(\"01-01-2021\", dateFormat))\n  const [inputName, setInputName] = useState(\"\")\n  const [inputSurname, setInputSurname] = useState(\"\")\n  const [inputMidname, setInputMidname] = useState(\"\")\n  const [selectGender, setSelectGender] = useState(\"\")\n  const [inputParentPhone, setInputParentPhone] = useState(\"\")\n  const [inputParentFullname, setInputParentFullname] = useState(\"\")\n  const [inputChildPhone, setInputChildPhone] = useState(\"\")\n  const [inputDiscordNickname, setInputDiscordNickname] = useState(\"\")\n  const [selectSalesFunnelStep, setSelectSalesFunnelStep] = useState(funnel[0]._id)\n  // useState\n\n  // Methods\n  //// onChangeHandlers\n  const onChangeHandlerSelectSalesFunnelId = (ev) => {\n    setSelectSalesFunnelStep(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerInputDiscrodNickname = (ev) => {\n    setInputDiscordNickname(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerInputChildPhone = (ev) => {\n    setInputChildPhone(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerInputParentFullname = (ev) => {\n    setInputParentFullname(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerInputParentPhone = (ev) => {\n    setInputParentPhone(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerSelectGender = (ev) => {\n    setSelectGender(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerInputMidname = (ev) => {\n    setInputMidname(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerInputSurname = (ev) => {\n    setInputSurname(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerInputName = (ev) => {\n    setInputName(prev => prev = ev.target.value)\n  }\n  const onChangeHandlerDatePicker = (date) => {\n    setDateValue(prev => prev = date)\n  }\n  //// onChangeHandlers\n\n  const deletingDataFromForm = () => {\n    setInputName(prev => prev = \"\")\n    setInputSurname(prev => prev = \"\")\n    setInputMidname(prev => prev = \"\")\n    setDateValue(prev => prev = moment(\"01-01-2021\", dateFormat))\n    setSelectGender(prev => prev = \"\")\n    setInputParentFullname(prev => prev = \"\")\n    setInputDiscordNickname(prev => prev = \"\")\n  }\n  const handleCancel = () => {\n    setVisible(false)\n    deletingDataFromForm()\n  }\n  const showModal = () => {\n    setVisible(true)\n  }\n  const onFocusHandleInputMask = (ev) => ev.target.value = ''\n  const handleOk = async () => {\n    try {\n      setConfirmLoading(true)\n      if (selectGender === \"\") {\n        swallErr(\"Ошибка!\", \"Не указан пол\")\n        throw new Error(\"Не указан пол\")\n      }\n      if (!(inputParentFullname.split(\" \").filter(item => item !== \"\").length === 3)) {\n        swallErr(\"Ошибка!\", \"ФИО Родителя введены неверно\")\n        throw new Error(\"ФИО Родителя введены неверно\")\n      }\n      if (inputDiscordNickname !== \"\" && inputDiscordNickname.search(validateDiscordNickname) === -1) {\n        swallErr(\"Ошибка!\", \"Ник в дискорде был введён не верно, проверьте наличие '#' и цифр после неё, а так же русских букв\")\n        throw new Error(\"Ник в дискорде был введён не верно, проверьте наличие '#' и цифр после неё, а так же русских букв\")\n      }\n      if (!selectSalesFunnelStep) {\n        swallErr(\"Ошибка!\", \"Этап в воронке не выбран\")\n        throw new Error(\"Этап в воронке не выбран\")\n      }\n      const newStudent = {\n        name: inputName,\n        surname: inputSurname,\n        midname: inputMidname,\n        gender: selectGender,\n        dateOfBirth: dateValue.toISOString(),\n        phone: inputChildPhone || undefined,\n        discord: inputDiscordNickname !== \"\" ? String(inputDiscordNickname.match(validateDiscordNickname).shift()) : undefined,\n        parentPhone: inputParentPhone,\n        parentFullname: inputParentFullname,\n        salesFunnelStep: selectSalesFunnelStep\n      }\n      const student = await axiosCreateNewStudent(Url, newStudent)\n      swallGood(\"Успешно!\", \"Пользователь создан!\")\n      update()\n      await setPupilsList(prev => [...prev, {...student, closestTask: []}])\n      setLoaded((prev => prev = true))\n      setLoaded((prev => prev = false))\n      setVisible(false)\n      setConfirmLoading(false)\n      deletingDataFromForm()\n    } catch (err) {\n      if (!status) console.log(err)\n      setVisible(true)\n      setConfirmLoading(false)\n      if (err.response) {\n        RestrictionMessage(err.response.status)\n        let {status, data} = err.response\n        if (status === 400) {\n          swallErr(\"Не верно введены данные\")\n        }\n        if (data.message === \"TOKEN_EXPIRED\") {\n          localStorage_change(data.token)\n        }\n        if (status === 401) {\n          localStorage.removeItem(\"tokenID\")\n          window.location.replace(\"/\")\n        }\n        if (status === 500) {\n          swallErr(\"Ошибка сервера\")\n        }\n      }\n    }\n  }\n  // Methods\n\n  return (\n    <>\n      {bigIcon ?\n        <div\n          style={{\n            position: 'absolute',\n            right: 0\n          }}\n          className=\"collapse d-flex flex-row-reverse\"\n          id=\"navbarScroll\">\n          <div className=\"d-flex plus-box\">\n            <div\n              className=\"nav-item plus\"\n              onClick={showModal}\n            >\n              <i\n                className=\"bi bi-person-plus\"\n                style={{\n                  fontSize: '38px',\n                  color: '#F56767'\n                }}\n              ></i>\n            </div>\n          </div>\n        </div> :\n        <UserAddOutlined style={StylesForUserAddOutlined} onClick={showModal}/>\n      }\n      <Modal width={900} title=\"Создание ученика\" visible={visible} onCancel={handleCancel} footer={[\n        <Button key=\"back\" onClick={handleCancel}>\n          Отмена\n        </Button>,\n        <Button\n          key=\"submit\"\n          onClick={handleOk}\n          loading={confirmLoading}\n          type=\"primary\"\n        >\n          Добавить\n        </Button>\n      ]}>\n        <form action=\"#\" method=\"POST\">\n          <FlexFunnelElement>\n            <p>Имя:</p>\n            <Input onChange={onChangeHandlerInputName} value={inputName} required/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Фамилия:</p>\n            <Input onChange={onChangeHandlerInputSurname} value={inputSurname} required/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Отчество:</p>\n            <Input onChange={onChangeHandlerInputMidname} value={inputMidname} required/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Возраст:</p>\n            <DatePicker className=\"form-control\" placeholder=\"ГГГГ.ММ.ДД\"\n                        defaultValue={moment(\"01-01-2021\", dateFormat)} format={dateFormat}\n                        onChange={onChangeHandlerDatePicker}/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>ФИО Родителя:</p>\n            <Input onChange={onChangeHandlerInputParentFullname} value={inputParentFullname} required\n                   placeholder=\"Фамилия Имя Отчество\"/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Ник в дискорде:</p>\n            <Input onChange={onChangeHandlerInputDiscrodNickname} value={inputDiscordNickname}\n                   placeholder=\"Необязательно\"/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Номер телефона ребёнка:</p>\n            <InputMask autoComplete=\"off\" onChange={onChangeHandlerInputChildPhone}\n                       onFocus={onFocusHandleInputMask}\n                       style={StylesForInputMaskPhoneParentOrChild} type=\"tel\" name=\"tel\"\n                       className=\"form-control\"\n                       mask=\"+9 (999) 999-99-99\" placeholder=\"Необязательно\"/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Номер телефона родителя:</p>\n            <InputMask autoComplete=\"off\" onChange={onChangeHandlerInputParentPhone}\n                       onFocus={onFocusHandleInputMask}\n                       style={StylesForInputMaskPhoneParentOrChild} type=\"tel\" name=\"tel\"\n                       className=\"form-control\"\n                       mask=\"+9 (999) 999-99-99\"/>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Пол:</p>\n            <select onChange={onChangeHandlerSelectGender} name=\"gender\" value={selectGender}\n                    className=\"form-control\"\n                    required>\n              <option defaultValue></option>\n              <option value=\"Мужской\">Мужской</option>\n              <option value=\"Женский\">Женский</option>\n            </select>\n          </FlexFunnelElement>\n          <FlexFunnelElement>\n            <p>Воронка:</p>\n            <select className=\"form-control\" name=\"salesFunnelId\" value={selectSalesFunnelStep}\n                    onChange={onChangeHandlerSelectSalesFunnelId}>\n              {defaultValueOptionFunnel}\n              {funnel.map(step => {\n                if (funnel[0]._id === step._id) {\n                  return <option key={step._id} value={step._id} defaultValue>{step.name}</option>\n                }\n                return <option key={step._id} value={step._id}>{step.name}</option>\n              })}\n            </select>\n          </FlexFunnelElement>\n        </form>\n      </Modal>\n    </>\n  )\n})","import axios from \"axios\"\n\nexport const getTags = async (url) => {\n  let result\n\n  await axios.get(`${url}/CRM/TaskTags`, {\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n    }\n  }).then(response => result = response.data)\n\n  return result\n}\n","import axios from \"axios\"\n\nexport const getResponsibles = async (url, query = \"\") => {\n  let result\n\n  await axios.get(`${url}/CRM/Search/CRMUsers?query=${query}`, {\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n    }\n  }).then (res => result = res.data)\n\n  return result\n}","import axios from \"axios\"\n\nexport const createTask = async (url, newTask) => {\n  let taskFromServer\n\n  await axios.post(`${url}/CRM/Tasks`, newTask, {\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n    }\n  }).then(response => taskFromServer = response.data)\n\n  return taskFromServer\n}","export const selectResponsible = (responsible) => {\n  if (responsible._source && responsible._source.doc) return responsible._source.doc\n  if (responsible._source) return responsible._source\n  return responsible\n}","import axios from \"axios\"\n\nexport const createTag = async (url, newTag) => {\n  let tag\n\n  await axios.post(`${url}/CRM/TaskTags`, newTag, {\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n    }\n  }).then(response => tag = response.data)\n\n  return tag\n}","import React, {useEffect, useState} from \"react\"\nimport {DoubleLeftOutlined} from \"@ant-design/icons\"\nimport {DatePicker, Tag} from \"antd\"\nimport moment from \"moment\"\nimport jwt from \"jsonwebtoken\"\n\nimport {\n  AccountTypeSpan,\n  CreateTagBlock,\n  CreateTask,\n  SelectResponsible,\n  SubmitButton,\n  TagBlock,\n  WrapperTasks\n} from \"./task.styled\"\nimport {getResponsibles} from \"./requests/getResponsibles\"\nimport Url from \"../../../../../../url/url\"\nimport {swallErr} from \"../../../../../../alert/alert\"\nimport {createTask} from \"./requests/createTask\"\nimport {selectResponsible} from \"./helpers/selectResponsible\";\nimport {getTags} from \"./requests/getTags\";\nimport {createTag} from \"./requests/createTag\";\n\nexport const CreateTaskComponent = ({setOpenedModal, setRelTasks, portable, fio = {name: \"\", surname: \"\"}, _id = \"\", filterTasks = () => {}}) => {\n\n  // data\n  let colors = ['magenta', 'red', 'volcano', 'orange', 'gold', 'lime', 'green', 'cyan', 'blue', 'geekblue', 'purple']\n  const {name, surname} = fio\n  const dateFormat = [\"DD/MM/YYYY | HH:mm\"]\n  // data\n\n  // useState\n  const [responsibles, setResponsibles] = useState([])\n  const [tags, setTags] = useState([])\n  const [reservTags, setReservTags] = useState([])\n  const [selectedTags, setSelectedTags] = useState([])\n  const [selectedResponsible, setSelectedResponsible] = useState(jwt.decode(localStorage.getItem(\"tokenID\")))\n  const [tagName, setTagName] = useState(\"\")\n  const [search, setSearch] = useState(\"\")\n  const [opened, setOpened] = useState(false)\n  const [title, setTitle] = useState(\"\")\n  const [text, setText] = useState(\"\")\n  const [deadline, setDeadline] = useState(moment().get())\n  const [type, setType] = useState(0)\n  // useState\n\n  // useEffect\n  useEffect(() => {\n    const getResponsiblesCallback = async () => {\n      const responsiblesFromReq = await getResponsibles(Url, search)\n      setResponsibles(prev => prev = responsiblesFromReq.body.hits.hits)\n    }\n    getResponsiblesCallback()\n  }, [search])\n  useEffect(() => {\n    const getTagsFromServer = async () => {\n      const tagsRes = await getTags(Url)\n      setTags(prev => prev = tagsRes)\n      setReservTags(prev => prev = tagsRes)\n    }\n    getTagsFromServer()\n  }, [])\n  // useEffect\n\n  // methods\n  const selectType = (typeNumber) => {\n    if (typeNumber === 0) return \"Связаться\"\n    if (typeNumber === 1) return \"Созвониться\"\n  }\n  const onCreateTaskClearForm = () => {\n    setTitle(prev => prev = \"\")\n    setText(prev => prev = \"\")\n    setType(prev => prev = 0)\n    setSearch(prev => prev = \"\")\n    setDeadline(prev => prev = moment().get())\n    setSelectedResponsible(prev => prev = jwt.decode(localStorage.getItem(\"tokenID\")))\n    setTags(prev => prev = reservTags)\n    setSelectedTags(prev => prev = [])\n  }\n  const onChangeTagName = (ev) => {\n    setTagName(prev => prev = ev.target.value)\n  }\n  const onChangeTitle = (ev) => {\n    setTitle(prev => prev = ev.target.value)\n  }\n  const onChangeText = (ev) => {\n    setText(prev => prev = ev.target.value)\n  }\n  const onChangeDate = (ev) => {\n    setDeadline(prev => prev = ev)\n  }\n  const onChangeType = (ev) => {\n    setType(prev => prev = Number(ev.target.value))\n  }\n  const onChangeSearch = (ev) => {\n    setSearch(prev => prev = ev.target.value)\n  }\n  const onClickSelectResponsible = (responsible) => {\n    setSelectedResponsible(prev => prev = responsible)\n  }\n  const onClickDeleteResponsible = (deletedResponsible) => {\n    setSelectedResponsible(prev => prev = \"\")\n  }\n  const onClickSelectTag = (tag) => {\n    if (selectedTags.findIndex(selTag => selTag._id === tag._id) < 0) {\n      setSelectedTags(prev => prev = [...prev, tag])\n      setTags(prev => prev = prev.filter(tagRes => tagRes._id !== tag._id))\n    } else {\n      setSelectedTags(prev => prev = prev.filter(tagRes => tagRes._id !== tag._id))\n      setTags(prev => prev = [...prev, tag])\n    }\n  }\n  const onClickCreateTag = async () => {\n    let idx = Math.floor(Math.random() * (10))\n    const newTag = {\n      name: tagName,\n      color: colors[idx]\n    }\n    if (!tagName.replaceAll(\" \", \"\").length)\n      return swallErr(\"Ошибка!\", \"Название тэга не может быть пустым\")\n\n    const createdTag = await createTag(Url, newTag)\n    setTagName(prev => prev = \"\")\n    setTags(prev => prev = [...prev, createdTag])\n    setReservTags(prev => prev = [...prev, createdTag])\n  }\n  const onClickSubmit = async () => {\n    const taskName = portable ? (type !== 2 ? `${selectType(type)} с ${name} ${surname}` : title) : title\n    const newTask = {\n      name: taskName,\n      text,\n      deadline: deadline.toISOString(),\n      responsible: selectedResponsible._id ?? selectedResponsible.id,\n      tags: selectedTags.map(tag => tag._id),\n      type,\n      for: portable ? _id : undefined\n    }\n    if (taskName.replaceAll(\" \", \"\").length === 0) {\n      return swallErr(\"Ошибка!\", \"Название пустое\")\n    }\n    if (deadline && deadline.isBefore(moment().get())) {\n      return swallErr(\"Ошибка!\", \"Окончательный срок не может быть раньше сегодняшней даты\")\n    }\n    if (selectedResponsible === \"\") {\n      return swallErr(\"Ошибка!\", \"Ответсвенный не выбран\")\n    }\n    const createdTask = await createTask(Url, newTask)\n    setRelTasks(prev => prev = portable ? [...prev, createdTask] : filterTasks([...prev, createdTask]))\n    onCreateTaskClearForm()\n    setOpened(prev => prev = false)\n    if (!portable) setOpenedModal(prev => prev = false)\n  }\n  const onClickOpenCreateTaskMenu = () => {\n    setOpened(prev => prev = !prev)\n  }\n  // methods\n\n  return (\n    <>\n      <WrapperTasks opened={portable ? opened : portable} portable={portable} type={type}>\n        {portable ? <div className=\"buttonUp\">\n          <button onClick={onClickOpenCreateTaskMenu}>\n            <DoubleLeftOutlined/>\n            Создать\n          </button>\n        </div> : \"\"}\n        <CreateTask portable={portable}>\n          <div className=\"type__select data\">\n            <select value={type} onChange={onChangeType}>\n              <option value=\"0\" defaultChecked>Связаться</option>\n              <option value=\"1\">Созвониться</option>\n              <option value=\"2\">Другое</option>\n            </select>\n          </div>\n          {type === 2 || !portable ? <div className=\"input__title data\">\n            <input placeholder=\"Название\" type=\"text\" name=\"title\" value={title} onChange={onChangeTitle}/>\n          </div> : <p></p>}\n          <div className=\"textarea__text data\">\n            <textarea placeholder=\"Задача\" name=\"text\" rows={5} value={text} onChange={onChangeText}/>\n          </div>\n          <div className=\"datepicker__deadline data\">\n            <DatePicker showTime value={deadline} placeholder=\"Конечный срок\" format={dateFormat}\n                        onChange={onChangeDate}/>\n          </div>\n          <TagBlock portable={portable}>\n            <div>\n              Выбранные теги:\n              <div>\n                {selectedTags.map(tag => {\n                  return <Tag key={tag._id} color={tag.color} onClick={() => onClickSelectTag(tag)}>{tag.name}</Tag>\n                })}\n              </div>\n            </div>\n            <div>\n              Создайте тег:\n              <CreateTagBlock portable={portable}>\n                <input type=\"text\" placeholder=\"Название тэга\" value={tagName} onChange={onChangeTagName}/>\n                <SubmitButton portable={portable} onClick={onClickCreateTag}>\n                  <button>Создать</button>\n                </SubmitButton>\n              </CreateTagBlock>\n            </div>\n            <div>\n              Выберите тег:\n              <div>\n                {tags.map(tag => {\n                  return <Tag key={tag._id} color={tag.color} onClick={() => onClickSelectTag(tag)}>{tag.name}</Tag>\n                })}\n              </div>\n            </div>\n          </TagBlock>\n          <SelectResponsible portable={portable}>\n            <p>Ответственный:</p>\n            <input type=\"text\" name=\"search\" value={search} onChange={onChangeSearch} placeholder=\"Поиск\"/>\n            <div>\n              {responsibles.length > 0 ? responsibles.map(el => (\n                <p key={el._id}\n                   onClick={() => onClickSelectResponsible(el)}>{selectResponsible(el).surname} {selectResponsible(el).name} {selectResponsible(el).midname}\n                  <AccountTypeSpan>{selectResponsible(el).accountType}</AccountTypeSpan></p>\n              )) : <span className=\"black\">Ничего не найдено</span>}\n            </div>\n            <p>Выбран:</p>\n            <div>\n              {selectedResponsible ? <p onClick={() => onClickDeleteResponsible(selectedResponsible)}>\n                {selectResponsible(selectedResponsible).surname} {selectResponsible(selectedResponsible).name} {selectResponsible(selectedResponsible).midname}\n                <AccountTypeSpan>\n                  {selectResponsible(selectedResponsible).accountType}\n                </AccountTypeSpan>\n              </p> : <span className=\"black\">Не выбрано</span>}\n            </div>\n          </SelectResponsible>\n          <SubmitButton portable={portable}>\n            <button onClick={onClickSubmit}>Создать</button>\n          </SubmitButton>\n        </CreateTask>\n      </WrapperTasks>\n    </>\n  )\n}","import { Toast } from '../../alert/alert.js'\n\nconst RestrictionMessage = status => {\n\tif (status == 403) {\n\t\tToast.fire({\n\t\t\ticon: 'error',\n\t\t\ttitle: 'У вас недостаточно прав для этого действия'\n\t\t});\n\t}\n}\n\nexport default RestrictionMessage","const initialState = {\n    all_disciplines: ['Программирование', 'Дизайн'],\n    selected_subject: undefined,\n    trial_lessons: [],\n    possible_teachers: [],\n    loading: false,\n    students_for_trial_lesson: [],\n    subject_teachers: [],\n    local_week: {},\n    chosen_teacher: {tutor: {_id: '', surname: '', name: '', midname: ''}, time: '', index: ''},\n    trial_lesson_day: ''\n}\n\nconst reducer = (state = initialState, action) => {\n    const {type, payload} = action\n\n    switch (type) {\n        case 'WHEN_CHOOSING_SUBJECT':\n            return {\n                ...state,\n                selected_subject: payload\n            }\n        case 'INSTALL_TRIAL_LESSONS':\n            return {\n                ...state,\n                trial_lessons: payload\n            }\n        case 'ADD_TRIAL_LESSONS':\n            return {\n                ...state,\n                trial_lessons: [...state.trial_lessons, payload]\n            }\n        case 'DELETE_TRIAL_LESSONS':\n            return {\n                ...state,\n                trial_lessons: state.trial_lessons.filter(lesson => (lesson._id !== payload))\n            }\n        case 'CHANGE_TRIAL_LESSONS':\n            return {\n                ...state,\n                trial_lessons: state.trial_lessons.map(lesson => {\n                    if (lesson._id === payload._id) {\n                        return payload\n                    } else {\n                        return lesson\n                    }\n                })\n            }\n        case 'IDENTIFY_POSSIBLE_TEACHERS':\n            return {\n                ...state,\n                possible_teachers: payload\n            }\n        case 'SPECIFY_LOADING':\n            return {\n                ...state,\n                loading: payload\n            }\n        case 'ADD_PUPIL_TO_TRIAL_LESSON':\n            return {\n                ...state,\n                students_for_trial_lesson: [...state.students_for_trial_lesson, payload]\n            }\n        case 'DELETE_PUPIL_TO_TRIAL_LESSON':\n            return {\n                ...state,\n                students_for_trial_lesson: state.students_for_trial_lesson.filter(pupil => pupil.id !== payload)\n            }\n        case 'SET_SUBJECT_TEACHERS':\n            return {\n                ...state,\n                subject_teachers: payload\n            }\n        case 'SET_LOCAL_WEEK':\n            return {\n                ...state,\n                local_week: payload\n            }\n        case 'FREE_DAY_FOR_TEACHER':\n            const {time, day, tutor} = payload\n            let new_local_week = JSON.parse(JSON.stringify(state.local_week))\n            new_local_week[time][day].tutors.push(tutor)\n            return {\n                ...state,\n                local_week: new_local_week\n            }\n        case 'SET_CHOSEN_TEACHER':\n            return {\n                ...state,\n                chosen_teacher: payload\n            }\n        case 'SET_TRIAL_LESSON_DAY':\n            return {\n                ...state,\n                trial_lesson_day: payload\n            }\n        default:\n            return state\n    }\n}\n\nexport default reducer","import {createStore} from \"redux\";\nimport reducer from \"./reducers\";\n\nconst store = createStore(reducer)\nexport default store","import React, {useState} from 'react';\nimport './form-log-in.css';\nimport Url from '../../url/url.js';\n\nimport {swallErr, Toast} from '../../alert/alert';\nimport RestrictionMessage from '../restriction-message/restriction-message.js'\n\nimport styled from '@emotion/styled';\n\nconst axios = require('axios'); // AJAX\n\nconst LogIn = styled.div({\n    height: '500px',\n    button: {\n        fontWeight: 'bold',\n        fontSize: '21px',\n        width: '150px',\n        borderRadius: '19px',\n        transition: '0.3s',\n        borderColor: '#007bff',\n        color: '#000',\n        '&:hover': {\n            transition: '0.3s',\n            backgroundColor: '#f7d99f'\n        }\n    },\n    label: {\n        fontSize: '24px',\n        fontWeight: '400'\n    },\n    input: {\n        color: '#000',\n        fontSize: '20px'\n    },\n    'input[type=text]': {\n        background: 'none'\n    },\n    'input[type=password]': {\n        background: 'none'\n    },\n    i: {\n        cursor: 'pointer'\n    }\n});\n\nconst FormlogIn = ({setUser}) => {\n\n    const [eye, setEye] = useState({\n        icons: 'bi-eye-fill',\n        type: 'password'\n    }); // bi-eye-slash-fill\n    const [valuePassword, setValuePassword] = useState(''),\n        [valueLogin, setValueLogin] = useState('');\n\n    const [disabled, setDisabled] = useState('submit');\n\n    // Style state\n    const [inputBorder_L, set_I_Border_L] = useState(''),\n        [inputBorder_P, set_I_Border_P] = useState('');\n\n\n    let valueChangeL = valueLogin,\n        valueChangeP = valuePassword;\n\n    const showPassword = () => {\n\n        setValuePassword(valueChangeP);\n        setValueLogin(valueChangeL);\n\n        if (eye.icons === 'bi-eye-fill') {\n            setEye({\n                icons: 'bi-eye-slash-fill',\n                type: 'text'\n            });\n        } else {\n            setEye({\n                icons: 'bi-eye-fill',\n                type: 'password'\n            });\n        }\n    }\n\n    // Alert\n    const swallGood = () => {\n        Toast.fire({\n            icon: 'success',\n            title: 'Вы успешно вошли в систему'\n        });\n    }\n    // \\alert\n\n    let opacityBtn = '1';\n\n    if (disabled === 'button') {\n        opacityBtn = '0.3';\n    }\n\n    const InputBorder_L_Style = styled.input`\n      border: ${inputBorder_L};\n    `\n    const InputBorder_P_Style = styled.input`\n      border: ${inputBorder_P};\n    `\n    const Button = styled.button`\n      opacity: ${opacityBtn};\n    `\n\n// =============\n\n\n    let regLogin = new RegExp(/^[\\w\\d\\W]{1,40}$/),\n        regPassword = new RegExp(/^.{1,40}$/);\n\n    // console.log(regPassword.test(name));\n\n    const FormSubmit = async (e) => {\n\n        setValuePassword(valueChangeP);\n        setValueLogin(valueChangeL);\n\n        e.preventDefault();\n\n        if (!regLogin.test(valueChangeL)) {\n            set_I_Border_L('2px solid red');\n        } else {\n            set_I_Border_L('');\n        }\n        if (!regPassword.test(valueChangeP)) {\n            set_I_Border_P('2px solid red');\n        } else {\n            set_I_Border_P('');\n        }\n\n        if (regLogin.test(valueChangeL) && regPassword.test(valueChangeP)) {\n            setDisabled('button');\n\n            axios({\n                method: 'post',\n                url: `${Url}/auth`,\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8'\n                },\n                data: {\n                    login: valueChangeL,\n                    password: valueChangeP\n                }\n            })\n            .then((res) => {\n                localStorage.setItem('tokenID', res.data.token)\n                // jwt.decode(localStorage.getItem('tokenID')\n\n                setValuePassword('');\n                setValueLogin('');\n                setDisabled('submit');\n                swallGood();\n                setUser(valueChangeL);\n            })\n            .catch((error) => {\n                if (error.response) {\n                    RestrictionMessage(error.response.status)\n                    let {status} = error.response;\n                    if (status === 400) {\n                        swallErr('Ой..', 'Пользователя не существует');\n                        set_I_Border_L('2px solid red');\n                        set_I_Border_P('2px solid red');\n                        setDisabled('submit');\n                    } else {\n                        setDisabled('submit');\n                    }\n                }\n            });\n        }\n    };\n\n    return (\n        <LogIn className=\"LogIn container d-flex align-items-center justify-content-center\">\n            <form\n                onSubmit={FormSubmit}\n                key={'form1'} className=\"col-md-8 col-12\">\n                <fieldset>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">{`Логин`}</label>\n                        <InputBorder_L_Style\n                            required\n                            onChange={(e) => {\n                                valueChangeL = e.target.value\n                            }}\n                            defaultValue={valueLogin} autoComplete=\"current-password\" type=\"name\"\n                            className=\"form-control\" name='login' id=\"exampleInputEmail1\"/>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Пароль</label>\n                        <InputBorder_P_Style\n                            required\n                            onChange={(e) => {\n                                valueChangeP = e.target.value\n                            }}\n                            defaultValue={valuePassword} autoComplete=\"current-password\" type={`${eye.type}`}\n                            className=\"form-control\" name=\"password\" id=\"exampleInputPassword1\"/>\n                        <div className=\"password-control\">\n                            <div className=\"d-flex justify-content-end\">\n                                <i onClick={showPassword} className={`bi ${eye.icons}`}\n                                   style={{fontSize: '28px', color: '#F5896C'}}></i>\n                            </div>\n                        </div>\n                    </div>\n                    <Button\n                        type={disabled} className=\"btn\">Войти\n                    </Button>\n                </fieldset>\n            </form>\n        </LogIn>\n    );\n};\n\nexport default FormlogIn;","import {RestrictionMessage} from '../../alert/alert'\nimport localStorage_change from './../../#localStorage_change';\nimport {swallErr} from \"../../alert/alert\";\n\nconst errorHandler = (onFunction, error, ...additionalActions) => {\n    if (error.response) {\n        let notification = true\n        additionalActions.forEach(fnc => {\n            if (typeof fnc !== \"boolean\") {\n                fnc()\n            } else {\n                notification = fnc\n            }\n        })\n        RestrictionMessage(error.response.status)\n        let {status, data} = error.response;\n\n        if (data.message === 'Bad Request' && notification) {\n            swallErr('Не возможно удалить воронку в которой есть ученик');\n        } else if (status == 404 && notification) {\n            swallErr('Сервер не найден');\n        } else if (status == 401) {\n\n            if (data.message == 'TOKEN_EXPIRED') {\n\n                localStorage_change(data.token);\n                onFunction();\n            } else {\n                localStorage.removeItem('tokenID');\n                window.location.replace(\"/\");\n            }\n        } else if (status == 500 && notification) {\n            swallErr('Ошибка сервера');\n        } else if (status == 400 && notification) {\n            swallErr('Не верно введены данные');\n        }\n    }\n}\n\nexport default errorHandler","import errorHandler from './../error-handler/error-handler'\nimport Url from './../../url/url'\n\nconst axios = require(\"axios\");\n\nexport const serverRequest = (setData, localUrl, tutorid = '', ...functionsONsuccess) => {\n\n    axios({\n        method: 'get',\n        url: `${Url}/CRM/Search/autocompletion?query=${localUrl}${tutorid}`,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        }\n    })\n        .then((res) => {\n            setData(res.data.body.hits.hits)\n            functionsONsuccess.forEach(fnc => {\n                fnc()\n            })\n        })\n        .catch((error) => {\n            errorHandler(serverRequest, error)\n        })\n}","import React, {useState, useEffect} from 'react';\nimport {serverRequest} from './server-request'\n\nimport {Link} from \"react-router-dom\";\n\nimport {Input, AutoComplete} from 'antd';\n\nimport styled from '@emotion/styled';\n\nconst Box = styled.div({\n    height: '30px',\n    input: {\n        height: '30px'\n    },\n    '.ant-input-search-button': {\n        paddingBottom: 'none'\n    }\n})\n\nconst renderItem = (title, obj) => {\n\n    let url\n\n    if (obj.type === 'pupil') {\n        url = `/student/${obj.id}`\n    } else {\n        url = `/group/${obj.id}`\n    }\n\n    return ({\n        value: title,\n        key: obj.id,\n        label: (\n            <Link\n                className=\"link-info\"\n                to={url}\n                style={{\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                }}>\n\n                {title}\n            </Link>\n        ),\n    })\n};\n\nconst SearchAll = ({tutorid = ''}) => {\n\n    const [Data, setData] = useState([])\n    const [Value, setValue] = useState('')\n\n    useEffect(() => {\n        document.getElementById('Search').focus();\n    });\n\n    const onSearch = (value) => {\n\n        let localUrl = encodeURI(value)\n\n        serverRequest(setData, localUrl, tutorid, [() => {\n            setValue(value)\n        }])\n    }\n\n    const renderTitle = (title) => (\n        <span>\n      {title}\n    </span>\n    );\n\n    let options = [\n        {\n            label: renderTitle('Ученики'),\n            options: [],\n        },\n        {\n            label: renderTitle('Группы'),\n            options: [],\n        }\n    ];\n\n    Data.forEach(item => {\n        if (item._index === 'pupils') {\n\n            let {surname, name, midname} = item._source\n            options[0].options.push(renderItem(`${surname} ${name} ${midname}`, item._source))\n        } else if (item._index === 'groups') {\n\n            let {group_name} = item._source\n            options[1].options.push(renderItem(group_name, item._source))\n        }\n    })\n\n    let typingTimer                //timer identifier\n    let doneTypingInterval = 500  //time in ms (5 seconds)\n\n    const onSearchInput = (text) => {\n        clearTimeout(typingTimer)\n        if (text) {\n            typingTimer = setTimeout(() => {\n                onSearch(text)\n            }, doneTypingInterval);\n\n        } else {\n            setValue('')\n            setData([])\n        }\n    }\n\n    return (\n        <Box>\n            <AutoComplete\n                dropdownClassName=\"certain-category-search-dropdown\"\n                dropdownMatchSelectWidth={500}\n                options={options}\n                defaultOpen={() => {\n                    return !!Value;\n                }}\n                defaultValue={`${Value}`}\n                onSearch={(text) => {\n                    onSearchInput(text)\n                }}\n                id='Search'>\n\n                <Input size=\"large\" placeholder=\"Поиск по CRM\"/>\n            </AutoComplete>\n        </Box>\n    );\n}\n\nexport default SearchAll","import moment from 'moment';\n\nconst ReturnAge = (data) => {\n\n    let year = moment(data).format('YYYY-MM-DD') // , 'YYYY-MM-DD'\n\n    let dateOfBirth = moment().diff(year, 'years')\n\n    return dateOfBirth ? dateOfBirth : 'Не указан';\n}\n\nexport default ReturnAge","const getLimit = Math.round(document.documentElement.clientHeight / 55) - 2\nexport default getLimit","import React from \"react\"\n\nimport { Pagination } from \"antd\"\nimport \"antd/dist/antd.css\"\nimport getLimit from \"./../../#more-functions/getLimit/getLimit.js\"\n\n// Style\nimport styled from \"@emotion/styled\"\n\nconst PaginationG = ({offset, setOffset, getItem, count}) => {\n\n\tconst PaginationI = styled.div({\n\t\tmargin: '3px 3px 20px 3px',\n\t\t'.ant-pagination-item-link': {\n\t\t\theight: '34px'\n\t\t}\n\t})\n\n\tconsole.log(offset / getLimit + 1)\n\n\treturn (\n\t\t<PaginationI>\n\t\t\t<Pagination \n\t\t\t\tdefaultPageSize={getLimit}\n\t\t\t\tdefaultCurrent={offset / getLimit + 1} \n\t\t\t\ttotal={count} \n\t\t\t\tshowSizeChanger={false} \n\t\t\t\tonChange={(i) => {\n\t\t\t\t\tsetOffset((i-1) * getLimit)\n\t\t\t\t\tgetItem((i-1) * getLimit)\n\t\t\t\t}}/>\n\t\t</PaginationI>\n\t)\n}\n\nexport default PaginationG","import {axiosGetFunnelSteps} from \"../../sales-funnel/helpers/axios-requests\";\nimport Url from \"../../../../url/url\";\nimport axios from \"axios\";\nimport getLimit from \"../../#more-functions/getLimit/getLimit\";\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst getFunnel = async (set) => {\n    let box = await axiosGetFunnelSteps(Url, 8)\n\n    set(prev => prev = box)\n}\n\nconst update = (offset = 0, param = {}, filtersGroups = {}, setUsers = () => {}, setCount = () => {}) => {\n\n    let filtersLocal = {}\n\n    for (let key in filtersGroups) {\n\n        if (filtersLocal.groups) {\n            filtersLocal.groups.push(key)\n        } else {\n            filtersLocal.groups = []\n            filtersLocal.groups.push(key)\n        }\n    }\n\n    for (let key in param) {\n        if (param[key][0]) {\n            if (key == 'surname' || key == 'name' || key == 'midname' || key == 'dateOfBirth') {\n                filtersLocal[`${key}s`] = param[key]\n            } else {\n                filtersLocal[`${key}`] = param[key]\n            }\n        }\n    }\n\n    if (filtersLocal.ages) {\n        let dateOfBirth = [...filtersLocal.ages]\n        filtersLocal.ages = []\n        dateOfBirth.forEach(dateOfBirth => {\n            filtersLocal.ages.push(+dateOfBirth)\n        })\n    }\n\n    if (filtersLocal.balance) {\n        let balance = [...filtersLocal.balance]\n        if (balance[0] == 1 & !balance[1]) {\n            filtersLocal.balance = {$gte: 0}\n        } else if (balance[0] == 2 & !balance[1]) {\n            filtersLocal.balance = {$lt: 0}\n        } else if (balance[1]) {\n            filtersLocal.balance = {$gte: 0, $lte: 0}\n        }\n    }\n\n    let p = {\n        filters: filtersLocal\n    }\n\n    axios({\n        method: 'post',\n        url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`, // ${10 + offset}\n        headers: {\n            'Content-Type': 'application/jsoncharset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: p\n    })\n    .then((res) => {\n\n        let {data, headers} = res\n        setUsers(data)\n        setCount(headers.count)\n    })\n    .catch((error) => {\n        errorHandler(update, error)\n    })\n}\n\nconst trashUser = async (item, update, offsetG, setUsers, setCount) => {\n\n    axios({\n        method: 'DELETE',\n        url: `${Url}/CRM/Pupils/${item._id}`,\n        headers: {\n            'Content-Type': 'application/jsoncharset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        }\n    })\n    .then((res) => {\n        update(offsetG, {}, {}, setUsers, setCount)\n    })\n    .catch((error) => {\n        errorHandler(trashUser, error)\n    })\n}\n\nconst getStudent_Id = (pageStudent_id, setDataS) => {\n    axios({\n        method: 'get',\n        url: `${Url}/CRM/Pupils/${pageStudent_id}`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        }\n    })\n        .then((res) => {\n            setDataS(res.data);\n        })\n        .catch((error) => {\n            errorHandler(getStudent_Id, error)\n        })\n}\n\nexport {\n    getFunnel,\n    update,\n    trashUser,\n    getStudent_Id\n}","import React, {useEffect, useState} from 'react'\nimport {Table, Tag} from 'antd'\n\nimport Url from '../../../url/url.js'\nimport ReturnAge from './../return-age/returnAge.js' // Определяет возраст\nimport Pagination from './../#more-functions/pagination/pagination.js' // Pagination\nimport {SalesFunnelModal} from './../sales-funnel/sales-funnel-modal'\nimport {getFunnel, trashUser, update} from \"./service-student/service-student\";\n\n// Библиотеки\nimport './student.css'\n\nimport {Link} from \"react-router-dom\"\n\nimport styled from '@emotion/styled'\n\nconst mq = [1020, 700].map(\n    bp => `@media (max-width: ${bp}px)`\n)\n\nconst TableL = styled.div({\n    padding: '0 30px',\n    [mq[1]]: {\n        padding: '0 0',\n    },\n    '.log_h2': {},\n    td: {\n        paddingTop: '1px',\n        paddingBottom: '4px'\n    },\n    'th, td': {\n        whiteSpace: 'nowrap'\n    }\n})\n\nconst Student = () => {\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(0)\n    const [funnel, setFunnel] = useState([{_id: ''}])\n\n    const [users, setUsers] = useState([\n        {\n            _id: '45343235456645',\n            surname: \"Список пуст...\",\n            name: \"\",\n            midname: \"\",\n            dateOfBirth: \"2004-12-07\",\n            gender: \"\",\n            phoneNumber: \"\",\n            parentPhoneNumber: \"\",\n            discordNickname: \"\",\n            groups: [],\n            parentFullname: '',\n            statuses: []\n        }\n    ])\n\n    useEffect(() => {\n        update(0, {}, {}, setUsers, setCount)\n        getFunnel(setFunnel)\n    }, [])\n\n    useEffect(() => {\n        document.querySelectorAll(\"input\").forEach((item) => {\n            item.value = ''\n        })\n        document.querySelectorAll('select').forEach((item) => {\n            item.value = ''\n        })\n    })\n\n    const dataSource = []\n\n    users.forEach((item) => {\n\n        let {_id, parentFullname, statuses, surname, name, midname, dateOfBirth, gender, phone, balance, parentPhone, discord, groups} = item\n\n        dataSource.push({\n            key: _id,\n            trash: () => {trashUser(item, update, offsetG, setUsers, setCount)},\n            surname: () => (\n                <Link\n                    className=\"link-info\"\n                    to={`/student/${_id}`}>\n                    {surname}\n                </Link>\n            ),\n            name,\n            midname,\n            dateOfBirth: ReturnAge(dateOfBirth),\n            gender,\n            phoneNumber: phone,\n            tutor: '',\n            parentPhoneNumber: parentPhone,\n            parentFullname,\n            balance: `${balance}`,\n            groups: groups ? groups : [],\n            discordNickname: discord,\n            statuses\n        })\n    })\n\n    const getColumn = (title, dataIndex) => ({\n        title: title,\n        dataIndex: dataIndex,\n        key: dataIndex\n    })\n\n    const columns = [\n        {\n            title: \"\",\n            dataIndex: \"trash\",\n            key: \"trash\",\n            render: (trash) => {\n                if (trash) {\n                    return (\n                        <i\n                            onClick={trash}\n                            className=\"bi bi-trash\"\n                            style={{\n                                fontSize: \"30px\",\n                                color: \"#F56767\",\n                                cursor: \"pointer\",\n                            }}\n                        />\n                    );\n                }\n            },\n        },\n        {\n            ...getColumn(\"Фамилия\", \"surname\"),\n            render: (surname) => {\n                if (typeof surname == \"function\") {\n                    return surname();\n                }\n            }\n        },\n        {\n            ...getColumn(\"Имя\", \"name\")\n        },\n        {\n            ...getColumn(\"Отчество\", \"midname\")\n        },\n        {\n            ...getColumn(\"Возраст\", \"dateOfBirth\")\n        },\n        {\n            ...getColumn(\"Пол\", \"gender\")\n        },\n        {\n            ...getColumn('Статусы', 'statuses'),\n            render: (statuses) => {\n                if (statuses) {\n                    return (\n                        statuses.map(status => {\n                            const {color, _id, name} = status\n                            return (\n                                <Tag color={color} key={_id}>{name}</Tag>\n                            )\n                        })\n                    )\n                }\n            }\n        },\n        {\n            ...getColumn('ФИО Родителя', 'parentFullname')\n        },\n        {\n            ...getColumn(\n                \"Номер телефона\",\n                \"phoneNumber\"\n            )\n        },\n        {\n            ...getColumn(\"Номер телефона родителя\", \"parentPhoneNumber\")\n        },\n        {\n            ...getColumn(\"Баланс\", \"balance\")\n        },\n        {\n            ...getColumn(\"Группы\", \"groups\"),\n            render: (groups) => {\n                if (typeof groups.map == \"function\") {\n                    return (\n                        <>\n                            {groups.map((item) => (\n                                <Tag\n                                    color=\"blue\"\n                                    key={`${item._id}`}\n                                >\n                                    {item.group_name}\n                                </Tag>\n                            ))}\n                        </>\n                    );\n                }\n            }\n        },\n        {\n            ...getColumn(\"Дискорд никнейм\", \"discordNickname\")\n        },\n    ]\n\n    return (\n        <>\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\n                <div className=\"container-fluid d-flex\">\n                    <div className=\"collapse d-flex flex-row h3-person\">\n                        <div className=\"d-flex plus-box\">\n                            <div>\n                                <h3>Ученики</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </nav>\n\n            <TableL className=''>\n                <div>\n                    <div className={`table_user`}>\n                        <Table\n                            pagination={false}\n                            dataSource={dataSource}\n                            columns={columns}\n                            scroll={{x: 0}}>\n                        </Table>\n                    </div>\n                    <Pagination getItem={(offset) => {update(offset, {}, {}, setUsers, setCount)}} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n                </div>\n            </TableL>\n            <SalesFunnelModal\n                loader={{\n                    loaded: true, setLoaded: () => {}\n                }}\n                status={1}\n                funnel={funnel[0]? funnel : [{_id: ''}]}\n                pageSize={8}\n                Url={Url}\n                pupils={{\n                    pupilsList: [], setPupilsList: () => {}\n                }}\n                bigIcon={true}\n                update={() => {update(0, {}, {}, setUsers, setCount)}}\n                defaultValueOptionFunnel={(<option value='' defaultValue></option>)}\n            />\n        </>\n    )\n}\n\nexport default Student","import Url from './../../../url/url.js';\nimport {swallErr} from './../../../alert/alert.js';\nimport errorHandler from \"../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst Change_Balance = (sym, pupil_id, updeteStudent, Change = () => {}, subscription, group_id, returnBalance) => {\n\n\tlet urlLocal = subscription? `/CRM/Pupils/${pupil_id}/Payment?amount=${+sym}&subscription=${subscription}&group_id=${group_id}` : `/CRM/Pupils/${pupil_id}/Payment?amount=${+sym}`\n\n\taxios({\n\t\tmethod: \"post\",\n\t\turl: `${Url}${urlLocal}`, // amount&subscription&group_id\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json;charset=utf-8\",\n\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n\t\t},\n\t})\n\t.then((res) => {\n\t\tChange();\n\t\tupdeteStudent();\n\t})\n\t.catch((error) => {\n\t\terrorHandler(\n\t\t\t() => {},\n\t\t\terror,\n\t\t\treturnBalance,\n\t\t\tupdeteStudent,\n\t\t\t() => {swallErr(\"Не удалось пополнить баланс\", \"Попробуйте снова\")}\n\t\t)\n\t});\n\n}\n\nexport default Change_Balance;","import React, {useState, useEffect} from 'react';\nimport {Menu, Dropdown, Popover} from 'antd';\n\nimport Url from './../../../../../url/url.js';\nimport {swallErr} from '../../../../../alert/alert';\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\n\nimport Change_Balance from './../../../change-balance/changeBalance.js';\n\nimport moment from 'moment';\nimport {Link} from \"react-router-dom\";\n// Style \nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../../error-handler/error-handler\";\n\nlet Span = styled.div({ // День из расписания ученика.\n    margin: '0 3px 0 0',\n    position: 'initial',\n    button: {\n        fontSize: '15px',\n        fontWeight: '600',\n        padding: '1px 7px',\n        width: '71px'\n    },\n    '.btnAbic': {\n        width: '100%'\n    },\n    ul: {\n        border: 'none',\n        background: 'rgba(0, 0, 0, 0.3)',\n        padding: '6px'\n    },\n    '.li': {\n        border: 'none',\n        background: 'rgba(0, 0, 0, 0)',\n        span: {\n            borderRadius: '6px',\n            fontWeight: '500',\n            cursor: 'pointer'\n        },\n        '.input-group-text': {\n            margin: '0',\n            borderRadius: '6px 0 0 6px'\n        },\n        textarea: {\n            padding: '2px 7px',\n            fontWeight: '500'\n        }\n    }\n});\n\nconst axios = require('axios'); // AJAX\n\nconst PupilsSandTime = ({itemG, dataGroup, getGroup_Id, setData, surname, name, pageInfo, type}) => {\n\n    const [visibleNumber, setVisibleNumber] = useState('-1')\n\n    const [fixedSchedule, setFixedSchedule] = useState(['fixedSchedule-H', '', 'bi-plus-circle']);\n\n    let ScheduleItem = itemG.localSchedule[`${dataGroup}`] ? itemG.localSchedule[`${dataGroup}`] : []\n\n    const [value, setValue] = useState('')\n\n    const [dataS, setDataS] = useState(ScheduleItem);\n\n\n    const revers = () => {\n        if (fixedSchedule[0] == 'fixedSchedule-H') {\n            setFixedSchedule(['scheblueFixet', ' global-fon3000', 'bi-x-circle']);\n        } else {\n            setFixedSchedule(['fixedSchedule-H', '', 'bi-plus-circle']);\n        }\n    }\n\n    const addNotes = (name, axiosPut = () => {\n    }) => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/${itemG._id}/Notes`,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                text: name\n            }\n        })\n        .then(() => {\n            axiosPut()\n        })\n        .catch((error) => {\n            errorHandler(() => {addNotes(name, axiosPut)}, error, getGroup_Id)\n        })\n    }\n\n    const [Abic, setAbic] = useState([]);\n\n    const getAbic = () => {\n        axios({\n            method: \"get\",\n            url: `${Url}/CRM/Subscriptions`,\n            headers: {\n                \"Content-Type\": \"application/json;charset=utf-8\",\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n            },\n        })\n        .then((res) => {\n            setAbic(res.data);\n        })\n        .catch((error) => {\n            errorHandler(getAbic, error)\n        });\n    }\n\n    const axiosPut = (mass, ChangeBalic = () => {\n    }) => {\n        axios({\n            method: 'put',\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}/Schedule`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: mass\n        })\n        .then((res) => {\n            ChangeBalic()\n        })\n        .catch((error) => {\n            errorHandler(() => {axiosPut(mass, ChangeBalic)}, error)\n        });\n    }\n\n    const liAbic = Abic.map((abic, i) => {\n\n        const PaySubscription = () => {\n            let arr = [...dataS];\n\n            let n = 0,\n                index = 0;\n            while (n < abic.hoursCount) {\n                if (!arr[index].paid) {\n                    arr[index].paid = true;\n                    n++;\n                }\n                index++;\n            }\n\n            let updete = () => {\n            }; // Не обращяй внимание.\n\n            axiosPut(arr, () => {\n                Change_Balance(`-${abic.price}`, itemG._id, updete, getGroup_Id, abic._id, dataGroup, () => {\n                    axiosPut(arr)\n                })\n            });\n            setDataS(arr);\n        }\n        return (\n            <Menu.Item key={i} className=\"li\">\n\t\t\t\t<span\n                    onClick={PaySubscription}\n                    className=\"dropdown-item bg-info text-light\"\n                    href=\"#\">\n\t\t\t\t\t{abic.name}\n\t\t\t\t</span>\n            </Menu.Item>);\n    });\n\n    const menu = (\n        <Menu>\n            {liAbic}\n        </Menu>\n    )\n\n    useEffect(() => {\n        getAbic();\n    }, []);\n\n    const breakpoints = [780, 1380, 2002], // 619, 1238, 1857, > 2476\n        mq = breakpoints.map(\n            bp => `@media (max-width: ${bp}px)`\n        )\n\n\n    const Div_box = styled.div({\n        borderBottom: '1px solid #91A8B0',\n        paddingBottom: '5px',\n        marginBottom: '5px',\n        i: {\n            color: '#17a2b8',\n            fontSize: '26px',\n            cursor: 'pointer',\n            paddingTop: '10px'\n        },\n        '.global-fon3000': {\n            position: 'fixed',\n            top: '0',\n            left: '0',\n            zIndex: '99',\n            height: '100vh',\n            background: 'rgba(0, 0, 0, 0.6)',\n            overflowY: 'scroll',\n            i: {\n                position: 'fixed',\n                top: '3px',\n                left: '7px',\n                color: '#fff'\n            },\n            '.bi-trash': {\n                display: 'none'\n            }\n        },\n        h4: {\n            display: 'inline-block',\n            marginRight: '10px',\n            marginBottom: '19px'\n        },\n        '.fixedSchedule-H': {\n            maxHeight: '81px',\n            overflow: 'hidden'\n        },\n\n        '.scheblueFixet': {\n            margin: '0 auto',\n            marginTop: '50px',\n            width: '86%'\n        },\n        '.fixedSchedule-H, .scheblueFixet': {\n            overflow: 'hidden',\n            width: '2476px',\n            [mq[2]]: {\n                width: '1857px'\n            },\n            [mq[1]]: {\n                width: '1238px'\n            },\n            [mq[0]]: {\n                width: '619px'\n            },\n        },\n        '.boxDay': {\n            overflowX: 'auto',\n            padding: '0 0 10px 0',\n            '&::-webkit-scrollbar': {\n                height: '10px',\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                borderRadius: '10px'\n            },\n            '&::-webkit-scrollbar-thumb': {\n                backgroundColor: '#17a2b8',\n                borderRadius: '10px'\n            }\n        }\n    });\n\n    let SchedulePupils;\n\n    let index = 1;\n\n    SchedulePupils = dataS.map((item, i) => {\n        let marginRight = 0;\n        if (index == 8) {\n            marginRight = 27;\n            index = 1;\n        } else {\n            index++;\n        }\n\n        let day = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\n\n        let color = '#f8f9fa',\n            opacity = '1';\n\n        let time = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\n            time_day = moment().diff(time, 'day');\n\n        if (item.paid && item.status != 3 && time_day <= 0) {\n            color = '#17a2b8';\n        } else if (item.status == 3 && time_day <= 0) {\n            color = '#6c757d'\n        } else if (item.status == 3 && item.paid) {\n            color = '#dc3545';\n        } else if (time_day > 0 && item.paid) {\n            color = '#28a745';\n        } else if (time_day > 0 && !item.paid && item.status != 3) {\n            color = '#28a745';\n            opacity = '0.5';\n        } else if (time_day > 0 && !item.paid && item.status == 3) {\n            color = '#dc3545';\n            opacity = '0.5';\n        }\n\n        const changeDayIndex = (index) => {\n            let arr = [...dataS];\n\n            console.log(index)\n\n            if (index === 2 && arr[i].status === 3) {\n                arr[i].status = index;\n\n                axiosPut(arr);\n                setDataS(arr);\n\n            } else if (index === 3 && time_day < 0) {\n                arr[i].status = index;\n\n                axiosPut(arr);\n                setDataS(arr);\n            } else if (index !== 3 && index !== 2) {\n                arr[i].title = index;\n                addNotes(index, () => {\n                    axiosPut(arr)\n                })\n                setDataS(arr);\n            } else {\n                swallErr('Не возможно установить статус');\n            }\n        };\n\n        const Item = styled.span({\n            marginRight: `${marginRight}px`\n        })\n\n        let title = item.title\n        let colorTitle = '';\n        if (item.title) {\n            colorTitle = '#ffc107';\n        }\n\n        const menuItem = (\n            <Menu key={day}>\n                <Menu.Item key={`${day}1`}>\n                    <span onClick={() => {\n                        changeDayIndex(3)\n                    }} className=\"dropdown-item bg-secondary text-light\">Пропустил</span>\n                </Menu.Item>\n                <Menu.Item key={`${day}2`}>\n                    <span onClick={() => {\n                        changeDayIndex(2)\n                    }} className=\"dropdown-item bg-success text-light\">Урок пройден</span>\n                </Menu.Item>\n                <Menu.Item key={`${day}3`}>\n                    <div className=\"input-group\">\n\t\t\t\t\t\t\t\t<span\n                                    onClick={() => {\n                                        changeDayIndex(title)\n                                        setVisibleNumber('')\n                                    }}\n                                    className=\"input-group-text bg-info text-light\"\n                                >\n\t\t\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t\t\t</span>\n                        <textarea\n                            placeholder='Оставьте заметку...'\n                            defaultValue={title}\n                            onChange={(e) => {\n                                title = e.target.value\n                            }}\n                            className=\"form-control\" aria-label=\"With textarea\"\n                        />\n                    </div>\n                </Menu.Item>\n            </Menu>\n        )\n\n        let visibleLocal = false\n\n        if (visibleNumber === i) {\n            visibleLocal = true\n        } else if (visibleNumber === '') {\n            visibleLocal = false\n        }\n\n        return (\n            <Item key={`${day}${i}`}>\n                <Span className=\"btn-group\">\n                    <Dropdown\n                        onVisibleChange={(s) => {}}\n                        overlay={menuItem}\n                        visible={visibleLocal}\n                        trigger={['click']}\n                    >\n                        <button\n                            type=\"button\"\n                            style={{color: `${colorTitle}`, background: `${color}`, opacity: `${opacity}`}}\n                            className={`btn dropdown-toggle`}\n                            onClick={() => {\n                                if (visibleNumber === i) {\n                                    setVisibleNumber('')\n                                } else {\n                                    setVisibleNumber(i)\n                                }\n                            }}\n                        >\n                            {day}\n                        </button>\n                    </Dropdown>\n                </Span>\n            </Item>\n        );\n    });\n\n    let urlPage = itemG._id,\n        page = 'student';\n    if (pageInfo) {\n        page = pageInfo;\n        urlPage = dataGroup;\n    }\n    let LinkItem = (\n        <Link\n            to={`/${page}/${urlPage}`}>\n            <h4>{`${surname} ${name}`}</h4>\n        </Link>\n    );\n\n    let oplata = ''\n\n    let jwt = require('jsonwebtoken');\n    if (jwt.decode(localStorage.getItem('tokenID')).accountType != 'teacher') {\n        oplata = (\n            <span>\n\t\t\t\t\t<Span className=\"btn-group\">\n\t\t\t\t\t\t<Dropdown overlay={menu} trigger={['click']}>\n\t\t\t\t\t\t\t<button\n                                type=\"button\"\n                                className={`btn btn-success dropdown-toggle btnAbic`}\n                            >\n\t\t\t\t\t\t\t\tОплатить\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t</Span>\n\t\t\t\t</span>\n        )\n    }\n\n    const deletePupils = () => {\n\n        axios({\n            method: 'delete',\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}`,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then(res => {\n\n            let {group, pupil} = res.data\n\n            if (type == 'group') {\n                setData(group)\n            } else if (type == 'pupil') {\n                setData(pupil)\n            }\n        })\n        .catch(error => {\n            if (error.response) {\n                RestrictionMessage(error.response.status)\n            }\n        })\n    }\n\n    return (\n        <Div_box key={itemG._id} className=\"table\">\n            <div className=\"pupils-item row\">\n                <div className=\"col-12\">\n                    {LinkItem}\n                    {oplata}\n                </div>\n                <div className={`col-12${fixedSchedule[1]}`}>\n                    <div className=\"boxDay\">\n                        <div className={`${fixedSchedule[0]}`}>\n                            {SchedulePupils}\n                        </div>\n                    </div>\n                    <i onClick={() => {\n                        revers()\n                    }} className={`bi ${fixedSchedule[2]}`}></i>\n                    <Popover\n                        title={'Внимание'}\n                        content={'Удаление ученика из группы'}\n                        placement=\"right\"\n                        trigger={'hover'}\n                    >\n                        <i\n                            onClick={deletePupils}\n                            className='bi bi-trash'\n                            style={{color: 'rgb(245, 103, 10', marginLeft: '10px'}}></i>\n                    </Popover>\n                </div>\n            </div>\n        </Div_box>\n    );\n};\n\nPupilsSandTime.defaultProps = {\n    surname: ''\n}\n\nexport default PupilsSandTime;","export const setStudent = (pupil, addedStudents, addStudent, setValue) => {\n\n    let permitted = true\n\n    addedStudents.forEach(item => {\n        if (item.id === pupil.id) {\n            permitted = false\n        }\n    })\n\n    if (permitted) {\n        addStudent([...addedStudents, pupil])\n        setValue('')\n    }\n}\n\nexport const removeStudent = (id, addedStudents, addStudent, setValue) => {\n    const newStydent = addedStudents.filter(item => (item.id !== id))\n    addStudent(newStydent)\n    setValue('')\n}\n\nexport const sortingSearchResponses = (data, setArrayEligibleStudents, index = \"pupils\") => {\n    let arrPupils = []\n\n    data.forEach(item => {\n        if (item._index === index) {\n            arrPupils.push(item._source)\n        }\n    })\n    setArrayEligibleStudents(arrPupils)\n}","import axios from \"axios\";\nimport Url from \"../../../../../url/url\";\nimport errorHandler from \"../../../../error-handler/error-handler\";\n\nexport const requestAddStudentGroup = (groupId, studentId, set, callBefore = () => {}) => {\n    callBefore()\n    axios({\n        method: 'post',\n        url: `${Url}/CRM/Groups/${groupId}/Pupils`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: {\n            ids: [studentId]\n        }\n    })\n        .then((res) => {\n            set(res.data)\n        })\n        .catch((error) => {\n            errorHandler(requestAddStudentGroup, error)\n        })\n}","import React, {useState} from \"react\";\nimport {Input, Modal} from 'antd'\nimport {handleCancel, handleOk, showModal} from './add-student-group-logic'\nimport {AppstoreAddOutlined} from '@ant-design/icons'\nimport {serverRequest} from \"../../../../search/server-request\";\nimport {sortingSearchResponses} from \"../../../group/group-logic\";\nimport {requestAddStudentGroup} from \"./request-add-student-group\";\nimport {useParams} from \"react-router-dom\";\nimport {loading, swallGood} from \"../../../../../alert/alert\";\n\nconst AddStudentGroup = ({data, updatePage}) => {\n\n    const studentId = useParams().id\n    const {groups} = data\n\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [value, setValue] = useState('')\n    const [ArrayEligibleGroups, setArrayEligibleGroups] = useState([])\n\n    const SuitableGroups = ArrayEligibleGroups.map(item => {\n\n        const {group_name, id} = item\n\n        return (\n            <li\n                style={{fontSize: '18px'}}\n                onClick={() => {\n                    requestAddStudentGroup(\n                        id,\n                        studentId,\n                        (resData) => {\n                            swallGood('Ученик добавлен в группу')\n                            setIsModalVisible(false)\n                            console.log(resData)\n                            console.log({...data, groups: [...groups, resData]})\n                            console.log(data)\n                            updatePage({...data, groups: [...groups, resData]})\n                        },\n                        loading\n                        )\n                }}\n                key={id}\n                className=\"list-group-item\">\n                <span className=\"badge bg-warning text-dark\">{`${group_name}`}</span>\n            </li>\n        )\n    })\n\n    let spanGroup = groups.map((item) => {\n        return <span key={item._id} className={`badge bg-light text-dark`}>{item.group_name}</span>;\n    });\n\n    return (\n        <>\n            {spanGroup}\n            <AppstoreAddOutlined\n                onClick={() => {\n                    showModal(setIsModalVisible)\n                }}\n                style={{color: 'rgb(23, 162, 184)', fontSize: '23px'}}\n            />\n            <Modal\n                title=\"Добавить группу\"\n                visible={isModalVisible}\n                onOk={() => {\n                    handleOk(setIsModalVisible)\n                }}\n                onCancel={() => {\n                    handleCancel(setIsModalVisible)\n                }}\n            >\n                <div>\n                    <div className=\"row addPUPILS\">\n                        <div className=\"input-group\">\n                            <Input\n                                placeholder={'Найти группы...'}\n                                onChange={(e) => {\n                                    setValue(e.target.value)\n                                    serverRequest((data) => {\n                                        sortingSearchResponses(data, setArrayEligibleGroups, 'groups')\n                                    }, encodeURI(e.target.value))\n                                }}\n                                value={value}\n                            />\n\n                            <ul className=\"list-group list-group-flush\">\n                                {SuitableGroups}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </Modal>\n        </>\n    )\n}\n\nexport default AddStudentGroup","export const showModal = (setIsModalVisible) => {\n    setIsModalVisible(true);\n};\n\nexport const handleOk = (setIsModalVisible) => {\n    setIsModalVisible(false);\n};\n\nexport const handleCancel = (setIsModalVisible) => {\n    setIsModalVisible(false);\n};","import React, {useState} from 'react';\nimport {DatePicker, Dropdown, Menu} from 'antd';\n\nimport Url from './../../../../../url/url.js';\nimport ReturnAge from './../../../return-age/returnAge.js';\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\n\nimport InputMask from 'react-input-mask';\n\nimport {loading, Swalclose, Toast} from '../../../../../alert/alert';\n\n// Style\nimport styled from '@emotion/styled';\nimport AddStudentGroup from \"../add-student-group-/add-student-group-\";\n\nconst Info_Table = styled.ul({\n    marginLeft: '10px',\n    '.ant-picker': {\n        span: {\n            margin: '0'\n        }\n    },\n    '.ant-picker-input': {\n        input: {\n            width: '127px'\n        }\n    }\n})\n\nconst Li = styled.li`\n  padding: 0.5rem 1.25rem;\n`\n\nconst InfoTable = ({dataStudent, updetePage}) => {\n\n    let newInfo = {};\n\n    const axios = require('axios'); // AJAX\n\n    const [visible, setVisible] = useState('')\n\n    const {\n        name,\n        surname,\n        midname,\n        gender,\n        parentFullname,\n        dateOfBirth,\n        phone,\n        parentPhone,\n        discord,\n        _id\n    } = dataStudent;\n\n    const onChangeInfoItem = () => {\n\n        loading('Изменения загружаются', 'Пожалуйста подождите');\n\n        axios({\n            method: 'patch',\n            url: `${Url}/CRM/Pupils/${_id}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: newInfo\n        })\n            .then((res) => {\n                updetePage(res.data)\n                Swalclose();\n                Toast.fire({\n                    icon: 'success',\n                    title: 'Изменения сохранены'\n                });\n            })\n            .catch((error) => {\n                if (error.response) {\n                    RestrictionMessage(error.response.status)\n                }\n            })\n    }\n\n    const menuSurname = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Поменять фамилию\"\n                    onChange={(e) => {\n                        newInfo = {surname: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        setVisible('')\n                        onChangeInfoItem()\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuName = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Новое имя\"\n                    onChange={(e) => {\n                        newInfo = {name: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        setVisible('')\n                        onChangeInfoItem()\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuMidname = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Изменить поле...\"\n                    onChange={(e) => {\n                        newInfo = {midname: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuParentPhone = (\n        <Menu>\n            <Menu.Item>\n                <InputMask\n                    mask='+9 (999) 999-99-99'\n                    placeholder=\"Новый номер\"\n                    onChange={(e) => {\n                        newInfo = {parentPhone: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuPhone = (\n        <Menu>\n            <Menu.Item>\n                <InputMask\n                    mask='+9 (999) 999-99-99'\n                    placeholder=\"Новый номер\"\n                    onChange={(e) => {\n                        newInfo = {phone: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t    \t<span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuDiscord = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Изменить NickName\"\n                    onChange={(e) => {\n                        newInfo = {discord: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t    \t<span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n\n    return (\n        <Info_Table className=\"list-group list-group-flush\">\n            <Li className=\"list-group-item\">Фамилия:\n                <span className=\"badge bg-warning text-dark\">{surname}</span>\n                <div className={`btn-group`}>\n                    <Dropdown overlay={menuSurname} visible={() => {\n                        if (visible === 'Surname') {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }} trigger={['click']}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'Surname') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('Surname')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n                        ></i>\n                    </Dropdown>\n                </div>\n            </Li>\n            <Li className=\"list-group-item\">Имя: <span className=\"badge bg-warning text-dark\">{name}</span>\n                <div className={`btn-group`}>\n                    <Dropdown overlay={menuName} visible={() => {\n                        if (visible === 'Name') {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }} trigger={['hover']}>\n                        <i onClick={() => {\n                            if (visible === 'Name') {\n                                setVisible('')\n                            } else {\n                                setVisible('Name')\n                            }\n                        }}\n                           className=\"bi bi-pencil\"\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </Li>\n            <Li className=\"list-group-item\">Отчество: <span className=\"badge bg-warning text-dark\">{midname}</span>\n                <div className={`btn-group`}>\n                    <Dropdown overlay={menuMidname} visible={() => {\n                        if (visible === 'Midname') {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }} trigger={['hover']}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'Midname') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('Midname')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </Li>\n            <Li className=\"list-group-item\">\n                Возраст:\n                <span className=\"badge bg-success text-light\">{ReturnAge(dateOfBirth)}</span>\n                <DatePicker\n                    onChange={(data) => {\n                        newInfo = {dateOfBirth: data._d.toISOString()}\n                        onChangeInfoItem()\n                    }}\n                    placeholder='Изменить возраст'\n                />\n            </Li>\n            <Li className=\"list-group-item\">\n                Пол:\n                <span className=\"badge bg-success text-light\">{gender}</span>\n            </Li>\n            <Li className=\"list-group-item\">\n                ФИО Родителя:\n                <span className=\"badge bg-success text-light\">{parentFullname}</span>\n            </Li>\n            <Li className=\"list-group-item\">Номер родителя: <span\n                className=\"badge bg-info text-light\">{parentPhone}</span>\n                <div className={`btn-group`}>\n                    <Dropdown\n                        overlay={menuParentPhone}\n                        visible={() => {\n                            if (visible === 'ParentPhone') {\n                                return true\n                            } else {\n                                return false\n                            }\n                        }}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'ParentPhone') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('ParentPhone')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </Li>\n            <Li className=\"list-group-item\">Номер ученика: <span className=\"badge bg-warning text-dark\">{phone}</span>\n                <div className={`btn-group`}>\n                    <Dropdown\n                        overlay={menuPhone}\n                        visible={() => {\n                            if (visible === 'Phone') {\n                                return true\n                            } else {\n                                return false\n                            }\n                        }}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'Phone') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('Phone')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </Li>\n            <Li className=\"list-group-item\">Discord: <span className=\"badge bg-light text-dark\">{discord}</span>\n                <div className={`btn-group`}>\n                    <Dropdown\n                        className='Discord'\n                        overlay={menuDiscord}\n                        visible={() => {\n                            return visible === 'Discord';\n                        }}>\n                        <i\n                            className=\"bi bi-pencil\"\n                            onClick={() => {\n                                if (visible === 'Discord') {\n                                    setVisible('')\n                                } else {\n                                    setVisible('Discord')\n                                }\n                            }}\n                            style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n                        ></i>\n                    </Dropdown>\n                </div>\n            </Li>\n            <Li\n                className=\"list-group-item\">\n                Группы: <AddStudentGroup data={dataStudent} updatePage={updetePage}/>\n            </Li>\n        </Info_Table>\n    );\n}\n\nexport default InfoTable;","import React, {useState} from 'react';\nimport {Dropdown, Menu} from 'antd';\n\nimport Change_Balance from './../../../change-balance/changeBalance.js';\n// Style\nimport styled from '@emotion/styled';\n\nconst Span = styled.span({\n    borderRadius: '6px',\n    fontWeight: '500',\n    cursor: 'pointer',\n    fontSize: '14px'\n});\nconst Div = styled.div`\n  padding: 0;\n  h6 {\n    font-size: 1.25rem;\n  }\n`\n\nconst Balance = ({balance_item, pageStudent_id, updeteStudent}) => {\n\n    const [visible, setVisible] = useState(false)\n    const [balance, setBalance] = useState(+balance_item ? +balance_item : 0);\n\n    let incBalance = 0;\n\n    const returnBalance = () => {\n        setBalance(balance)\n    }\n\n    const ChangeBalance = () => {\n        let sum = +balance + +incBalance\n        setBalance(sum);\n\n        Change_Balance(incBalance, pageStudent_id, updeteStudent, undefined, undefined, undefined, returnBalance);\n    }\n\n    const menu = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Пополнить\"\n                    onChange={(e) => {\n                        incBalance = e.target.value\n                    }}\n                    type=\"number\" className=\"text-info form-control col-12\"\n                />\n            </Menu.Item>\n            <Menu.Item>\n                <Span\n                    onClick={() => {\n                        setVisible(!visible)\n                        ChangeBalance()\n                    }}\n                    className=\"badge bg-warning text-dark\">\n                    Сохранить\n                </Span>\n            </Menu.Item>\n        </Menu>\n    );\n\n    return (\n        <Div className=\"balance\">\n            <h6 className=\"calendar badge bg-success text-light\">\n                {balance}\n                <span>₽</span>\n            </h6>\n            <Dropdown overlay={menu} visible={visible} trigger={['click']}>\n                <i id=\"dropdownMenuReference\"\n                   className=\"bi bi-plus\"\n                   onClick={() => {\n                       setVisible(!visible)\n                   }}\n                   style={{fontSize: \"30px\", color: '#17a2b8', cursor: 'pointer'}}\n                />\n            </Dropdown>\n        </Div>\n    );\n}\n\nexport default Balance;","import React from 'react';\n\n// Style\nimport styled from '@emotion/styled';\nimport Balance from \"../balance/balance\";\n\nconst PayHistoryDiv = styled.div({\n    margin: '0',\n    padding: '0',\n    '.colona': {\n        padding: '0 3px',\n        marginBottom: '15px',\n        h3: {\n            fontSize: '16px'\n        },\n        ul: {\n            borderRadius: '5px',\n            overflow: 'auto',\n            maxHeight: '268px',\n            '&::-webkit-scrollbar': {\n                width: '10px',\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                borderRadius: '10px'\n            },\n            '&::-webkit-scrollbar-thumb': {\n                backgroundColor: '#17a2b8',\n                borderRadius: '10px'\n            }\n        },\n        li: {\n            span: {\n                fontSize: '17px',\n\n            }\n        }\n    },\n    '.colona-1': {\n        ul: {\n            border: '1px solid #28a745'\n        },\n        li: {\n            span: {\n                color: '#28a745',\n            }\n        }\n    },\n    '.colona-2': {\n        ul: {\n            border: '1px solid #f27474'\n        },\n        li: {\n            span: {\n                color: '#28a745',\n            }\n        }\n    }\n})\nconst Box2 = styled.div`\n  padding: 0 13px;\n`\n\nconst PayHistory = ({balance_item, pageStudent_id, updeteStudent, pay_History}) => {\n\n    let pay_HistoryLocal = pay_History ? pay_History : []\n\n    let liInc = [];\n    pay_HistoryLocal.forEach((item, i) => {\n        if (item.type == 0) {\n            liInc.unshift(\n                <li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\n            );\n        }\n    })\n\n    let liDec = [];\n    pay_HistoryLocal.forEach((item, i) => {\n        if (item.type == 1) {\n            liDec.unshift(\n                <li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\n            );\n        }\n    })\n\n    return (\n        <PayHistoryDiv className='col-12'>\n            <Balance\n                balance_item={balance_item}\n                pageStudent_id={pageStudent_id}\n                updeteStudent={updeteStudent}/>\n            <Box2 className=\"row\">\n                <div className=\"colona colona-1 col-6\">\n                    <h3 className=\"badge bg-success text-light\">Пополнение</h3>\n                    <ul className=\"list-group\">\n                        {liInc}\n                    </ul>\n                </div>\n                <div className=\"colona colona-2 col-6\">\n                    <h3 className=\"badge bg-danger text-light\">Оплата</h3>\n                    <ul className=\"list-group\">\n                        {liDec}\n                    </ul>\n                </div>\n            </Box2>\n        </PayHistoryDiv>\n    )\n}\n\nexport default PayHistory;","import React, {useEffect, useState} from 'react'\nimport {Button, Comment, Form, Input} from 'antd';\nimport Url from '../../../../../../url/url.js';\nimport moment from 'moment';\nimport errorHandler from \"../../../../../error-handler/error-handler\";\n\nconst {TextArea} = Input;\nconst axios = require('axios'); // AJAX\n\nconst Chat = ({_id, commentsObj}) => {\n\n    useEffect(() => {\n        document.querySelector('.ant-input').value = ''\n    })\n\n    // ===========================================================================================================================\n\n    let {surname, name, midname} = require('jsonwebtoken').decode(localStorage.getItem('tokenID'))\n\n    let UserName = `${surname} ${name} ${midname}`\n\n    const {comments, setComments} = commentsObj\n    const [submitting, setSubmitting] = useState(false)\n    let value = ''\n\n    const handleSubmit = () => {\n        if (!value) {\n            return;\n        }\n\n        setSubmitting(true)\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/${_id}/Notes`,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                text: value\n            }\n        })\n            .then(() => {\n\n                setSubmitting(false)\n                setComments([...comments, {\n                    author: UserName,\n                    content: <p>{value}</p>,\n                    datetime: moment().locale('ru').format(\"dddd, D MMMM YYYY г., HH:MM\"),\n                }])\n                // update()\n            })\n            .catch((error) => {\n                errorHandler(handleSubmit, error)\n            })\n    };\n\n\n    return (\n        <>\n            <Comment\n                content={\n                    <>\n                        <Form.Item>\n                            <TextArea\n                                id='TextArea'\n                                onClick={() => {\n                                    document.querySelector(\"#TextArea\").value = ''\n                                }}\n                                rows={4} onChange={(e) => {\n                                value = e.target.value\n                            }} placeholder='Добавить комментарий'/>\n                        </Form.Item>\n                        <Form.Item>\n                            <Button htmlType=\"submit\" loading={submitting} onClick={handleSubmit} type=\"primary\">\n                                Добавить комментарий\n                            </Button>\n                        </Form.Item>\n                    </>\n                }\n            />\n        </>\n    );\n}\n\nexport default Chat","import {Comment, List} from \"antd\";\nimport moment from \"moment\";\nimport React from \"react\";\n\nexport const CommentList = ({comments}) => {\n    return (\n        <List\n            dataSource={comments}\n            header={`Всего сообщений: ${comments.length}`}\n            itemLayout=\"horizontal\"\n            renderItem={(props, idx) => {\n                let body = {...props}\n                body.datetime = moment(props.datetime).locale('ru').format(\"dddd, D MMMM YYYY г., HH:MM\")\n                if (body.datetime === 'Invalid date') {\n                    body.datetime = props.datetime\n                }\n                body.key = idx\n\n                return <Comment {...body} />\n            }}/>\n    )\n};","import styled from \"@emotion/styled\"\n\nexport const DivDrawerStyles = styled.div`\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  \n  .ant-list-items {\n    overflow: hidden auto;\n    max-height: 220px;\n  }\n  .specialList .ant-list-items {\n    max-height: 350px;\n    margin: 0 0 20px 0;\n  }\n  .tasks {\n    font-family: \"MontLight\";\n  }\n`\n","import axios from \"axios\"\n\nexport const deleteTask = async (url, id) => {\n  await axios.delete(`${url}/CRM/Tasks/${id}`, {\n    headers: {\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n    }\n  })\n}","import React, {useState} from \"react\"\nimport {Checkbox, List, Tag} from \"antd\"\nimport moment from \"moment\"\nimport {CloseOutlined} from \"@ant-design/icons\"\n\nimport {CheckboxContainer, DeleteButton, OpacityContainer, OpacityParagraph, WrapperTaskComponent} from \"./task.styled\"\nimport {deleteTask} from \"./requests/deleteTask\"\nimport Url from \"../../../../../../url/url\"\nimport {editDoneTask} from \"./requests/editDoneTask\"\nimport {StatusesBlock} from \"../../../../sales-funnel/helpers/sales-funnel-styled\";\n\nexport const TaskComponent = ({task, index, setRelTasks}) => {\n\n  // useState\n  const [done, setDone] = useState(task.done)\n  // useState\n\n  // methods\n  const resFIO = (key) => {\n    if (!task.responsible || task.responsible.length === 0) return \"Не найден\"\n    if (Array.isArray(task.responsible)) {\n      return task.responsible[0][key]\n    }\n    if (!Array.isArray(task.responsible) && task.responsible instanceof Object) {\n      return task.responsible[key]\n    }\n    return \"...\"\n  }\n  const onClickDeleteTask = async (id) => {\n    try {\n      await deleteTask(Url, id)\n      setRelTasks(prev => prev.filter(task => task._id !== id))\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  const onChangeEditDone = async (id, ev) => {\n    const checked = ev.target.checked\n    await editDoneTask(Url, id, {done: checked})\n    setDone(prev => prev = checked)\n  }\n  // methods\n\n  return (\n    <List.Item>\n      <WrapperTaskComponent done={done}>\n        <div>\n          <OpacityContainer>\n            {task.name}\n            <StatusesBlock portable={false} contains={task.tags.length}>\n              {task.tags.map(tag => {\n                return <Tag key={tag._id} color={tag.color}>{tag.name}</Tag>\n              })}\n            </StatusesBlock>\n          </OpacityContainer>\n          <OpacityParagraph>Срок до: {moment(task.deadline).format(\"DD/MM/YYYY | HH:mm\")}</OpacityParagraph>\n          <OpacityParagraph>\n            Ответственнен: {resFIO(\"surname\")} {resFIO(\"name\")} {resFIO(\"midname\")}\n          </OpacityParagraph>\n          <DeleteButton onClick={() => onClickDeleteTask(task._id)}><CloseOutlined /></DeleteButton>\n        </div>\n        <p className=\"done\">{task.text}</p>\n        <CheckboxContainer>\n          <Checkbox checked={done} onChange={(ev) => onChangeEditDone(task._id, ev)} />\n        </CheckboxContainer>\n      </WrapperTaskComponent>\n    </List.Item>\n  );\n};","import React, {useState} from \"react\"\n\nimport {CreateTaskComponent} from \"./CreateTask\"\nimport {List} from \"antd\";\nimport {TaskComponent} from \"./TaskComponent\";\n\nexport const Tasks = React.memo(({tasks, _id, fio}) => {\n\n  // useState\n  const [relTasks, setRelTasks] = useState(tasks)\n  // useState\n\n  return (\n    <>\n      <CreateTaskComponent setRelTasks={setRelTasks} _id={_id} fio={fio} portable={true}/>\n      <List className=\"specialList\" header={`Всего задач: ${Array.isArray(relTasks) ? relTasks.length : 0}`}\n            itemLayout=\"horizontal\" dataSource={relTasks} renderItem={(task, idx) => (\n        <TaskComponent key={task._id} task={task} setRelTasks={setRelTasks} index={idx}/>\n      )}/>\n    </>\n  )\n})","import React, {useEffect, useState} from 'react'\nimport styled from '@emotion/styled'\n\nimport ChatItem from './chat-item/chat.js'\nimport {CommentList} from \"./chat-item/CommentList\"\nimport {DivDrawerStyles} from \"./styled\";\nimport {Tasks} from \"./task-item/Tasks\";\n\nconst DrawerChat = React.memo(({notes, update, _id, fio, tasks}) => {\n\n    // data\n    const [comments, setComments] = useState([])\n    let notesLocal = notes ? notes : []\n    let notesGlobal = []\n\n    useEffect(() => {\n        let block = document.querySelector('.ant-list-items')\n        if (block) {\n            block.scrollTop = block.scrollHeight\n        }\n    })\n\n    notesLocal.forEach((item, i) => {\n\n        let {author, date, text} = item\n\n        if (comments[0]) {\n            if (author + text !== comments[0].author + comments[0].content.props.children) {\n                notesGlobal.push(\n                    {\n                        author: author,\n                        content: <p>{text}</p>,\n                        datetime: date,\n                    }\n                )\n            }\n        } else {\n            notesGlobal.push(\n                {\n                    author: author,\n                    content: <p>{text}</p>,\n                    datetime: date,\n                }\n            )\n        }\n    })\n\n\n    const COMEN = styled.div({\n        position: 'relative',\n        '.ant-comment-content-detail': {\n            borderBottom: '1px solid #f0f0f0'\n        }\n    })\n\n    return (\n        <DivDrawerStyles>\n            <div\n                style={{padding: 0}}\n            >\n                {<CommentList\n                        comments={[...notesGlobal, ...comments]}\n                    />}\n                <ChatItem commentsObj={{comments, setComments}} notesGlobal={notesGlobal} update={update} _id={_id}/>\n            </div>\n            <COMEN>\n                <Tasks tasks={tasks} _id={_id} fio={fio}/>\n            </COMEN>\n        </DivDrawerStyles>\n    );\n})\n\nexport default DrawerChat","import styled from \"@emotion/styled\";\n\nconst breakpoints = [767],\n    mq = breakpoints.map(\n        bp => `@media (max-width: ${bp}px)`\n    );\n\nexport const StudentPage = styled.div({\n    marginTop: '0px',\n    margin: '0 auto',\n    padding: '0',\n    '.pad': {\n        padding: '0px',\n        paddingRight: '10px',\n        [mq[0]]: {\n            paddingRight: '0px'\n        }\n    },\n    '.infoLog': {\n        marginBottom: '10px',\n        padding: '0',\n        [mq[0]]: {\n            paddingBottom: '10px'\n        },\n        '.calendar': {\n            margin: 'auto 0',\n            marginRight: '10px',\n            fontSize: '20px',\n            span: {\n                paddingLeft: '6px'\n            }\n        }\n    },\n    '.group-name': {\n        borderBottom: '1px solid #0dcaf0',\n        padding: '0px',\n        [mq[0]]: {\n            borderRight: 'none'\n        }\n    },\n    '.Button-Drawer': {\n        position: 'absolute',\n        right: '0',\n        top: '8px'\n    },\n    '.ulBox': {\n        borderRadius: '15px',\n        padding: '0px',\n    },\n    '.editing': {\n        background: '#fff',\n        borderRadius: '10px 10px 0 0',\n        i: {\n            marginLeft: '95%',\n            cursor: 'pointer'\n        }\n    },\n    li: {\n        backgroundColor: 'none',\n        span: {\n            fontSize: '14px',\n            margin: '0 5px 5px 0'\n        }\n    }\n});\n\nexport const TablePupils = styled.div({\n    background: '#fff',\n    margin: '10px 0',\n    padding: '0 10px',\n    borderRadius: '15px',\n    '& > h3': {\n        fontSize: '22px'\n    },\n    '.ant-tabs-nav': {\n        margin: 0\n    }\n});","import axios from \"axios\";\nimport Url from \"../../../../url/url\";\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nlet colors = ['magenta', 'red', 'volcano', 'orange', 'gold', 'lime', 'green', 'cyan', 'blue', 'geekblue', 'purple']\n\nexport const updateStatuses = (set, setLoading) => {\n\n    setLoading(true)\n\n    axios({\n        method: 'get',\n        url: `${Url}/CRM/Statuses`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        }\n    })\n        .then(res => {\n            set(res.data)\n            setLoading(false)\n        })\n        .catch(error => {\n            errorHandler(updateStatuses, error, () => {\n                setLoading(false)\n            })\n        })\n}\n\nexport const createStatus = (setStatuses, setLoading, setValue, value, Statuses) => {\n    if (value) {\n        let idx = Math.floor(Math.random() * (10))\n\n        setLoading(true)\n        setValue('')\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Statuses`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                name: value,\n                color: colors[idx]\n            }\n        })\n            .then(res => {\n                setStatuses([...Statuses, res.data])\n                setLoading(false)\n            })\n            .catch(error => {\n                errorHandler(createStatus, error, () => {\n                    setLoading(false)\n                })\n            })\n    }\n}\n\nexport const onDelete = (_id, setStatuses, Statuses, setLoading) => {\n    let box = Statuses.filter(item => item._id !== _id)\n\n    setLoading(true)\n\n    axios({\n        method: 'delete',\n        url: `${Url}/CRM/Statuses/${_id}`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        }\n    })\n        .then(() => {\n            setStatuses(box)\n            setLoading(false)\n        })\n        .catch(error => {\n            errorHandler(onDelete, error, () => {\n                setLoading(false)\n            })\n        })\n}\n\nexport const attachStatus = (statuses_id, setLoading, updateStudent, student_id,) => {\n\n    console.log(\"logic-statuses\")\n    setLoading(true)\n\n    axios({\n        method: 'patch',\n        url: `${Url}/CRM/Pupils/${student_id}`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: {\n            statuses: statuses_id\n        }\n    })\n        .then(res => {\n            setLoading(false)\n            console.log(res.data)\n            updateStudent(res.data)\n        })\n        .catch(error => {\n            errorHandler(attachStatus, error, () => {\n                setLoading(false)\n            })\n        })\n}","import React, {useState} from \"react\";\nimport {Button, Checkbox, Input, Menu, Space} from \"antd\";\nimport {DeleteOutlined} from '@ant-design/icons'\nimport {attachStatus, createStatus, onDelete} from './logic-statuses'\nimport {useParams} from \"react-router-dom\";\n\nconst CreatingStatuses = ({studentStatuses, updateStudent, globalStatuses}) => {\n\n    const student_id = useParams().id\n    let statuses_id = studentStatuses.map(status => status._id)\n\n    const [loading, setLoading] = useState(false)\n    const [Statuses, setStatuses] = useState(globalStatuses)\n    const [value, setValue] = useState('')\n\n    return (\n        <>\n            <div style={{padding: 8, background: '#fff'}}>\n                <Input\n                    autoComplete={'off'}\n                    value={value}\n                    id={'creating-statuses'}\n                    placeholder={`Статус...`}\n                    onChange={(e) => {\n                        setValue(e.target.value)\n                    }}\n                    onPressEnter={() => {\n                        createStatus(setStatuses, setLoading, setValue, value, Statuses)\n                    }}\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Space>\n                    <Button\n                        loading={loading}\n                        type=\"primary\"\n                        onClick={() => {\n                            createStatus(setStatuses, setLoading, setValue, value, Statuses)\n                        }}\n                        size=\"small\"\n                    >\n                        Добавить новый статус\n                    </Button>\n                </Space>\n                <Menu>\n                    {\n                        Statuses.map(item => {\n\n                            let checked = false\n\n\n                            studentStatuses.forEach(status_statuses => {\n                                if (status_statuses._id === item._id) {\n                                    checked = true\n                                }\n                            })\n\n                            return (\n                                <Menu.Item key={item._id}>\n                                    <Checkbox\n                                        defaultChecked={checked}\n                                        onChange={(e) => {\n\n                                            if (e.target.checked) {\n                                                statuses_id.push(item._id)\n                                            } else {\n                                                statuses_id = statuses_id.filter(status_id => (status_id !== item._id))\n                                            }\n                                        }}>\n                                        {item.name}\n                                        <DeleteOutlined\n                                            onClick={() => {\n                                                onDelete(item._id, setStatuses, Statuses, setLoading)\n                                            }}\n                                            style={{\n                                                position: 'absolute',\n                                                right: '10px',\n                                                top: '14px',\n                                                color: 'red'\n                                            }}\n                                        />\n                                    </Checkbox>\n                                </Menu.Item>\n                            )\n                        })\n                    }\n                </Menu>\n                <Button\n                    loading={loading}\n                    type=\"primary\"\n                    size=\"small\"\n                    onClick={() => {\n                        attachStatus(statuses_id, setLoading, updateStudent, student_id)\n                    }}\n                    style={{marginTop: 10}}\n                >\n                    Применить изменения\n                </Button>\n            </div>\n        </>\n    )\n}\n\nexport default CreatingStatuses","import React, {useEffect, useState} from \"react\";\nimport {Dropdown, Skeleton} from \"antd\";\nimport CreatingStatuses from \"./creating-statuses\";\nimport {DownOutlined} from \"@ant-design/icons\";\nimport {Link} from \"react-router-dom\";\nimport {updateStatuses} from \"./logic-statuses\";\n\nconst StudentStatuses = ({studentStatusesGlobal, updateStudent}) => {\n\n    const [globalStatuses, setGlobalStatuses] = useState(false)\n\n    useEffect(() => {\n        updateStatuses(setGlobalStatuses, () => {})\n    }, [])\n\n    if (!globalStatuses) {\n        return (\n            <div style={{padding: '12px 0'}}>\n                <Skeleton.Button active={true} style={{height: 25}}/>\n            </div>\n        )\n    }\n\n    return (\n        <Dropdown\n            overlay={<CreatingStatuses updateStudent={updateStudent}\n                                       studentStatuses={studentStatusesGlobal}\n                                       globalStatuses={globalStatuses}/>}\n            trigger={['click']}\n        >\n            <Link\n                to={'#'}\n                style={{\n                    paddingLeft: '5px',\n                    lineHeight: '47px',\n                    overflow: 'hidden',\n                    width: '198px',\n                    paddingRight: 0\n                }}\n            >\n                Добавить статус <DownOutlined/>\n            </Link>\n        </Dropdown>\n    )\n}\n\nexport default StudentStatuses","import React from \"react\";\nimport {Tag} from \"antd\";\nimport styled from \"@emotion/styled\";\n\nconst Box = styled.div`\n  height: 47px;\n  display: flex;\n  line-height: 47px;\n  overflow: auto;\n  width: 100%;\n\n  &::-webkit-scrollbar {\n    height: 2px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #5c636a;\n  }\n`\n\nconst ListStatuses = ({items}) => {\n\n    return (\n        <Box>\n            {\n                items.map((status) => {\n                    return (\n                        <div key={status._id}>\n                            <Tag color={status.color}>{status.name}</Tag>\n                        </div>\n                    )\n                })\n            }\n        </Box>\n    )\n}\n\nexport default ListStatuses","import styled from \"@emotion/styled\"\n\nexport const FlexDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: ${props => props.first ? \"1px solid #0DCAF0\" : \"none\"};\n  > select {\n    margin: 0 10px 0 0;\n    border: 1px solid lightgray;\n    appearance: revert;\n    padding: 3px 5px 3px 2px;\n    width: 120px;\n  }\n`","import React from \"react\";\nimport { Tabs } from 'antd';\nconst { TabPane } = Tabs;\n\nconst callback = (key) => {\n    console.log(key);\n}\n\nconst TabsPupil = ({tabs_groups}) => {\n    return (\n        <Tabs defaultActiveKey=\"1\" onChange={callback}>\n            <TabPane tab=\"Группы\" key=\"1\">\n                {tabs_groups}\n            </TabPane>\n            <TabPane tab=\"Прогресс\" key=\"2\">\n                {\"<\"}... <br/>\n                Прогресс...<br/>\n                ../>\n            </TabPane>\n            <TabPane tab=\"Архив посещаемости\" key=\"3\">\n                {\"<\"}... <br/>\n                Архив посещаемости <br/>\n                ../>\n            </TabPane>\n        </Tabs>\n    )\n}\n\nexport default TabsPupil","import React, {useCallback, useEffect, useState} from 'react';\nimport {useParams} from \"react-router-dom\";\n\nimport Url from './../../../../url/url.js';\n\nimport PupilsSandTime from './../../group/group-page/PupilsSandTime/PupilsSandTime.js';\nimport InfoTable from './Info-table/InfoTable.js';\nimport PayHistory from './payment-history/paymentHistory.js';\nimport DrawerChat from './chat/drawer-chat.js'\nimport {getStudent_Id} from \"../service-student/service-student\";\n// Block\n\n// Style\nimport {TablePupils, StudentPage} from \"./style-pageStudent\";\n\nimport StudentStatuses from \"../student-statuses/student-statuses\";\nimport ListStatuses from \"../student-statuses/list-statuses\";\nimport {Select} from \"antd\"\nimport {FlexDiv} from \"../pageStudent.styled\";\nimport {axiosGetFunnelSteps, axiosUpdateStudent} from \"../../sales-funnel/helpers/axios-requests\";\nimport TabsPupil from \"./tabs-pupil/tabs-pupil\";\n\nconst {Option} = Select\n\nconst PageStudent = () => {\n\n    let pageStudent_id = useParams().id\n\n    const [dataStudent, setDataS] = useState({\n        _id: \"60ba505dc12d3b9783c51d0f\",\n        name: \"Загрузка...\",\n        surname: \"\",\n        midname: \"\",\n        gender: \"\",\n        dateOfBirth: \"2004-12-07\",\n        phone: \"\",\n        parentPhone: \"\",\n        discord: \"\",\n        balance: 0,\n        localSchedule: {},\n        groups: [],\n        paymentHistory: [\n            {type: 1, date: \"\", amount: 0, issuer: \"\", subscription: null},\n            {type: 0, date: \"\", amount: 0, issuer: \"\", subscription: null}\n        ],\n        notes: [],\n        statuses: []\n    });\n    const [salesFunnelSteps, setSalesFunnelSteps] = useState([])\n\n    const {notes, groups, name, balance, localSchedule, paymentHistory, tasks, salesFunnelStep} = dataStudent\n\n    useEffect(() => {\n        const requestsAsync = async () => {\n            await getStudent_Id(pageStudent_id, setDataS)\n            const salesFunnelStepsServ = await axiosGetFunnelSteps(Url, 1)\n            setSalesFunnelSteps(prev => prev = salesFunnelStepsServ)\n        }\n        requestsAsync()\n    }, [pageStudent_id]);\n\n    let arrIdSch = [];\n    for (let key in localSchedule) {\n        arrIdSch.push(key);\n    }\n\n    let groups_id = [];\n\n    groups.forEach((item) => {\n        groups_id.push(item.group_name);\n    });\n\n    let PupilsSandTimeGroup = arrIdSch.map((id, i) => {\n\n        if (i < groups_id.length) {\n            return <PupilsSandTime key={id} pageInfo={'group'} itemG={dataStudent} dataGroup={id}\n                                   getGroup_Id={() => {\n                                       getStudent_Id(pageStudent_id, setDataS)\n                                   }} setData={setDataS} name={groups_id[i]} type='pupil'/>\n        }\n    });\n\n    const onChangeSelect = (event) => {\n        axiosUpdateStudent(Url, pageStudent_id, {salesFunnelStep: event.target.value})\n    }\n\n    return (\n        <StudentPage className=\"container row col-12\">\n            <div className=\"col-12 col-md-3 pad\">\n                <div className=\"infoLog align-self-start col-md-12 col-12\">\n                    <FlexDiv first={true}>\n                        <h3>{name}</h3>\n                        <FlexDiv>\n                            <select onChange={onChangeSelect} value={salesFunnelStep?._id}>\n                                {salesFunnelSteps?.map(step => (\n                                  <option key={step._id} value={step._id}>{step.name}</option>\n                                ))}\n                            </select>\n                        </FlexDiv>\n                    </FlexDiv>\n                    <div style={{display: 'flex', height: '47px'}}>\n                        <ListStatuses items={dataStudent.statuses ? dataStudent.statuses : []}/>\n                        <StudentStatuses updateStudent={setDataS}\n                                         studentStatusesGlobal={dataStudent.statuses ? dataStudent.statuses : []}/>\n                    </div>\n                </div>\n                <PayHistory\n                    balance_item={balance}\n                    pageStudent_id={pageStudent_id}\n                    updeteStudent={() => {\n                        getStudent_Id(pageStudent_id, setDataS)\n                    }}\n                    pay_History={paymentHistory}\n                />\n            </div>\n            <div\n                className=\"col-md-6\"\n                style={{background: '#fff'}}\n            >\n                <DrawerChat\n                    tasks={tasks}\n                    notes={notes}\n                    fio={{\n                        name: dataStudent.name,\n                        surname: dataStudent.surname\n                    }}\n                    update={() => {\n                        getStudent_Id(pageStudent_id, setDataS)\n                    }}\n                    _id={pageStudent_id}\n                />\n            </div>\n            <div className=\"col-md-3 ulBox\">\n                <InfoTable dataStudent={dataStudent} updetePage={setDataS}/>\n            </div>\n            <TablePupils className=\"container col-12\">\n                <TabsPupil tabs_groups={PupilsSandTimeGroup}/>\n            </TablePupils>\n        </StudentPage>\n    );\n};\n\nexport default PageStudent;\n","import React, {useState} from \"react\";\nimport {Input} from \"antd\";\nimport {setStudent, removeStudent, sortingSearchResponses} from './group-logic'\nimport {serverRequest} from \"../../search/server-request\";\n\nconst AddingStudentsToGroup = ({addStudent, addedStudents}) => {\n\n    const [ArrayEligibleStudents, setArrayEligibleStudents] = useState([])\n    const [value, setValue] = useState('')\n\n    const SuitableStudents = ArrayEligibleStudents.map(item => {\n\n        const {name, surname, midname, id} = item\n\n        return (\n            <li\n                onClick={() => {\n                    setStudent(item, addedStudents, addStudent, setValue)\n                }}\n                key={id}\n                className=\"list-group-item\">\n                <span className=\"badge bg-warning text-dark\">{`${surname} ${name} ${midname}`}</span>\n            </li>\n        )\n    })\n\n    const AddedStudentButton = addedStudents.map(item => {\n\n        const {name, surname, midname, id} = item\n\n        return (\n            <button\n                onClick={() => {\n                    removeStudent(id, addedStudents, addStudent, setValue)\n                }}\n                key={id}\n                type=\"button\"\n                className=\"btn btn-info\">\n                {`${surname} ${name} ${midname}`}\n                <i className=\"bi bi-x\" style={{fontSize: '15px'}}></i>\n            </button>\n        )\n    })\n\n    return (\n        <div className=\"mb-3\">\n            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Добавить\n                учеников</label>\n            <div className=\"row addPUPILS\">\n                <div className=\"col-sm-6 input-group\">\n                    <Input\n                        placeholder={'Найти...'}\n                        onChange={(e) => {\n                            setValue(e.target.value)\n                            serverRequest((data) => {sortingSearchResponses(data, setArrayEligibleStudents)}, encodeURI(e.target.value), '')\n                        }}\n                        value={value}\n                    />\n\n                    <ul className=\"col-12 list-group list-group-flush\">\n                        {SuitableStudents}\n                    </ul>\n                </div>\n                <div className=\"col-sm-6 boxPUPILS\">\n                    {AddedStudentButton}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AddingStudentsToGroup","import styled from \"@emotion/styled\";\n\nconst breakpoints = [1020, 700],\n    mq = breakpoints.map(\n        bp => `@media (max-width: ${bp}px)`\n    );\nexport const Table = styled.div({\n    padding: '0 30px',\n    [mq[1]]: {\n        padding: '0 0',\n    },\n    '.table_user': {\n        overflowX: 'auto',\n        '&::-webkit-scrollbar': {\n            height: '10px',\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\n            borderRadius: '10px'\n        },\n        '&::-webkit-scrollbar-thumb': {\n            backgroundColor: '#17a2b8',\n            borderRadius: '10px'\n        },\n    },\n    '.log_h2': {},\n    td: {\n        paddingTop: '1px',\n        paddingBottom: '4px'\n    },\n    'th, td': {\n        whiteSpace: 'nowrap'\n    }\n});\nexport const Form = styled.form({\n    '.addPUPILS': {\n        '.input-group': {\n            ul: {\n                overflowY: 'scroll',\n                height: '100px'\n            },\n            li: {\n                cursor: 'pointer',\n                padding: '5px',\n                span: {\n                    fontSize: '11px'\n                }\n            }\n        }\n    }\n});","import React, {useState, useEffect} from 'react';\nimport Url from './../../../url/url.js';\nimport {swallGood, swallErr} from '../../../alert/alert';\nimport Pagination from './../#more-functions/pagination/pagination.js'\nimport RestrictionMessage from '../../restriction-message/restriction-message.js'\nimport AddingStudentsToGroup from './adding-students-to-group'\n\nimport {Link} from \"react-router-dom\";\nimport {Modal, Button} from 'antd';\n\n// Style\nimport './group.css';\nimport {Table, Form} from './group-style'\nimport errorHandler from \"../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst Group = () => {\n\n    // Modal\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [loading, setLoading] = useState(false)\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    // /Modal\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(1)\n\n    const [availableStudents, setAvailableStudents] = useState(['Пусто...']);\n    const [PUPILS_search, setPUPILS_search] = useState([]);\n    const [availableTutor, setAvailableTutor] = useState([]);\n\n    const [groups, setGroups] = useState([]);\n\n    // Получить учеников\n    const getPupils = () => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/find?limit=150&offset=0`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let arr = [];\n            res.data.forEach((item) => {\n                arr.push([`${item.surname} ${item.name}`, item._id]);\n            });\n            setAvailableStudents(arr);\n            setPUPILS_search(arr);\n        })\n        .catch((error) => {\n            errorHandler(update, error)\n        });\n    }\n\n    // Получить группы\n    const getGroup = (offset = 0) => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/find?limit=10&offset=${offset}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data, headers} = res\n            setGroups(data)\n            setCount(headers.count)\n        })\n        .catch((error) => {\n            errorHandler(update, error)\n        })\n    }\n\n    const getTUTOR = (offset = 0) => {\n        axios({\n            method: 'get',\n            url: `${Url}/AdminPanel/CRMAccounts?limit=10&offset=${offset}&accountType=teacher`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            setAvailableTutor(data)\n        })\n        .catch((error) => {\n            errorHandler(getTUTOR, error)\n        })\n    }\n\n    const update = () => {\n        getTUTOR();\n        getPupils();\n        getGroup(offsetG);\n    };\n\n    useEffect(() => {\n        update();\n    }, []);\n\n    let A_Tutor = availableTutor.map((item, i) => {\n        let {name, surname, midname, _id} = item\n        return (\n            <option key={name + i} value={_id}>{surname} {name} {midname}</option>\n        );\n    });\n\n    const [pupils, setPupils] = useState([]);\n\n    const [group_name, setGROUP_NAME] = useState(''),\n        [places, setPLACES] = useState(''),\n        [tutor, setTUTOR] = useState(''),\n        [level, setLEVEL] = useState('');\n\n    let dataInput = {\n        group_name,\n        places,\n        tutor,\n        level\n    };\n\n    const addingStudentSafely = (newArr) => {\n\n        const {group_name, places, tutor, level} = dataInput\n\n        setGROUP_NAME(group_name)\n        setPLACES(places)\n        setTUTOR(tutor)\n        setLEVEL(level)\n        setPupils(newArr)\n    }\n\n    let tableGroup = groups.map((item) => {\n\n        const trashGroup = () => {\n\n            let i = document.getElementById(item._id);\n            i.style.opacity = '0.3';\n\n            axios({\n                method: \"DELETE\",\n                url: `${Url}/CRM/Groups/${item._id}`,\n                headers: {\n                    \"Content-Type\": \"application/json;charset=utf-8\",\n                    Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n                },\n            })\n            .then((res) => {\n                getGroup(offsetG);\n                i.style.opacity = '1';\n            })\n            .catch((error) => {\n                errorHandler(trashGroup, error)\n            });\n        };\n\n        const {group_name, tutor, level, places, pupils, global_schedule, _id} = item;\n\n        let PUPILS01 = pupils? pupils : []\n\n        let tutorText = 'Учитель не добавлен...',\n            time = '-'\n\n        if (global_schedule) {\n            if (global_schedule[0]) {\n\n                let {duration} = global_schedule[0]\n\n                time = `с ${duration[0]} до ${duration[1]}`\n            }\n        }\n\n        if (tutor) {\n            let {surname, name, midname} = tutor\n            tutorText = `${surname} ${name} ${midname}`\n        }\n\n        return (\n            <tr key={`${_id}`}>\n                <td className=\"td-trash\" scope=\"row\">\n                    <i id={_id} onClick={trashGroup} className=\"bi bi-trash\"\n                       style={{fontSize: '30px', color: '#F56767'}}></i>\n                </td>\n                <td className=\"align-middle td-use\">\n                    <Link\n                        className=\"link-info\"\n                        to={`/group/${_id}`}>\n                        {group_name}\n                    </Link>\n                </td>\n                <td className=\"align-middle td-use\">{tutorText}</td>\n                <td className=\"align-middle td-use\">{level} класс</td>\n                <td className=\"align-middle td-use\">{places}</td>\n                <td className=\"align-middle td-use\">{places - PUPILS01.length}</td>\n                <td className=\"align-middle td-use\">{time}</td>\n            </tr>\n        );\n\n    });\n\n    const formSubmit = () => {\n\n        let {group_name, places, tutor, level} = dataInput; // + pupils\n\n        let PUPILS_ID = [];\n        pupils.forEach((item) => {\n            PUPILS_ID.push(item.id);\n        });\n\n        setLoading(true)\n\n        axios({\n            method: \"POST\",\n            url: `${Url}/CRM/Groups`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n            },\n            data: {\n                group_name: group_name,\n                tutor: tutor || undefined,\n                level: +level,\n                places: +places,\n                pupils: PUPILS_ID\n            }\n        })\n        .then((res) => {\n            setLoading(false)\n            swallGood('Группа создана', 'Теперь добавьте расписание');\n            setIsModalVisible(false)\n            getGroup();\n            setGROUP_NAME('')\n            setPupils([])\n            setPLACES('')\n            setTUTOR('')\n            setLEVEL('')\n\n        })\n        .catch((error) => {\n            setLoading(false)\n            if (error.response) {\n                RestrictionMessage(error.response.status)\n                let {status} = error.response;\n\n                if (status == 400) {\n                    if (+places < PUPILS_ID.length) {\n                        swallErr('Ой...', 'Мест для учеников не хватает');\n                    } else {\n                        swallErr('Ой...', 'Заполните поля правильно');\n                    }\n                } else if (status == 401) {\n                    swallErr('Ой...', 'Где токен ?');\n                } else if (status == 500) {\n                    swallErr('Произошла поломка сервера', 'Сообщите об ошибке владельцу сервиса')\n                }\n            }\n        });\n    };\n\n    return (\n        <>\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\n                <div className=\"container-fluid d-flex\">\n                    <div className=\"collapse d-flex flex-row h3-person\">\n                        <div className=\"d-flex plus-box\">\n                            <div>\n                                <h3>Группы</h3>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"collapse d-flex flex-row-reverse\" id=\"navbarScroll\">\n                        <div className=\"d-flex plus-box\">\n                            <div className=\"nav-item plus\" onClick={showModal}>\n                                <i className=\"bi bi-people\" style={{fontSize: '38px', color: '#F56767'}}></i>\n                                <i className=\"bi bi-plus\" style={{fontSize: '30px', color: '#F56767'}}></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </nav>\n\n            <Table className=''>\n                <div>\n                    <div className={`table_user`}>\n                        <table className=\"table table-striped\">\n                            <thead>\n                            <tr>\n                                <th className=\"th-h\" scope=\"col\"></th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Группы</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Учитель</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Уровень</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Количество мест</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Свободных мест</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Время занятий</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {tableGroup}\n                            </tbody>\n                        </table>\n                    </div>\n                    <Pagination getItem={getGroup} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n                </div>\n            </Table>\n\n            <Modal\n                title=\"Добавить группу\"\n                visible={isModalVisible}\n                onCancel={handleCancel}\n                width={1000}\n                footer={[\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\n                        Отмена\n                    </Button>,\n                    <Button\n                        key=\"onOk1\"\n                        onClick={formSubmit}\n                        loading={loading}\n                        type=\"primary\"\n                    >\n                        Сохранить\n                    </Button>\n                ]}\n            >\n                <Form>\n                    <div className=\"modal-body\">\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputName\" className=\"fs-5 col-sm-4 col-form-label\">Имя группы</label>\n                            <div className=\"col-sm-8\">\n                                <input defaultValue={dataInput.group_name} autoComplete='off' onChange={(e) => {\n                                    dataInput.group_name = e.target.value\n                                }} required type=\"name\" name=\"group_name\" className={`form-control`} id=\"group_name\"/>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputMidname\" className=\"fs-5 col-sm-4 col-form-label\">Количество\n                                мест</label>\n                            <div className=\"col-sm-8\">\n                                <input defaultValue={dataInput.places} autoComplete='off' onChange={(e) => {\n                                    dataInput.places = e.target.value\n                                }} required type=\"number\" name=\"places\" className={`form-control`} id=\"places\"/>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Уровень\n                                подготовки</label>\n                            <div className=\"col-sm-8 input-group\">\n                                <select defaultValue={dataInput.level} onChange={(e) => {\n                                    dataInput.level = e.target.value\n                                }} required className=\"form-control\" id=\"inputGroupSelect01\">\n                                    <option defaultValue></option>\n                                    <option value=\"1\">1 класс</option>\n                                    <option value=\"2\">2 класс</option>\n                                    <option value=\"3\">3 класс</option>\n                                    <option value=\"4\">4 класс</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label className=\"fs-5 col-sm-4 col-form-label\">Учитель</label>\n                            <div className=\"col-sm-8 input-group\">\n                                <select defaultValue={dataInput.tutor} onChange={(e) => {\n                                    dataInput.tutor = e.target.value\n                                }} className=\"form-control\">\n                                    <option defaultValue></option>\n                                    {A_Tutor}\n                                </select>\n                            </div>\n                        </div>\n                        <AddingStudentsToGroup addStudent={addingStudentSafely} addedStudents={pupils}/>\n                    </div>\n                </Form>\n            </Modal>\n        </>\n    );\n};\n\nexport default Group;"," import React from 'react';\n\nimport moment from 'moment';\n\n// Style \nimport styled from '@emotion/styled';\n\n const SchedulE = styled.div({\n\t padding: '0',\n\t marginBottom: '15px',\n\t '.boxS': {\n\t\t overflow:'auto',\n\t\t maxHeight: '200px',\n\t },\n\t '.dataNumber': {\n\t\t margin: '0 3px 0 0',\n\t\t fontSize: '15px',\n\t\t fontWeight: '600',\n\t\t width: '48px'\n\t }\n });\n\nconst Schedule = ({global_schedule}) => {\n\n\tif (!global_schedule[0]) {\n\t\treturn (\n\t\t\t<SchedulE  className=\"col-12\">\n\t\t\t\t<h5>Расписания нет...</h5>\n\t\t\t</SchedulE>\n\t\t);\n\t}\n\n\tlet SpanDay = global_schedule.map((item, i) => {\n\n\t\tlet date = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\n\n\t\treturn (\n\t\t\t<span key={`${item.date}${i}`} className=\"badge bg-light text-dark dataNumber\">{date}</span>\n\t\t);\n\t});\n\n\treturn (\n\t\t<SchedulE className=\"col-12\">\n\t\t\t<h5>{global_schedule[0].duration[0]} до {global_schedule[0].duration[1]}</h5>\n\t\t\t<div className=\"boxS\">\n\t\t\t\t{SpanDay}\n\t\t\t</div>\n\t\t</SchedulE>\n\t);\n};\n\nexport default Schedule;","import React, {useState, useEffect} from 'react';\nimport Url from './../../../../url/url.js';\nimport {swallGood} from './../../../../alert/alert.js';\n\nimport moment from 'moment';\nimport {Modal, Button} from 'antd';\n\n// Style\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst ScheduleForm = ({updateGroup, groupID}) => {\n\n    // Modal\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [loading, setLoading] = useState(false)\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    // /Modal\n\n    let dataInputs = {\n        startDate: '',\n        endDate: '',\n        duration_Start: '',\n        duration_End: '',\n        weekDay: []\n    };\n\n    let weekDay = {\n        one: [],\n        two: [],\n        three: [],\n        four: [],\n        five: [],\n        six: [],\n        zero: []\n    };\n\n    let schedule = [];\n\n    const FindNeedle = () => {\n        let {startDate, duration_Start, duration_End, endDate} = dataInputs\n        let academicHours = (moment(`2000-01-01, ${duration_End}`).diff(`2000-01-01, ${duration_Start}`, 'hours'))\n\n        let dayNumber = moment(startDate).day();\n\n        let day_end = moment(endDate).format('DD.MM.YYYY');\n\n        let day = moment(startDate).format('DD.MM.YYYY'),\n            day_number = moment(day, 'DD.MM.YYYY').day(),\n            inc = 1;\n\n        const PushDay = () => {\n            dataInputs.weekDay.forEach((item) => {\n                if (item == day_number) {\n\n                    let scheduleItem = {\n                        date: day,\n                        duration: [duration_Start, duration_End],\n                        status: '',\n                        tutor: '',\n                        paid: false,\n                        title: ''\n                    };\n                    for (let i = 0; i < academicHours; i++) {\n                        schedule.push(scheduleItem);\n                    }\n                }\n            });\n        };\n        PushDay();\n\n        do {\n            day = moment(dataInputs.startDate).day(dayNumber + inc).format('DD.MM.YYYY');\n            day_number = moment(day, 'DD.MM.YYYY').day();\n\n            PushDay();\n\n            inc++;\n        } while (day != day_end);\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/${groupID}/Schedule`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: schedule\n        })\n            .then((res) => {\n\n                document.querySelectorAll(\"input\").forEach((item) => {\n                    item.value = ''\n                });\n                setLoading(false)\n                setIsModalVisible(false)\n                swallGood('Расписание создано', '');\n                for (let key in weekDay) {\n                    weekDay[key] = [];\n                }\n                updateGroup(); // Обновить группу.\n            })\n            .catch((error) => {\n                errorHandler(FindNeedle, error)\n            })\n    };\n\n\n    const FormChance = () => {\n        setLoading(true)\n\n        for (let key in weekDay) {\n            if (weekDay[key][0]) {\n                dataInputs.weekDay.push(weekDay[key][1]);\n            }\n        }\n\n        FindNeedle();\n    };\n\n    const ScheduleForm = styled.div({\n        '.form-check': {\n            marginRight: '12px',\n            paddingLeft: '100px'\n        }\n    });\n\n    return (\n        <>\n            <i\n                onClick={showModal}\n                className=\"bi bi-calendar2-plus\"\n                style={{fontSize: \"26px\", color: '#17a2b8', cursor: 'pointer'}}\n            />\n\n            <Modal\n                title=\"Добавить расписание\"\n                visible={isModalVisible}\n                onCancel={handleCancel}\n                width={1000}\n                footer={[\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\n                        Отмена\n                    </Button>,\n                    <Button\n                        key=\"onOk1\"\n                        onClick={FormChance}\n                        loading={loading}\n                        type=\"primary\"\n                    >\n                        Сохранить\n                    </Button>\n                ]}\n            >\n                <ScheduleForm>\n                    <form className=\"row g-3\">\n                        <div className=\"col-md-6\">\n                            <label className=\"form-label\">Период:</label>\n                            <div className=\"row periud\">\n                                <input\n                                    onChange={(e) => {\n                                        dataInputs.startDate = e.target.value\n                                    }}\n                                    type=\"date\" className=\"form-control col-5\"/>\n                                <div className=\"input-group-text\">до</div>\n                                <input\n                                    onChange={(e) => {\n                                        dataInputs.endDate = e.target.value\n                                    }}\n                                    type=\"date\" className=\"form-control col-5\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <label className=\"form-label\">Время занятия:</label>\n                            <div className=\"row periud\">\n                                <input\n                                    onChange={(e) => {\n                                        dataInputs.duration_Start = e.target.value\n                                    }}\n                                    type=\"time\" className=\"form-control col-5\"/>\n                                <div className=\"input-group-text\">до</div>\n                                <input\n                                    onChange={(e) => {\n                                        dataInputs.duration_End = e.target.value\n                                    }}\n                                    type=\"time\" className=\"form-control col-5\"/>\n                            </div>\n                        </div>\n                        <div className=\"col-12\">\n                            <label className=\"form-label\">Дни недели:</label>\n                            <div className=\"row col-12\">\n                                <div className=\"form-check\">\n                                    <input\n                                        onChange={(e) => {\n                                            weekDay.one = [e.target.checked, e.target.value]\n                                        }}\n                                        className=\"form-check-input\" value='1' type=\"checkbox\"/>\n                                    <label className=\"form-check-label\">\n                                        Пн\n                                    </label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        onChange={(e) => {\n                                            weekDay.two = [e.target.checked, e.target.value]\n                                        }}\n                                        className=\"form-check-input\" value='2' type=\"checkbox\"/>\n                                    <label className=\"form-check-label\">\n                                        Вт\n                                    </label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        onChange={(e) => {\n                                            weekDay.three = [e.target.checked, e.target.value]\n                                        }}\n                                        className=\"form-check-input\" value='3' type=\"checkbox\"/>\n                                    <label className=\"form-check-label\">\n                                        Ср\n                                    </label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        onChange={(e) => {\n                                            weekDay.four = [e.target.checked, e.target.value]\n                                        }}\n                                        className=\"form-check-input\" value='4' type=\"checkbox\"/>\n                                    <label className=\"form-check-label\">\n                                        Чт\n                                    </label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        onChange={(e) => {\n                                            weekDay.five = [e.target.checked, e.target.value]\n                                        }}\n                                        className=\"form-check-input\" value='5' type=\"checkbox\"/>\n                                    <label className=\"form-check-label\">\n                                        Пт\n                                    </label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        onChange={(e) => {\n                                            weekDay.six = [e.target.checked, e.target.value]\n                                        }}\n                                        className=\"form-check-input\" value='6' type=\"checkbox\"/>\n                                    <label className=\"form-check-label\">\n                                        Сб\n                                    </label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        onChange={(e) => {\n                                            weekDay.zero = [e.target.checked, e.target.value]\n                                        }}\n                                        className=\"form-check-input\" value='0' type=\"checkbox\"/>\n                                    <label className=\"form-check-label\">\n                                        Вс\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n                </ScheduleForm>\n            </Modal>\n        </>\n    );\n};\n\nexport default ScheduleForm;","import React, {useState} from 'react';\nimport {Modal, Button} from 'antd';\n\nimport Url from './../../../../url/url.js';\n\nimport {loading, Swalclose} from '../../../../alert/alert';\n\nimport moment from 'moment';\n\n//Style\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\nimport {serverRequest} from \"../../../search/server-request\";\nimport {sortingSearchResponses} from \"../../group/group-logic\";\n\nconst axios = require('axios'); // AJAX\n\nconst Li = styled.li({\n    span: {\n        cursor: 'pointer'\n    }\n});\nconst Span = styled.span({\n    cursor: 'pointer'\n});\n\nconst AddStydent_Group = ({title, pageId, update, schedule}) => {\n\n    // Modal\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    // /Modal\n\n    const [pupils, setPupils] = useState([]);\n\n    const changeSchedulePupil = (idPupil) => {\n\n        let newSchedule = [];\n\n        schedule.forEach((item) => {\n\n            let day = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\n                time_day = moment().diff(day, 'day');\n\n            if (time_day <= 0) {\n                newSchedule.push(item);\n            }\n        })\n\n        axios({\n            method: 'put',\n            url: `${Url}/CRM/Groups/${pageId}/Pupils/${idPupil}/Schedule`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: newSchedule\n        })\n        .then((res) => {\n            update();\n            Swalclose();\n        })\n        .catch(error => {\n            errorHandler(changeSchedulePupil, error)\n        })\n    }\n    const addPUPILS_Group = (data, idPupil) => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/${pageId}/Pupils`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                ids: data\n            }\n        })\n        .then(() => {\n            changeSchedulePupil(idPupil);\n        })\n        .catch((error) => {\n            errorHandler(addPUPILS_Group, error)\n        })\n    }\n\n    let PUPILS_search_Li = pupils.map((item, i) => {\n\n        const choice = () => {\n            loading('Ученик добавляется', 'Пожалуйста подождите');\n            addPUPILS_Group([item.id], item.id);\n        };\n\n        return (\n            <Li key={item.id}\n                onClick={choice}\n                className=\"list-group-item\">\n                <span className=\"badge bg-warning text-dark\">{item.surname} {item.name} {item.midname}</span>\n            </Li>\n        );\n    });\n\n    return (\n        <>\n            <Span\n                className=\"btn \"\n                onClick={showModal}\n            >\n                <i className=\"bi bi-person-plus-fill\" style={{color: '#ffc107', fontSize: '24px'}}></i>\n            </Span>\n\n            <Modal\n                title={`Добавить ${title}`}\n                visible={isModalVisible}\n                onCancel={handleCancel}\n                width={600}\n                footer={[\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\n                        Отмена\n                    </Button>\n                ]}\n            >\n                <div className=\"row addPUPILS\">\n                    <div className=\"col-12 input-group\">\n                        <input\n                            id=\"fort\"\n                            onChange={(e) => {\n                                serverRequest((data) => {sortingSearchResponses(data, setPupils)}, encodeURI(e.target.value))\n                            }}\n                            autoComplete=\"off\"\n                            type=\"search\"\n                            className=\"form-control\"\n                            name=\"q\"\n                            placeholder=\"Найти ученика...\"\n                        />\n\n                        <ul className=\"col-12 list-group list-group-flush\">\n                            {PUPILS_search_Li}\n                        </ul>\n                    </div>\n                </div>\n            </Modal>\n        </>\n    );\n\n};\n\nexport default AddStydent_Group;","import React, {useState, useEffect} from 'react';\nimport { Menu, Dropdown } from 'antd';\n\nimport Url from './../../../../../url/url.js';\nimport localStorage_change from './../../../../../#localStorage_change.js';\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\n\nimport {Toast, loading, Swalclose} from './../../../../../alert/alert.js';\n\n// Style\nimport styled from '@emotion/styled';\n\nconst InfoTable = ({Data_ALL, updetePage}) => {\n\n\tlet newInfo = {};\n\n\tconst axios = require('axios'); // AJAX\n\n\tconst [visible, setVisible] = useState('')\n\n\tconst {group_name, tutor, level, places, pupils, _id} = Data_ALL;\n\n\tlet PUPILS0 = pupils? pupils : ''\n\n\tlet tutorText = 'Учитель не добавлен...'\n\n\tif (tutor) {\n\t\tlet { surname, name, midname } = tutor\n\t\ttutorText = `${surname} ${name} ${midname}`\n\t}\t  \n\n\tconst [AllTutor, setAllTutor] = useState([{\n\t\tname: 'Учителей не обнаруженно...',\n\t\tsurname: '',\n\t\tmidname: '',\n\t\t_id: '546456'\n\t}]);\n\n\tconst getTUTOR = (offset = 0) => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/AdminPanel/CRMAccounts?limit=20&offset=${offset}&accountType=teacher`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tlet {data} = res\n\t\t\tconsole.log(data)\n\t\t\tsetAllTutor(data)\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t\tif (error.response.status == 401) {\n\n\t\t\t\t\tif (error.response.data.message == 'TOKEN_EXPIRED') {\n\n\t\t\t\t\t\tlocalStorage_change(error.response.data.token);\n\t\t\t\t\t\tgetTUTOR();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlocalStorage.removeItem('tokenID');\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}\n\t\t})\n\t}\n\n\tconst onChangeInfo = () => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tupdetePage(res.data);\n\t\t\tconsole.log(newInfo);\n\t\t\t\n\t\t\tSwalclose();\n\t\t\tToast.fire({\n\t\t\t\ticon: 'success',\n\t\t\t\ttitle: 'Изменения сохранены'\n\t\t\t});\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tconst onAddTutur = (id) => {\n\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${Url}/CRM/Groups/${_id}/Teacher?tutorID=${id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then(() => {\n\t\t\tonChangeInfo()\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tlet A_Tutor = AllTutor.map((item, i) => {\n\t\tlet {name, surname, midname} = item\n\n\t\treturn (\n\t\t\t<option key={item._id} value={item._id}>{surname} {name} {midname}</option>\n\t\t\t);\n\t});\n\n\tuseEffect(() => {\n\t\tgetTUTOR()\n\t}, [])\n\n\tconst onChangeInfoItem = () => {\n\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\n\n\t\taxios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t},\n\t\t\tdata: newInfo\n\t\t})\n\t\t.then(() => {\n\t\t\tonChangeInfo();\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\t// const UL = styled.ul({\n\t// \twidth: '318px',\n\t// \tpadding: '10px',\n\t// \tbackground: 'rgba(0, 0, 0, 0.5)',\n\t// \t'.save': {\n\t// \t\tmarginTop: '16px',\n\t// \t\tcursor: 'pointer'\n\t// \t},\n\t// \tli: {\n\t// \t\tborder: 'none'\n\t// \t}\n\t// })\n\n\tconst Box = styled.span({\n\t\tfontSize: '13px'\n\t})\n\t// +^\n\tconst menuGROUP_NAME = (\n\t    <Menu>\n\t        <Menu.Item>\n\t            <input\n\t                placeholder='Изменить название'\n\t                onChange={(e) => {\n\t                    newInfo = { group_name: `${e.target.value}` };\n\t                }}\n\t                type=\"name\"\n\t                className=\"text-dark form-control col-12\"\n\t            />\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuTutor = (\n\t    <Menu>\n\t        <Menu.Item>\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t    <select\n\t\t\t\t        onChange={(e) => {\n\t\t\t\t            onAddTutur(e.target.value);\n\t\t\t\t        }}\n\t\t\t\t        className=\"form-control\"\n\t\t\t\t    >\n\t\t\t\t        <option></option>\n\t\t\t\t        {A_Tutor}\n\t\t\t\t    </select>\n\t\t\t\t</div>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuLEVEL = (\n\t    <Menu>\n\t        <Menu.Item>\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t    <select\n\t\t\t\t        onChange={(e) => {\n\t\t\t\t            newInfo = { level: +e.target.value };\n\t\t\t\t        }}\n\t\t\t\t        className=\"form-control\"\n\t\t\t\t    >\n\t\t\t\t        <option></option>\n\t\t\t\t        <option value=\"1\">1 класс</option>\n\t\t\t\t        <option value=\"2\">2 класс</option>\n\t\t\t\t        <option value=\"3\">3 класс</option>\n\t\t\t\t        <option value=\"4\">4 класс</option>\n\t\t\t\t    </select>\n\t\t\t\t</div>\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuPLACES = (\n\t\t<Menu>\n\t        <Menu.Item>\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"Изменить колличество мест\"\n\t\t\t\t\tonChange={(e) => {newInfo = {places: +e.target.value}}}\n\t\t\t\t\ttype=\"number\" className=\"text-dark form-control col-12\"/>\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\n\tconst changeData = (menu, data_name) => {\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t    overlay={menu}\n\t\t\t    visible={() => {\n\t\t\t        if (visible === data_name) {\n\t\t\t            return true;\n\t\t\t        } else {\n\t\t\t            return false;\n\t\t\t        }\n\t\t\t    }}\n\t\t\t    trigger={[\"click\"]}\n\t\t\t>\n\t\t\t    <i  className=\"bi bi-pencil\" \n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tif (visible === data_name) {\n\t\t\t\t    \t\tsetVisible('')\n\t\t\t\t    \t} else {\n\t\t\t\t    \t\tsetVisible(data_name)\n\t\t\t\t    \t}\n\t\t\t\t    }}\n\t\t\t\t    style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n\t\t\t\t    ></i>\n\t\t\t</Dropdown>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"list-group-item\">Название: <span className=\"badge bg-info text-light\">{group_name}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t    {changeData(menuGROUP_NAME,'group_name')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Учитель: <span className=\"badge bg-warning text-dark\">{tutorText}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuTutor,'tutor')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Класс: <span className=\"badge bg-success\">{level}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuLEVEL,'level')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Mест в группе: <span className=\"badge bg-info text-dark\">{places}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuPLACES,'places')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Свободных мест: <span className=\"badge bg-light text-dark\">{places - PUPILS0.length}</span></li>\n\t\t</>\n\t);\n}\n\nexport default InfoTable;","import React, {useState, useEffect} from 'react';\nimport {useParams} from \"react-router-dom\";\n\nimport Schedule from './../../#schedule/schedule.js';\nimport ScheduleForm from './../../#schedule/form/scheduleForm.js';\nimport PupilsSandTime from './../group-page/PupilsSandTime/PupilsSandTime.js';\nimport AddStydentGroup from './../../#more-functions/add-student_group/add-Student_Group.js';\nimport InfoTable from './Info-table/InfoTable.js';\n\nimport Url from './../../../../url/url.js';\n// Style \nimport './group-page.css';\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\nimport axios from \"axios\";\n\nconst breakpoints = [767],\n    mq = breakpoints.map(\n        bp => `@media (max-width: ${bp}px)`\n    );\n\nconst GroupPageStyle = styled.div({\n    marginTop: '0px',\n    margin: '0 auto',\n    '.pad': {\n        padding: '0px',\n        paddingRight: '10px',\n        [mq[0]]: {\n            paddingRight: '0px'\n        }\n    },\n    '.infoLog': {\n        marginBottom: '10px',\n        padding: '0',\n        [mq[0]]: {\n            paddingBottom: '10px'\n        },\n        '.calendar': {\n            margin: '9px 0',\n            marginRight: '10px',\n            fontSize: '15px'\n        }\n    },\n    '.group-name': {\n        padding: '0',\n        borderBottom: '1px solid #0dcaf0',\n        [mq[0]]: {\n            borderRight: 'none'\n        }\n    },\n    '.time': {\n        margin: '0',\n        padding: '0',\n        h5: {\n            fontSize: '1.25rem'\n        }\n    },\n    '.ulBox': {\n        borderRadius: '15px',\n        padding: '0px'\n    },\n    '.editing': {\n        background: '#fff',\n        borderRadius: '10px 10px 0 0',\n        i: {\n            marginLeft: '95%',\n            cursor: 'pointer'\n        }\n    },\n    li: {\n        backgroundColor: 'none',\n        span: {\n            fontSize: '16px',\n            margin: '0 5px 5px 0'\n        }\n    }\n});\n\nconst TablePupils = styled.div({\n    background: '#fff',\n    margin: '10px 0',\n    padding: '10px',\n    borderRadius: '15px',\n    '& > h3': {\n        fontSize: '22px'\n    }\n});\n\nexport const getGroup_Id = (setFun, id, onError, notification = true) => {\n    axios({\n        method: 'get',\n        url: `${Url}/CRM/Groups/${id}`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        }\n    })\n        .then((res) => {\n            setFun(res.data);\n        })\n        .catch((error) => {\n            errorHandler(getGroup_Id, error, onError, notification)\n        });\n}\n\nconst GroupPage = () => {\n\n    let dataGroup = useParams().id\n\n    let localSchedule = {};\n    const [DataALL, setDataALL] = useState({\n        pupils: [\n            {\n                _id: '564564',\n                localSchedule: localSchedule\n            }\n        ],\n        group_name: \"Загрузка...\",\n        tutor: \"\",\n        level: '',\n        places: '',\n        global_schedule: [\n            {\n                duration: ['--:--', '--:--']\n            }\n        ],\n        _id: '6456'\n    });\n\n    const {group_name, pupils, global_schedule} = DataALL;\n\n    useEffect(() => {\n        getGroup_Id(setDataALL, dataGroup);\n    }, [useParams().id]);\n\n    let PUPILS_List = ''\n\n    if (pupils) {\n        PUPILS_List = pupils.map((item) => {\n            return (\n                <span key={item._id} className=\"badge bg-info text-dark\">{`${item.name} ${item.surname}`}</span>\n            );\n        });\n    }\n\n    let PUPILSandTIME = ''\n\n    if (pupils) {\n        PUPILSandTIME = pupils.map((itemG) => {\n            return <PupilsSandTime key={itemG._id} itemG={itemG} dataGroup={dataGroup}\n                                   getGroup_Id={() => getGroup_Id(setDataALL, dataGroup)} setData={setDataALL} surname={itemG.surname}\n                                   name={itemG.name} type='group'/>;\n        });\n    }\n\n    let addPupils_g =\n        <AddStydentGroup\n            schedule={global_schedule}\n            update={() => getGroup_Id(setDataALL, dataGroup)}\n            pageId={dataGroup}\n            title='ученика'\n        />\n    return (\n        <>\n            <GroupPageStyle className=\"container row col-12\">\n                <div className=\"col-12 col-md-6 pad\">\n                    <div className=\"infoLog align-self-start col-md-12 col-12\">\n                        <div className=\"group-name col-12 col-lg-12\">\n                            <h3>{group_name}</h3>\n                        </div>\n                        <div className=\"time col-md-12 row\">\n                            <h6 className=\"calendar badge bg-info text-dark\">Расписание: </h6>\n                            {/*{calendarPlus}*/}\n                            <ScheduleForm updateGroup={() => getGroup_Id(setDataALL, dataGroup)} groupID={dataGroup}/>\n                            <Schedule global_schedule={global_schedule ? global_schedule : []}/>\n                        </div>\n                        {/*<PayHistory pay_History={arrPayHistory}/>*/}\n                    </div>\n                </div>\n                <div className=\"col-md-6 ulBox\">\n                    <ul className=\"list-group list-group-flush\">\n                        <InfoTable Data_ALL={DataALL} updetePage={setDataALL}/>\n                        <li className=\"list-group-item\">Ученики: {PUPILS_List} {addPupils_g}</li>\n                    </ul>\n                </div>\n                <TablePupils className=\"container col-12\">\n                    <h3 className=\"badge bg-warning\">Ученики:</h3>\n                    {PUPILSandTIME}\n                </TablePupils>\n            </GroupPageStyle>\n        </>\n    );\n};\nexport default GroupPage;","import React from 'react';\n\nimport {Upload, Button} from 'antd';\n\nimport 'antd/dist/antd.css';\n\nimport Url from './../../../url/url.js'\nimport {Toast} from '../../../alert/alert.js'\n\nimport styled from '@emotion/styled'\nimport RestrictionMessage from \"../../restriction-message/restriction-message\";\n\nconst Box = styled.div({\n    '.ButtonUpload': {\n        padding: 0,\n        background: 'rgba(0, 0, 0, 0)',\n        border: 'none',\n        color: '#a6adb4',\n        '&:hover': {\n            color: '#fff'\n        }\n    },\n    '.ant-upload-list': {\n        display: 'none'\n    }\n})\n\nconst UploadPupils = () => {\n\n    const props = {\n        name: 'file',\n        action: `${Url}/CRM/Pupils/uploadFile`,\n        accept: '.csv,.xlsx',\n        headers: {\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        onChange(info) {\n\n            if (info.file.status === 'done') {\n\n                Toast.fire({\n                    icon: 'success',\n                    title: `Фаил ${info.file.name}, успешно загружен`\n                })\n            } else if (info.file.status === 'error') {\n\n                if (info.file.response.statusCode === 403) {\n                    RestrictionMessage(403)\n                } else {\n                    Toast.fire({\n                        icon: 'error',\n                        title: `В ${info.file.name}, ошибки на строках: ${info.file.response.message.join(\", \")}`\n                    })\n                }\n            }\n        }\n    };\n\n    return (\n        <Box>\n            <Upload {...props}>\n                <Button className={'ButtonUpload'}>Загрузите файлы c учениками</Button>\n            </Upload>\n        </Box>\n    )\n}\n\nexport default UploadPupils","import React from \"react\"\nimport { Table } from \"antd\"\n\n\nimport styled from \"@emotion/styled\"\n\nconst TableGroups = ({ \n\tdataSource = [], \n\tcolumns = [], \n\tsetParamFilrers, \n\tparamFilrers, \n\tupdate = () => {} }) => {\n\n\tconst Box = styled.div({\n\t\t// [mq[1]]: {\n\t\t// \tpadding: '0 0',\n\t\t// },\n\t\t'.log_h2': {\n\n\t\t},\n\t\ttd: {\n\t\t\tpaddingTop: '1px',\n\t\t\tpaddingBottom: '4px'\n\t\t},\n\t\t'th, td': {\n\t\t\tpadding: '16px 11px',\n\t\t\twhiteSpace: 'nowrap'\n\t\t}\n\t})\n\n\treturn (\n\t\t<Box>\n\t\t\t<Table\n\t\t\t    pagination={false}\n\t\t\t    dataSource={dataSource}\n\t\t\t    columns={columns}\n\t\t\t    scroll={{ x: 0 }}\n\t\t\t    onChange={(pagination, filters, sorter, extra) => {\n\t\t\t    \tconsole.log(filters)\n\t\t\t    \tlet box = {...paramFilrers}\n\t\t\t    \tfor (let key in filters) {\n\t\t\t    \t\tif (filters[key]) {\n\t\t\t    \t\t\tconsole.log(filters[key])\n\t\t\t    \t\t\tbox[key] = filters[key]\n\t\t\t    \t\t} else if (key != 'GROUP_NAME') {\n\t\t\t    \t\t\tbox[key] = []\n\t\t\t    \t\t}\n\t\t\t    \t}\n\t\t\t    \tupdate(0, box)\n\t\t\t    \tsetParamFilrers(box)\n\t\t\t    }}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nexport default TableGroups","import React from 'react';\nimport {MenuFoldOutlined} from '@ant-design/icons';\n\nexport const getColumn = (con, fnc, title, dataIndex) => ({\n    title: () => (\n        <>\n            <MenuFoldOutlined\n                onClick={() => {\n                    if (con[1]) {\n                        fnc([\"\", \"\"]);\n                    } else {\n                        fnc([\n                            <span style={{paddingLeft: \"7px\"}}>{title}</span>,\n                            dataIndex,\n                        ]);\n                    }\n                }}\n            />\n            {con[0]}\n        </>\n    ),\n    dataIndex: `${con[1]}`,\n    key: `${con[1]}`\n})","import React, {useState, useEffect} from 'react';\nimport {Link} from \"react-router-dom\"\nimport {Table, Button, Tag, Input, Space, Checkbox, Menu} from 'antd';\nimport {SearchOutlined, CloseCircleOutlined, FilterFilled, MenuFoldOutlined} from '@ant-design/icons';\n\nimport TableGroups from './../../../table-groups/table-groups.js'\nimport {getColumn} from './../change-column/change-column.js'\nimport Pagination from './../pagination/pagination.js'\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\n\nimport localStorage_change from './../../../../#localStorage_change.js'\n// Style\nimport styled from '@emotion/styled';\n\n\nimport Url from './../../../../url/url.js'\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst Create_Columns_Rows_Groups = () => {\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(1)\n\n    const [dataObj, setDataObj] = useState([])\n\n    // Filters\n    const [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\n    const [filterDropdownVisible, setFilterDropdownVisible] = useState({\n        group_name: false,\n    })\n    // /Filters\n\n    // Change colums\n    const [g, setG] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Группа</span>,\n        \"group_name\",\n    ])\n    const [l, setL] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Уровень группы</span>,\n        \"level\",\n    ])\n    const [p, setP] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Количество мест</span>,\n        \"places\",\n    ])\n    const [o, setO] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Свободных мест</span>,\n        \"occupied\",\n    ])\n    const [n, setN] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Число учеников</span>,\n        \"NUMBER_PUPILS\",\n    ])\n    const [t, setT] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Учитель</span>,\n        \"tutor\",\n    ])\n    // /Change colums\n\n    const axios = require('axios'); // AJAX\n\n    const [Tutors, setTutors] = useState([])\n\n    const addTUTOR = () => {\n        axios({\n            method: 'get',\n            url: `${Url}/AdminPanel/CRMAccounts?limit=100&offset=0&accountType=teacher`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            setTutors(data)\n        })\n        .catch(error => {\n            errorHandler(addTUTOR, error)\n        })\n    }\n\n    const update = (offset = 0, filters = {}) => { // console.log(filters)\n\n        setLoadingButtomFilrer(true)\n\n        let box = {}\n\n        for (let key in filters) {\n            if (key != 'occupied' & filters[key][0] != undefined) {\n                console.log(filters[key], 1)\n                box[`${key}s`] = filters[key]\n            } else if (filters[key].length) {\n                console.log(filters[key], 2)\n                box[key] = filters[key][0]\n            }\n        }\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/find?limit=${getLimit}&offset=${offset}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                filters: box\n            }\n        })\n        .then(res => {\n            let {data, headers} = res\n            setDataObj(data)\n            setFilterDropdownVisible({group_name: false})\n            setLoadingButtomFilrer(false)\n            setCount(headers.count);\n        })\n        .catch((error) => {\n            errorHandler(update, error, () => {\n                setLoadingButtomFilrer(false)\n            })\n        })\n    }\n\n    useEffect(() => {\n        addTUTOR()\n        update()\n    }, [])\n\n    // Filrers\n    const [paramFilrers, setParamFilrers] = useState({ // paramFilrers\n        group_name: [],\n        level: [],\n        tutor: [],\n        occupied: []\n    });\n\n    let CheckboxValue = {\n        group_name: {}\n    };\n\n    for (let key in CheckboxValue) {\n        paramFilrers[key].forEach((item) => {\n            CheckboxValue[key][item] = true;\n        });\n    }\n\n    const [globalFilters, setGlobalFilters] = useState({\n        group_name: []\n    });\n\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\n\n        if (selectedKeys[0]) {\n            let FiltersLocal = {...globalFilters};\n\n            FiltersLocal[dataIndex].push({\n                text: selectedKeys[0],\n                value: selectedKeys[0],\n            });\n\n            setGlobalFilters(FiltersLocal);\n            selectedKeys[0] = ''\n        }\n    };\n\n    let DataSource = dataObj.map(item => {\n\n        let {group_name, level, places, pupils, tutor, _id} = item\n\n        return ({\n            key: _id,\n            group_name: [group_name, _id],\n            level,\n            places,\n            NUMBER_PUPILS: pupils ? pupils.length : '',\n            tutor: tutor ? `${tutor.surname} ${tutor.name} ${tutor.midname}` : '-',\n            occupied: pupils ? places - pupils.length : ''\n        })\n    })\n\n    const BoxButtom = styled.div({\n        marginTop: \"10px\",\n        svg: {\n            marginBottom: \"3px\",\n        },\n    });\n\n    const getColumnSearchProps = (dataIndex) => ({\n        filterDropdown: ({\n                             setSelectedKeys,\n                             selectedKeys,\n                             confirm,\n                             clearFilters,\n                         }) => (\n            <div style={{padding: 8}}>\n                <Input\n                    placeholder={`Создать фильтр ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={(e) =>\n                        setSelectedKeys(e.target.value ? [e.target.value] : [])\n                    }\n                    onPressEnter={() =>\n                        handleSearch(selectedKeys, confirm, dataIndex)\n                    }\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            handleSearch(selectedKeys, confirm, dataIndex);\n                        }}\n                        size=\"small\"\n                        style={{width: 140}}\n                    >\n                        Добавить в фильтр\n                    </Button>\n                    <Button\n                        type=\"link\"\n                        size=\"small\"\n                        onClick={() => {\n                            let filters = {...globalFilters};\n                            filters[dataIndex] = [];\n                            setGlobalFilters(filters)\n\n                            let dataFilters = {...paramFilrers};\n                            dataFilters[dataIndex] = [];\n\n                            setParamFilrers(dataFilters)\n\n                            update(0, dataFilters);\n                        }}\n                    >\n                        Очистить фильтр\n                    </Button>\n                </Space>\n                <Menu>\n                    {globalFilters[dataIndex].map((item, i) => {\n                        let checked = false;\n                        paramFilrers[dataIndex].forEach((param) => {\n                            if (param == item.text) {\n                                checked = true;\n                            }\n                        });\n\n                        return (\n                            <Menu.Item key={`${item.text}${i}`}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n                                        if (e.target.checked) {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = true;\n                                        } else {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = false;\n                                        }\n                                    }}\n                                >\n                                    {item.text}\n                                </Checkbox>\n                            </Menu.Item>\n                        );\n                    })}\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n                            let paramLocal = [];\n\n                            for (let key in CheckboxValue[dataIndex]) {\n                                if (CheckboxValue[dataIndex][key]) {\n                                    paramLocal.push(key);\n                                }\n                            }\n                            let data = {...paramFilrers};\n                            data[dataIndex] = paramLocal;\n\n                            setParamFilrers(data)\n                            setGlobalFilters(globalFilters)\n\n                            update(0, data);\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        filterIcon: () => {\n            let color = undefined;\n            if (paramFilrers[dataIndex][0]) {\n                color = \"#1890ff\";\n            }\n\n            if (filterDropdownVisible[dataIndex]) {\n                return <CloseCircleOutlined/>;\n            } else {\n                return (\n                    <>\n                        <SearchOutlined style={{color: color}}/>\n                    </>\n                )\n            }\n        },\n        onFilterDropdownVisibleChange: (Visible) => {\n            let per = {...filterDropdownVisible};\n            per[dataIndex] = Visible;\n            setFilterDropdownVisible(per);\n\n            if (!Visible) {\n                setParamFilrers(paramFilrers)\n                setGlobalFilters(globalFilters)\n            }\n        },\n        filterDropdownVisible: filterDropdownVisible[dataIndex],\n    });\n    // /Filrers\n\n    let filtersTutors = Tutors.map(item => ({\n        text: `${item.surname} ${item.name}`,\n        value: item._id\n    }))\n\n    let Columns = [\n        {\n            ...getColumn(g, setG, 'Группа', 'group_name'),\n            render: (group_name) => {\n                if (group_name) {\n                    return <Link to={`/group/${group_name[1]}`}>{group_name[0]}</Link>\n                }\n            },\n            ...getColumnSearchProps(\"group_name\")\n        },\n        {\n            ...getColumn(l, setL, 'Уровень группы', 'level'),\n            filters: [\n                {\n                    text: \"1\",\n                    value: 1,\n                },\n                {\n                    text: \"2\",\n                    value: 2,\n                },\n                {\n                    text: \"3\",\n                    value: 3,\n                },\n                {\n                    text: \"4\",\n                    value: 4,\n                }\n            ],\n            defaultFilteredValue: paramFilrers.level.map(item => item + '')\n        },\n        {\n            ...getColumn(p, setP, 'Количество мест', 'places'),\n        },\n        {\n            ...getColumn(o, setO, 'Свободных мест', 'occupied'),\n            filters: [\n                {\n                    text: \"Заполненно\",\n                    value: true,\n                },\n                {\n                    text: \"Свободно\",\n                    value: false,\n                },\n            ],\n            defaultFilteredValue: paramFilrers.occupied.map(item => `${item}`)  // ...paramFilrers.occupied\n        },\n        {\n            ...getColumn(n, setN, 'Число учеников', 'NUMBER_PUPILS'),\n        },\n        {\n            ...getColumn(t, setT, 'Учитель', 'tutor'),\n            filters: filtersTutors,\n            defaultFilteredValue: [...paramFilrers.tutor]\n        }\n    ]\n\n    const Box = styled.div({\n        padding: '0 30px'\n    })\n\n    return (\n        <Box>\n            <TableGroups\n                dataSource={DataSource}\n                columns={Columns}\n                setParamFilrers={setParamFilrers}\n                paramFilrers={paramFilrers}\n                update={update}/>\n            <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n        </Box>\n    )\n}\n\nexport default Create_Columns_Rows_Groups","import React, {useEffect} from 'react';\nimport {Link} from \"react-router-dom\"\nimport {Table} from 'antd';\nimport ReturnAge from './../home-page/return-age/returnAge' // Определяет возраст\n\nimport styled from '@emotion/styled';\nimport moment from \"moment\";\nimport 'moment/locale/ru';\n\nconst Box = styled.div({\n    'th, td': {\n        padding: '16px 11px'\n    }\n})\n\nconst Table_Pupils = ({\n                          paramFilrers,\n                          setParamFilrers,\n\n                          dataGroupsChecked,\n\n                          dataSource,\n                          update,\n                          columns,\n\n                          scrollLeft\n                      }) => {\n\n    useEffect(() => {\n        document.querySelector('.ant-table-content').scrollLeft = scrollLeft\n    })\n    let itemPupils = dataSource.map(item => {\n        let {\n            _id,\n            surname,\n            name,\n            midname,\n            dateOfBirth,\n            gender,\n            phone,\n            balance,\n            parentPhone,\n            parentFullname,\n            discord,\n            groups,\n            tutor,\n            statuses,\n            createdAt\n        } = item\n\n        return ({\n            key: _id,\n            surname: () => (\n                <Link\n                    className=\"link-info\"\n                    to={`/student/${_id}`}>\n\n                    {surname}\n                </Link>\n            ),\n            name,\n            midname,\n            dateOfBirth: ReturnAge(dateOfBirth),\n            gender,\n            phoneNumber: phone,\n            tutor,\n            parentFullname,\n            parentPhoneNumber: parentPhone,\n            balance: `${balance}`,\n            discordNickname: discord,\n            groups,\n            statuses,\n            createdAt: moment(createdAt).format('DD - MMMM - YYYY, HH:MM')\n        })\n    })\n\n    return (\n        <Box>\n            <Table\n                pagination={false}\n                dataSource={itemPupils}\n                columns={columns}\n                scroll={{x: 0}}\n                onChange={(pagination, filters) => {\n                    let box = {...paramFilrers}\n                    if (filters.gender) {\n                        box.gender = filters.gender\n                    } else {\n                        box.gender = []\n                    }\n\n                    if (filters.balance) {\n                        box.balance = filters.balance\n                    } else {\n                        box.balance = []\n                    }\n\n                    setParamFilrers(box)\n                    update(box, dataGroupsChecked)\n                }}\n            />\n        </Box>\n    )\n}\n\nexport default Table_Pupils","import styled from \"@emotion/styled\";\n\nconst breakpoints = [1020, 700],\n    mq = breakpoints.map(\n        bp => `@media (max-width: ${bp}px)`\n    )\n\nexport const TableL = styled.div({\n    padding: '0 30px',\n    [mq[1]]: {\n        padding: '0 0',\n    },\n    '.log_h2': {},\n    td: {\n        paddingTop: '1px',\n        paddingBottom: '4px'\n    },\n    'th, td': {\n        whiteSpace: 'nowrap'\n    }\n})\n\nexport const BoxButtom = styled.div({\n    marginTop: \"10px\",\n    svg: {\n        marginBottom: \"3px\",\n    },\n});","import {Button, Checkbox, Menu} from \"antd\";\nimport {FilterFilled, SearchOutlined} from \"@ant-design/icons\";\nimport {BoxButtom} from \"../style-filter\";\nimport React from \"react\";\n\nexport const filterStatuses = (\n    dataStatusesCheck,\n    setParamFilrers,\n    loadingButtomFilrer,\n    paramFilrers,\n    setFilterAxios\n) => {\n\n    return ({\n        filterDropdown: () => (\n            <div style={{padding: 8}}>\n                <Menu>\n\n                    {dataStatusesCheck.map(item => {\n                        let checked = false\n                        let {_id, name} = item\n\n                        paramFilrers.statuses.forEach(item => {\n                            if (_id === item) {\n                                checked = true\n                            }\n                        })\n\n                        return (\n                            <Menu.Item key={_id}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n\n                                        let box = [...paramFilrers.statuses]\n\n                                        if (e.target.checked) {\n                                            box.push(_id)\n                                        } else {\n                                            box = box.filter(item => (item !== _id))\n                                        }\n                                        setParamFilrers({...paramFilrers, statuses: box})\n                                    }}\n                                >\n                                    {name}\n                                </Checkbox>\n                            </Menu.Item>\n                        )\n                    })}\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n                            setFilterAxios(paramFilrers, {})\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        filterIcon: () => {\n            if (Object.keys(paramFilrers.statuses).length) {\n                return <FilterFilled style={{color: '#1890ff'}}/>\n            } else {\n                return <FilterFilled/>\n            }\n        }\n    })\n}","import {Button, Checkbox, Menu} from \"antd\";\nimport {BoxButtom} from \"../style-filter\";\nimport {FilterFilled, SearchOutlined} from \"@ant-design/icons\";\nimport React, {useState} from \"react\";\n\nconst FilterByTeachers = (\n    setParamFilrers = () => {},\n    loadingButtomFilrer = false,\n    paramFilrers = {},\n    setFilterAxios = () => {}\n) => {\n\n    const [dataStatusesCheck, setDataStatusesCheck] = useState([])\n\n    return ({\n        filterDropdown: () => (\n            <div style={{padding: 8}}>\n                <Menu>\n\n                    {dataStatusesCheck.map(item => {\n                        let checked = false\n                        let {_id, name} = item\n\n                        paramFilrers.statuses.forEach(item => {\n                            if (_id === item) {\n                                checked = true\n                            }\n                        })\n\n                        return (\n                            <Menu.Item key={_id}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n\n                                        let box = [...paramFilrers.statuses]\n\n                                        if (e.target.checked) {\n                                            box.push(_id)\n                                        } else {\n                                            box = box.filter(item => (item !== _id))\n                                        }\n                                        setParamFilrers({...paramFilrers, statuses: box})\n                                    }}\n                                >\n                                    {name}\n                                </Checkbox>\n                            </Menu.Item>\n                        )\n                    })}\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n                            setFilterAxios(paramFilrers, {})\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        filterIcon: () => {\n            if (Object.keys(paramFilrers.statuses).length) {\n                return <FilterFilled style={{color: '#1890ff'}}/>\n            } else {\n                return <FilterFilled/>\n            }\n        }\n    })\n}\n\nexport default FilterByTeachers","import React, {useState, useEffect} from 'react'\r\nimport {Button, Input, Space, Checkbox, Menu, Tag} from 'antd';\r\n\r\nimport Table_Pupils from './../../../table-pupils/table.js'\r\nimport {getColumn} from '../change-column/change-column'\r\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\r\n\r\nimport {SearchOutlined, CloseCircleOutlined, FilterFilled} from '@ant-design/icons';\r\n\r\n// Style\r\nimport {TableL, BoxButtom} from './style-filter'\r\n\r\nimport Url from './../../../../url/url.js'\r\nimport Pagination from './../../#more-functions/pagination/pagination.js'\r\nimport errorHandler from \"../../../error-handler/error-handler\";\r\nimport {filterStatuses} from \"./filter-dropdown/logics-pupils\";\r\nimport {updateStatuses} from '../../student/student-statuses/logic-statuses'\r\nimport FilterByTeachers from \"./filter-dropdown/filter-by-teachers\";\r\n\r\nconst axios = require('axios'); // AJAX\r\n\r\nconst Create_Columns_Rows_Pupils = () => {\r\n\r\n    const [ValueGroup, setValueGroup] = useState('')\r\n    const [dataStatusesCheck, setDataStatusesCheck] = useState([{name: '1', color: 'red', _id: '345'}, {name: '2', color: 'red', _id: '335'}])\r\n    // const [dataStatusesChecked, setDataStatusesChecked] = useState()\r\n\r\n    const [offsetG, setOffsetG] = useState(0)\r\n    const [Count, setCount] = useState(0)\r\n\r\n    const [objPupils, setObjPupils] = useState([])\r\n\r\n    const [scrollLeft, setScrollLeft] = useState(0)\r\n\r\n    // Filtered\r\n    const [paramFilrers, setParamFilrers] = useState({\r\n        surname: [],\r\n        name: [],\r\n        midname: [],\r\n        age: [],\r\n        gender: [],\r\n        groups: [],\r\n        balance: [],\r\n        statuses: []\r\n    })\r\n    const [emptyAge, setEmptyAge] = useState(false)\r\n\r\n    let emptyAgeLocal = false\r\n\r\n    const [globalFiltersG, setGlobalFiltersG] = useState({\r\n        surname: [],\r\n        name: [],\r\n        midname: [],\r\n        age: [],\r\n        balance: [],\r\n        statuses: []\r\n    })\r\n\r\n    const [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\r\n\r\n    const [filterDropdownVisible, setFilterDropdownVisible] = useState({\r\n        surname: false,\r\n        name: false,\r\n        midname: false,\r\n        age: false,\r\n        groups: false,\r\n        statuses: false\r\n    })\r\n\r\n\r\n    const [s, setS] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Фамилия</span>,\r\n        \"surname\",\r\n    ])\r\n    const [n, setN] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Имя</span>,\r\n        \"name\",\r\n    ])\r\n    const [m, setM] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Отчество</span>,\r\n        \"midname\",\r\n    ])\r\n    const [a, setA] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Возраст</span>,\r\n        \"dateOfBirth\",\r\n    ])\r\n    const [pF, setPF] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>ФИО Родителя</span>,\r\n        \"parentFullname\",\r\n    ])\r\n    const [g, setG] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Пол</span>,\r\n        \"gender\",\r\n    ])\r\n    const [PhoneTitle, setPhoneTitle] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Номер телефона</span>,\r\n        \"phoneNumber\",\r\n    ])\r\n    const [CreatedAt, setCreatedAt] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Дата создания</span>,\r\n        \"createdAt\",\r\n    ])\r\n    const [p, setP] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Номер телефона родителя</span>,\r\n        \"parentPhoneNumber\",\r\n    ])\r\n    const [b, setB] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Баланс</span>,\r\n        \"balance\",\r\n    ])\r\n    const [d, setD] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Дискорд никнейм</span>,\r\n        \"discordNickname\",\r\n    ])\r\n    const [gr, setGr] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Группы</span>,\r\n        \"groups\",\r\n    ])\r\n    const [st, setSt] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Статусы</span>,\r\n        \"statuses\",\r\n    ])\r\n    const [t, setT] = useState([\r\n        <span style={{paddingLeft: \"7px\"}}>Учителя</span>,\r\n        \"tutors\",\r\n    ])\r\n\r\n    let CheckboxValue = {\r\n        surname: {},\r\n        name: {},\r\n        midname: {},\r\n        age: {}\r\n    };\r\n\r\n    for (let key in CheckboxValue) {\r\n        paramFilrers[key].forEach((item) => {\r\n            CheckboxValue[key][item] = true;\r\n        });\r\n    }\r\n\r\n    // Groups filter\r\n    const [dataGroupsChecked, setDataGroupsChecked] = useState({})\r\n\r\n    const [GroupsCheckedF, setGroupsCheckedF] = useState({})\r\n\r\n    let heapGroups = {...dataGroupsChecked, ...GroupsCheckedF}\r\n\r\n    let dataGroupsCheck = []\r\n\r\n\r\n    for (let key in heapGroups) {\r\n\r\n        dataGroupsCheck.push({\r\n            id: key,\r\n            text: heapGroups[key][0],\r\n            checked: heapGroups[key][1]\r\n        })\r\n    }\r\n\r\n    // /Groups filter\r\n\r\n    const [globalFilters, setGlobalFilters] = useState(globalFiltersG);\r\n\r\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n\r\n        if (selectedKeys[0]) {\r\n            let FiltersLocal = {...globalFilters};\r\n\r\n            FiltersLocal[dataIndex].push({\r\n                text: selectedKeys[0],\r\n                value: selectedKeys[0],\r\n            });\r\n\r\n            setGlobalFilters(FiltersLocal);\r\n            selectedKeys[0] = ''\r\n        }\r\n    };\r\n\r\n    const emptyAgeGet = (dataIndex) => {\r\n        if (dataIndex == 'age') {\r\n            return 'block'\r\n        } else {\r\n            return ' none'\r\n        }\r\n    }\r\n    const ageGet = (type) => {\r\n        if (type == 'age') {\r\n            return 'number'\r\n        } else {\r\n            return 'text'\r\n        }\r\n    }\r\n\r\n    const getColumnSearchProps = (dataIndex) => ({\r\n        filterDropdown: ({\r\n                             setSelectedKeys,\r\n                             selectedKeys,\r\n                             confirm,\r\n                             clearFilters,\r\n                         }) => (\r\n            <div style={{padding: 8}}>\r\n                <Input\r\n                    type={ageGet(dataIndex)}\r\n                    placeholder={`Создать фильтр ${dataIndex}`}\r\n                    value={selectedKeys[0]}\r\n                    onChange={(e) =>\r\n                        setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n                    }\r\n                    onPressEnter={() =>\r\n                        handleSearch(selectedKeys, confirm, dataIndex)\r\n                    }\r\n                    style={{marginBottom: 8, display: \"block\"}}\r\n                />\r\n                <Space>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={() => {\r\n                            handleSearch(selectedKeys, confirm, dataIndex);\r\n                        }}\r\n                        size=\"small\"\r\n                        style={{width: 140}}\r\n                    >\r\n                        Добавить в фильтр\r\n                    </Button>\r\n                </Space>\r\n                <Menu>\r\n                    {globalFilters[dataIndex].map((item, i) => {\r\n                        let checked = false;\r\n                        paramFilrers[dataIndex].forEach((param) => {\r\n                            if (param == item.text) {\r\n                                checked = true;\r\n                            }\r\n                        });\r\n\r\n                        return (\r\n                            <Menu.Item key={`${item.text}${i}`}>\r\n                                <Checkbox\r\n                                    defaultChecked={checked}\r\n                                    onChange={(e) => {\r\n                                        if (e.target.checked) {\r\n                                            CheckboxValue[dataIndex][\r\n                                                item.text\r\n                                                ] = true;\r\n                                        } else {\r\n                                            CheckboxValue[dataIndex][\r\n                                                item.text\r\n                                                ] = false;\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    {item.text}\r\n                                </Checkbox>\r\n                            </Menu.Item>\r\n                        );\r\n                    })}\r\n                    <Menu.Item\r\n                        style={{display: emptyAgeGet(dataIndex)}}\r\n                        key='emptyAge'>\r\n                        <Checkbox\r\n                            defaultChecked={emptyAge}\r\n                            onChange={(e) => {\r\n                                emptyAgeLocal = e.target.checked\r\n                            }}>\r\n                            Возраст не указан\r\n                        </Checkbox>\r\n                    </Menu.Item>\r\n                </Menu>\r\n                <BoxButtom>\r\n                    <Button\r\n                        loading={loadingButtomFilrer}\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        icon={<SearchOutlined/>}\r\n                        onClick={() => {\r\n                            let paramLocal = [];\r\n\r\n                            for (let key in CheckboxValue[dataIndex]) {\r\n                                if (CheckboxValue[dataIndex][key]) {\r\n                                    paramLocal.push(key);\r\n                                }\r\n                            }\r\n                            let data = {...paramFilrers};\r\n                            data[dataIndex] = paramLocal;\r\n\r\n                            setParamFilrers(data)\r\n                            setGlobalFiltersG(globalFilters)\r\n\r\n                            setFilterAxios(data, dataGroupsChecked);\r\n                        }}\r\n                    >\r\n                        Применить фильтр\r\n                    </Button>\r\n                </BoxButtom>\r\n            </div>\r\n        ),\r\n        filterIcon: () => {\r\n            let color = undefined;\r\n            if (paramFilrers[dataIndex][0]) {\r\n                color = \"#1890ff\";\r\n            }\r\n\r\n            if (filterDropdownVisible[dataIndex]) {\r\n                return <CloseCircleOutlined/>;\r\n            } else {\r\n                return (\r\n                    <>\r\n                        <SearchOutlined style={{color: color}}/>\r\n                    </>\r\n                )\r\n            }\r\n        },\r\n        onFilterDropdownVisibleChange: (Visible) => {\r\n            let per = {...filterDropdownVisible};\r\n            per[dataIndex] = Visible;\r\n            setFilterDropdownVisible(per);\r\n\r\n            if (!Visible) {\r\n                setParamFilrers(paramFilrers)\r\n                setGlobalFiltersG(globalFilters)\r\n            }\r\n        },\r\n        filterDropdownVisible: filterDropdownVisible[dataIndex],\r\n    });\r\n\r\n    const searchGroups = (value) => {\r\n\r\n        let localUrl = encodeURI(value);\r\n\r\n        axios({\r\n            method: \"get\",\r\n            url: `${Url}/CRM/Search/autocompletion?query=${localUrl}`,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n\r\n            let box = {} //...GroupsCheckedF\r\n\r\n            res.data.body.hits.hits.map(item => {\r\n                let {id, group_name, type} = item._source\r\n\r\n                if (type == 'group') {\r\n                    box[id] = [`${group_name}`, false]\r\n                }\r\n            })\r\n\r\n            setValueGroup(value)\r\n\r\n            setGroupsCheckedF(box)\r\n        })\r\n        .catch(error => {\r\n            errorHandler(searchGroups, error)\r\n        })\r\n    }\r\n\r\n    let typingTimer; //timer identifier\r\n    let doneTypingInterval = 500; //time in ms (5 seconds)\r\n\r\n    const SearchGroups = (text) => {\r\n        clearTimeout(typingTimer);\r\n        if (text) {\r\n            typingTimer = setTimeout(() => {\r\n                // setValueGroup(name)\r\n                searchGroups(text);\r\n            }, doneTypingInterval);\r\n        } else {\r\n            setValueGroup('')\r\n            setGroupsCheckedF({})\r\n        }\r\n    }\r\n\r\n    const handleSearchGroup = (selectedKeys, confirm) => {\r\n\r\n    }\r\n\r\n    const filterGroups = () => ({\r\n        filterDropdown: ({\r\n                             setSelectedKeys,\r\n                             selectedKeys,\r\n                             confirm,\r\n                             clearFilters,\r\n                         }) => (\r\n            <div style={{padding: 8}}>\r\n                <Input\r\n                    // focus={true}\r\n                    id='inputGroup'\r\n                    placeholder={`Найти группы`}\r\n                    defaultValue={ValueGroup}\r\n                    onChange={(e) => {\r\n                        SearchGroups(e.target.value)\r\n                        // setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n                    }}\r\n                    onPressEnter={() =>\r\n                        handleSearchGroup(selectedKeys, confirm)\r\n                    }\r\n                    style={{marginBottom: 8, display: \"block\"}}\r\n                />\r\n                <Menu>\r\n\r\n                    {dataGroupsCheck.map(item => {\r\n                        let {id, text, checked} = item\r\n\r\n                        return (\r\n                            <Menu.Item key={id}>\r\n                                <Checkbox\r\n                                    defaultChecked={checked}\r\n                                    onChange={(e) => {\r\n\r\n                                        let box = {...dataGroupsChecked}\r\n\r\n                                        if (e.target.checked) {\r\n                                            box[id] = [text, true]\r\n                                        } else {\r\n                                            delete box[id]\r\n                                            // delete obj['gh']\r\n                                        }\r\n\r\n                                        setDataGroupsChecked(box)\r\n                                        setGroupsCheckedF({})\r\n                                    }}\r\n                                >\r\n                                    {text}\r\n                                </Checkbox>\r\n                            </Menu.Item>\r\n                        )\r\n                    })}\r\n                </Menu>\r\n                <BoxButtom>\r\n                    <Button\r\n                        loading={loadingButtomFilrer}\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        icon={<SearchOutlined/>}\r\n                        onClick={() => {\r\n\r\n                            // setDataGroupsChecked(dataGroupsChecked)\r\n                            setFilterAxios(paramFilrers, dataGroupsChecked)\r\n                        }}\r\n                    >\r\n                        Применить фильтр\r\n                    </Button>\r\n                </BoxButtom>\r\n            </div>\r\n        ),\r\n        onFilterDropdownVisibleChange: (Visible) => {\r\n\r\n\r\n            if (Visible) {\r\n                setScrollLeft(document.querySelector('.ant-table-content').scrollLeft)\r\n            } else {\r\n                setScrollLeft(0)\r\n            }\r\n\r\n            let per = {...filterDropdownVisible};\r\n            per.groups = Visible;\r\n            setFilterDropdownVisible(per);\r\n\r\n            if (!Visible) {\r\n                // setDataGroupsChecked(dataGroupsChecked)\r\n                setFilterAxios(paramFilrers, dataGroupsChecked)\r\n            }\r\n        },\r\n        filterDropdownVisible: filterDropdownVisible.groups,\r\n        filterIcon: () => {\r\n            if (Object.keys(dataGroupsChecked).length) {\r\n                return <FilterFilled style={{color: '#1890ff'}}/>\r\n            } else {\r\n                return <FilterFilled/>\r\n            }\r\n        }\r\n    })\r\n\r\n    // /Filtered\r\n\r\n    const [FILTER, SET_FILTER] = useState({\r\n        filters: {},\r\n    })\r\n\r\n    const update = (offset = 0, p) => {\r\n        setLoadingButtomFilrer(true);\r\n\r\n        axios({\r\n            method: \"post\",\r\n            url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`,\r\n            headers: {\r\n                \"Content-Type\": \"application/json;charset=utf-8\",\r\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n            },\r\n            data: p ? p : FILTER,\r\n        })\r\n        .then((res) => {\r\n            let {data, headers} = res;\r\n            setObjPupils(data);\r\n            setCount(headers.count);\r\n\r\n            setFilterDropdownVisible({\r\n                surname: false,\r\n                name: false,\r\n                midname: false,\r\n            });\r\n            setLoadingButtomFilrer(false);\r\n        })\r\n        .catch((error) => {\r\n            errorHandler(update, error, () => {\r\n                setLoadingButtomFilrer(false)\r\n            })\r\n        });\r\n    };\r\n\r\n    const setFilterAxios = (param = {}, filtersGroups = {}) => {\r\n        let filtersLocal = {};\r\n\r\n        for (let key in filtersGroups) {\r\n            if (filtersLocal.groups) {\r\n                filtersLocal.groups.push(key);\r\n            } else {\r\n                filtersLocal.groups = [];\r\n                filtersLocal.groups.push(key);\r\n            }\r\n            // filtersLocal.groups = [...filtersLocal.groups]\r\n        }\r\n\r\n        for (let key in param) {\r\n            if (param[key][0]) {\r\n                if (\r\n                    key == \"surname\" ||\r\n                    key == \"name\" ||\r\n                    key == \"midname\" ||\r\n                    key == \"age\"\r\n                ) {\r\n                    filtersLocal[`${key}s`] = param[key];\r\n                } else {\r\n                    filtersLocal[`${key}`] = param[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        if (filtersLocal.ages) {\r\n            let age = [...filtersLocal.ages];\r\n            filtersLocal.ages = [];\r\n            age.forEach((age) => {\r\n                filtersLocal.ages.push(+age);\r\n            });\r\n        }\r\n\r\n        if (filtersLocal.balance) {\r\n            let balance = [...filtersLocal.balance];\r\n            if ((balance[0] == 1) & !balance[1]) {\r\n                filtersLocal.balance = {$gte: 0};\r\n            } else if ((balance[0] == 2) & !balance[1]) {\r\n                filtersLocal.balance = {$lt: 0};\r\n            } else if (balance[1]) {\r\n                filtersLocal.balance = {$gte: 0, $lte: 0};\r\n            }\r\n        }\r\n\r\n        filtersLocal.emptyAge = emptyAgeLocal\r\n\r\n        let p = {\r\n            filters: filtersLocal,\r\n        };\r\n        setEmptyAge(emptyAgeLocal)\r\n        SET_FILTER(p)\r\n        update(0, p)\r\n    }\r\n\r\n    useEffect(() => {\r\n        update();\r\n        updateStatuses(setDataStatusesCheck, setLoadingButtomFilrer)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        let input = document.getElementById('inputGroup')\r\n        if (input) {\r\n            input.focus()\r\n        }\r\n    })\r\n\r\n    const columns = [\r\n        {\r\n            ...getColumn(s, setS, 'Фамилия', 'surname'),\r\n            render: (surname) => {\r\n                if (typeof (surname) == 'function') {\r\n                    return surname()\r\n                }\r\n            },\r\n            ...getColumnSearchProps(\"surname\"),\r\n        },\r\n        {\r\n            ...getColumn(n, setN, 'Имя', 'name'),\r\n            ...getColumnSearchProps(\"name\"),\r\n        },\r\n        {\r\n            ...getColumn(m, setM, 'Отчество', 'midname'),\r\n            ...getColumnSearchProps(\"midname\"),\r\n        },\r\n        {\r\n            ...getColumn(a, setA, 'Возраст', 'age'),\r\n            ...getColumnSearchProps('age')\r\n        },\r\n        {\r\n            ...getColumn(g, setG, 'Пол', 'gender'),\r\n            filters: [\r\n                {\r\n                    text: \"Мужской\",\r\n                    value: \"Мужской\",\r\n                },\r\n                {\r\n                    text: \"Женский\",\r\n                    value: \"Женский\",\r\n                },\r\n            ],\r\n            defaultFilteredValue: [...paramFilrers.gender]\r\n        },\r\n        {\r\n            ...getColumn(st, setSt, 'Статусы', 'statuses'),\r\n            render: (statuses) => {\r\n                if (statuses && statuses[0]) {\r\n                    return (\r\n                        statuses.map(status => {\r\n                            const {color, _id, name} = status\r\n                            return (\r\n                                <Tag color={color} key={_id}>{name}</Tag>\r\n                            )\r\n                        })\r\n                    )\r\n                }\r\n            },\r\n            ...filterStatuses(\r\n                dataStatusesCheck,\r\n                setParamFilrers,\r\n                loadingButtomFilrer,\r\n                paramFilrers,\r\n                setFilterAxios)\r\n        },\r\n        {\r\n            ...getColumn(t, setT, 'Учителя', 'tutors'),\r\n            ...<FilterByTeachers/>\r\n        },\r\n        {\r\n            ...getColumn(PhoneTitle, setPhoneTitle, 'Номер телефона', 'phoneNumber')\r\n        },\r\n        {\r\n            ...getColumn(CreatedAt, setCreatedAt, 'Дата создания', 'createdAt')\r\n        },\r\n        {\r\n            ...getColumn(p, setP, 'Номер телефона родителя', 'parentPhoneNumber')\r\n        },\r\n        {\r\n            ...getColumn(pF, setPF, 'ФИО Родителя', 'parentFullname')\r\n        },\r\n        {\r\n            ...getColumn(b, setB, 'Баланс', 'balance'),\r\n            filters: [\r\n                {\r\n                    text: \"Положительный\",\r\n                    value: '1',\r\n                },\r\n                {\r\n                    text: \"Отрицательный\",\r\n                    value: '2',\r\n                },\r\n            ],\r\n            defaultFilteredValue: [...paramFilrers.balance] //...paramFilrers.balance\r\n        },\r\n        {\r\n            ...getColumn(gr, setGr, 'Группы', 'groups'),\r\n            render: (groups) => {\r\n                if (groups) {\r\n                    return (groups.map(group => (\r\n                        <Tag\r\n                            color=\"blue\"\r\n                            key={`${group._id}`}\r\n                        >\r\n                            {group.group_name}\r\n                        </Tag>)))\r\n                }\r\n            },\r\n            ...filterGroups()\r\n        },\r\n        {\r\n            ...getColumn(d, setD, \"Дискорд никнейм\", \"discordNickname\")\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <TableL>\r\n            <Table_Pupils\r\n                paramFilrers={paramFilrers}\r\n                setParamFilrers={setParamFilrers}\r\n                globalFiltersG={globalFilters}\r\n                setGlobalFiltersG={setGlobalFilters}\r\n                dataGroupsChecked={dataGroupsChecked}\r\n                setDataGroupsChecked={setDataGroupsChecked}\r\n\r\n                dataSource={objPupils}\r\n                update={setFilterAxios}\r\n\r\n                loadingButtomFilrer={loadingButtomFilrer}\r\n                setLoadingButtomFilrer={setLoadingButtomFilrer}\r\n                filterDropdownVisible={filterDropdownVisible}\r\n                setFilterDropdownVisible={setFilterDropdownVisible}\r\n                columns={columns}\r\n\r\n                scrollLeft={scrollLeft}\r\n            />\r\n            <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\r\n        </TableL>\r\n    )\r\n}\r\n\r\nexport default Create_Columns_Rows_Pupils","import React from \"react\"\n\nexport const SuspenseComponent = (fallback, OtherComponent, props = {}) => {\n  return () => {\n    return (\n      <React.Suspense fallback={fallback}>\n        <OtherComponent {...props} />\n      </React.Suspense>\n    )\n  }\n}","import styled from \"@emotion/styled\";\r\n\r\nconst TrialLessonsStyle = styled.div`\r\n  .trial-lesson-schedule-skeleton {\r\n    display: block;\r\n\r\n    div {\r\n      display: block;\r\n      width: 100%;\r\n\r\n      span {\r\n        width: 100%;\r\n        margin-bottom: 8px;\r\n        height: 56px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .trial-lesson-schedule {\r\n    td {\r\n      padding: 10px 10px;\r\n    }\r\n\r\n    .ant-checkbox-inner {\r\n      height: 20px;\r\n      width: 20px;\r\n    }\r\n  }\r\n\r\n  .trial-lesson-schedule-comments {\r\n    display: flex;\r\n\r\n    button {\r\n      margin: auto 0;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n`\r\n\r\nexport {\r\n    TrialLessonsStyle\r\n}","import axios from \"axios\";\r\nimport Url from \"../../../url/url\";\r\nimport errorHandler from \"../../error-handler/error-handler\";\r\n\r\nconst commentingOnGroup = (title, group, change_trial_lessons, setNotes, setLoading) => {\r\n    setLoading(true)\r\n    let new_schedule = [{\r\n        ...group.global_schedule[0],\r\n        title\r\n    }]\r\n    group.pupils.forEach(pupil => {\r\n        setNotes(pupil.id, title)\r\n    })\r\n    change_global_schedule(group._id, new_schedule)\r\n        .then(res => {\r\n            setLoading(false)\r\n            change_trial_lessons(res.data)\r\n        })\r\n        .catch(error => {\r\n            errorHandler(() => {commentingOnGroup(title, group)}, error, () => {\r\n                setLoading(false)\r\n            })\r\n        })\r\n}\r\n\r\nconst setNotes = (id, text) => (\r\n    axios({\r\n        method: 'post',\r\n        url: `${Url}/CRM/Pupils/${id}/Notes`,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        },\r\n        data: {\r\n            text\r\n        }\r\n    })\r\n        .catch(error => {\r\n            errorHandler(() => setNotes(id, text), error, false)\r\n        })\r\n)\r\n\r\nconst change_global_schedule = (group_id, new_schedule) => (\r\n    axios({\r\n        method: 'post',\r\n        url: `${Url}/CRM/Groups/${group_id}/Schedule`,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        },\r\n        data: new_schedule\r\n    })\r\n)\r\n\r\nconst getTrialLessons = (setLoading, install_trial_lessons) => {\r\n    setLoading(true)\r\n    axios({\r\n        method: 'post',\r\n        url: `${Url}/CRM/Groups/find?limit=100&offset=${0}&trial=true`,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        }\r\n    })\r\n        .then(res => {\r\n            install_trial_lessons(res.data)\r\n            setLoading(false)\r\n        })\r\n        .catch(error => {\r\n            errorHandler(() => getTrialLessons(install_trial_lessons), error, () => setLoading(false))\r\n        })\r\n}\r\n\r\nconst deleteGroups = (id, delete_trial_lessons, setLoading, free_day_for_teacher) => {\r\n    setLoading(true)\r\n    axios({\r\n        method: \"DELETE\",\r\n        url: `${Url}/CRM/Groups/${id}`,\r\n        headers: {\r\n            \"Content-Type\": \"application/json;charset=utf-8\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n        },\r\n    })\r\n        .then(() => {\r\n            delete_trial_lessons(id)\r\n            free_day_for_teacher()\r\n        })\r\n        .catch(error => {\r\n            errorHandler(() => deleteGroups(id, delete_trial_lessons, setLoading), error, () => setLoading(false))\r\n        })\r\n}\r\n\r\nconst setLessonPassed = (checked, group_id, schedule, group, change_trial_lessons) => {\r\n    let new_schedule = [{\r\n        ...schedule[0],\r\n        status: checked ? 2 : 3,\r\n        title: group.pupils[0].localSchedule[group_id][0].title\r\n    }]\r\n    change_trial_lessons({\r\n        ...group,\r\n        global_schedule: new_schedule\r\n    })\r\n    change_global_schedule(group_id, new_schedule)\r\n        .catch(error => {\r\n            errorHandler(() => setLessonPassed(checked, group_id, schedule), error, () => {\r\n                change_trial_lessons(group)\r\n            })\r\n        })\r\n}\r\n\r\nexport {\r\n    getTrialLessons,\r\n    setLessonPassed,\r\n    deleteGroups,\r\n    change_global_schedule,\r\n    commentingOnGroup,\r\n    setNotes\r\n}","import React, {useState} from \"react\";\r\nimport {Button} from \"antd\";\r\nimport {connect} from \"react-redux\";\r\nimport {free_day_for_teacher} from \"../../../actions\";\r\n\r\nconst TrialLessonScheduleButton_delete = ({setFnc, free_day_for_teacher}) => {\r\n    const [loading, setLoading] = useState(false)\r\n    return (\r\n        <Button\r\n            danger\r\n            loading={loading}\r\n            onClick={() => setFnc(setLoading, free_day_for_teacher)}\r\n        >\r\n            Удалить\r\n        </Button>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    free_day_for_teacher\r\n}\r\n\r\nexport default connect(() => ({}), mapDispatchToProps)(TrialLessonScheduleButton_delete)","const when_choosing_subject = subject => ({\n    type: 'WHEN_CHOOSING_SUBJECT',\n    payload: subject\n})\nconst install_trial_lessons = lessons => ({ // #\n    type: 'INSTALL_TRIAL_LESSONS',\n    payload: lessons\n})\nconst add_trial_lessons = new_lesson => ({ // # Добавить пробный урок\n    type: 'ADD_TRIAL_LESSONS',\n    payload: new_lesson\n})\nconst delete_trial_lessons = _id => ({ // # Удалить пробный урок\n    type: 'DELETE_TRIAL_LESSONS',\n    payload: _id\n})\nconst free_day_for_teacher = (time, day, tutor) => ({\n    type: 'FREE_DAY_FOR_TEACHER',\n    payload: {time, day, tutor}\n})\nconst change_trial_lessons = lesson => ({\n    type: 'CHANGE_TRIAL_LESSONS',\n    payload: lesson\n})\nconst identify_possible_teachers = tutors => ({ // # определить возможных учителей\n    type: 'IDENTIFY_POSSIBLE_TEACHERS',\n    payload: tutors\n})\nconst specify_loading = (status) => ({\n    type: 'SPECIFY_LOADING',\n    payload: status\n})\nconst add_pupil_to_trial_lesson = pupil => ({\n    type: 'ADD_PUPIL_TO_TRIAL_LESSON',\n    payload: pupil\n})\nconst delete_pupil_to_trial_lesson = id => ({\n    type: 'DELETE_PUPIL_TO_TRIAL_LESSON',\n    payload: id\n})\nconst set_subject_teachers = tutors => ({\n    type: 'SET_SUBJECT_TEACHERS',\n    payload: tutors\n})\nconst set_local_week = new_week => ({\n    type: 'SET_LOCAL_WEEK',\n    payload: new_week\n})\nconst set_chosen_teacher = tutor => ({\n    type: 'SET_CHOSEN_TEACHER',\n    payload: tutor\n})\nconst set_trial_lesson_day = date => ({\n    type: 'SET_TRIAL_LESSON_DAY',\n    payload: date\n})\n\nexport {\n    when_choosing_subject,\n    install_trial_lessons,\n    identify_possible_teachers,\n    specify_loading,\n    add_pupil_to_trial_lesson,\n    delete_pupil_to_trial_lesson,\n    set_subject_teachers,\n    set_local_week,\n    set_chosen_teacher,\n    set_trial_lesson_day,\n    add_trial_lessons,\n    delete_trial_lessons,\n    change_trial_lessons,\n    free_day_for_teacher\n}","import React, {useState} from \"react\";\r\nimport {Button, Input} from \"antd\";\r\nimport {commentingOnGroup, setNotes} from \"./trial-lesson-schedule.logics\";\r\n\r\nconst TrialLessonScheduleComments = ({data, change_trial_lessons}) => {\r\n    const [value, setValue] = useState(data.pupils[0].localSchedule[data._id][0].title)\r\n    const [loading, setLoading] = useState(false)\r\n    return (\r\n        <div className={'trial-lesson-schedule-comments'}>\r\n            <Input.TextArea\r\n                value={value}\r\n                onChange={(e) => setValue(e.target.value)}\r\n            />\r\n            <Button\r\n                loading={loading}\r\n                onClick={() => {\r\n                    commentingOnGroup(value, data, change_trial_lessons, setNotes, setLoading)\r\n                }}\r\n            >\r\n                Сохранить\r\n            </Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TrialLessonScheduleComments","import React, {useEffect, useState} from \"react\";\r\nimport {Checkbox, List, Table, Skeleton, Space} from \"antd\";\r\nimport {connect} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {change_trial_lessons, delete_trial_lessons, install_trial_lessons} from \"../../../actions\";\r\nimport {getTrialLessons, setLessonPassed, deleteGroups} from \"./trial-lesson-schedule.logics\";\r\nimport TrialLessonScheduleDelete from \"./trial-lesson-schedule-button_delete\";\r\nimport moment from \"moment\";\r\nimport TrialLessonScheduleComments from \"./trial-lesson-schedule-comments\";\r\n\r\nconst TrialLessonSchedule = ({trial_lessons, change_trial_lessons, install_trial_lessons, delete_trial_lessons, selected_subject}) => {\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    useEffect(() => {\r\n        getTrialLessons(setLoading, install_trial_lessons)\r\n    }, [])\r\n\r\n    const dataSource = trial_lessons.map(group => {\r\n        const start = group.global_schedule[0].duration[0].substr(0, 2)\r\n        let day = moment(group.global_schedule[0].date, 'DD.MM.YYYY').locale('en').format('dddd').substr(0, 2)\r\n\r\n        return {\r\n            ...group,\r\n            group,\r\n            key: group._id,\r\n            delete_group: {\r\n                tutor: group.tutor,\r\n                hour: `hour${start[0] === '0' ? start[1] : start}`,\r\n                day\r\n            },\r\n            group_name: {\r\n                name: group.group_name,\r\n                id: group._id\r\n            },\r\n            comment: {\r\n                pupils: group.pupils,\r\n                group_id: group._id\r\n            }\r\n        }\r\n    })\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Урок пройден',\r\n            dataIndex: 'group',\r\n            key: 'group',\r\n            render: (group) => {\r\n                let checked = group.global_schedule[0].status === 2\r\n                return (\r\n                    <Checkbox\r\n                        loading={true}\r\n                        checked={checked}\r\n                        onChange={e => {\r\n                            setLessonPassed(e.target.checked, group._id, group.global_schedule, group, change_trial_lessons)\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title: 'Название',\r\n            dataIndex: 'group_name',\r\n            key: 'group_name',\r\n            render: group_name => (\r\n                <Link to={`/group/${group_name.id}`}>\r\n                    {group_name.name}\r\n                </Link>\r\n            )\r\n        },\r\n        {\r\n            title: 'Ученики',\r\n            dataIndex: 'pupils',\r\n            key: 'pupils',\r\n            render: (pupils) => (\r\n                <List size={'small'}>\r\n                    {\r\n                        pupils.map(pupil => {\r\n                            const {surname, name, midname, _id} = pupil\r\n                            return (\r\n                                <List.Item key={_id}>\r\n                                    <Link to={`/student/${_id}`}>\r\n                                        {`${surname} ${name} ${midname}`}\r\n                                    </Link>\r\n                                </List.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                </List>\r\n            )\r\n        },\r\n        {\r\n            title: 'Учитель',\r\n            dataIndex: 'tutor',\r\n            key: 'tutor',\r\n            render: (tutor) => {\r\n                const {surname, name, midname} = tutor\r\n                return `${surname} ${name} ${midname}`\r\n            }\r\n        },\r\n        {\r\n            title: 'Дата урока',\r\n            dataIndex: 'global_schedule',\r\n            key: 'global_schedule',\r\n            render: (global_schedule) => {\r\n                const {date, duration} = global_schedule[0]\r\n                return `${date}г., с ${duration[0]} до ${duration[1]}`\r\n            }\r\n        },\r\n        {\r\n            title: 'Комментарии',\r\n            dataIndex: 'group',\r\n            key: 'comment',\r\n            render: (group) => (\r\n                <TrialLessonScheduleComments data={group} change_trial_lessons={change_trial_lessons}/>\r\n            )\r\n        },\r\n        {\r\n            title: 'Удаление групп',\r\n            dataIndex: 'delete_group',\r\n            key: 'delete_group',\r\n            render: delete_group => (\r\n                <TrialLessonScheduleDelete setFnc={(setLoading, free_day_for_teacher) => {\r\n                    deleteGroups(delete_group.tutor._id, delete_trial_lessons, setLoading, () => {\r\n                        if (selected_subject === delete_group.tutor.subject) {\r\n                            free_day_for_teacher(delete_group.hour, delete_group.day, delete_group.tutor)\r\n                        }\r\n                    })\r\n                }}/>\r\n            )\r\n        }\r\n    ];\r\n\r\n    const skeleton = (\r\n        <Space className={'trial-lesson-schedule-skeleton'}>\r\n            <Skeleton.Button key={'0'} active={true} size={'large'} block={true}/>\r\n            <Skeleton.Button key={'1'} active={true} size={'large'} block={true}/>\r\n            <Skeleton.Button key={'2'} active={true} size={'large'} block={true}/>\r\n            <Skeleton.Button key={'3'} active={true} size={'large'} block={true}/>\r\n        </Space>\r\n    )\r\n    const table = (\r\n        <Table\r\n            className={'trial-lesson-schedule'}\r\n            dataSource={dataSource}\r\n            columns={columns}\r\n        />\r\n    )\r\n\r\n    return (\r\n        <>\r\n            {loading ? skeleton : table}\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    trial_lessons: state.trial_lessons,\r\n    selected_subject: state.selected_subject\r\n})\r\nconst mapDispatchToProps = {\r\n    change_trial_lessons,\r\n    install_trial_lessons,\r\n    delete_trial_lessons\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TrialLessonSchedule)","import styled from \"@emotion/styled\";\r\n\r\nconst CreateTrialLessonStyle = styled.div`\r\n  margin-bottom: 16px;\r\n\r\n  .select {\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  .week-and-pupils {\r\n    display: flex;\r\n  }\r\n\r\n  .selection-students {\r\n    margin-left: 8px;\r\n    flex: 1;\r\n  }\r\n\r\n  table {\r\n    margin-right: 8px;\r\n  }\r\n\r\n  .none-table {\r\n    opacity: 0.2;\r\n  }\r\n\r\n  .chosen_teacher {\r\n    margin-top: 16px;\r\n    td {\r\n      background: #002140;\r\n      color: #fff;\r\n    }\r\n  }\r\n`\r\n\r\nconst Table = styled.table`\r\n  user-select: none;\r\n  width: 70%;\r\n\r\n  tr {\r\n    border-bottom: 1px solid #002140;\r\n  }\r\n\r\n  .week {\r\n    td {\r\n      text-align: left;\r\n      background: #001529;\r\n      color: #fff;\r\n      border-right: 1px solid #002140;\r\n    }\r\n\r\n    .white {\r\n      background: #f0f2f5;\r\n    }\r\n  }\r\n\r\n  .time {\r\n    background: #001529;\r\n    color: #fff;\r\n  }\r\n\r\n  td {\r\n    padding: 10px;\r\n    width: 12.5%;\r\n    height: 50px;\r\n    text-align: right;\r\n  }\r\n\r\n  .td {\r\n    padding: 0;\r\n    border-right: 1px solid #002140;\r\n\r\n    .ant-list-item {\r\n      padding: 0 7px;\r\n      display: flex;\r\n    }\r\n\r\n    .item-span {\r\n      width: 6px;\r\n      height: 6px;\r\n      background: #52c41a;\r\n      border-radius: 50%;\r\n      margin-right: 2px;\r\n    }\r\n  }\r\n`\r\n\r\nexport {\r\n    CreateTrialLessonStyle,\r\n    Table\r\n}","import React from \"react\";\r\nimport {Swalclose, Toast} from \"../../../alert/alert\";\r\nimport {\r\n    specify_loading,\r\n    when_choosing_subject,\r\n    set_subject_teachers,\r\n    set_local_week,\r\n    set_chosen_teacher,\r\n    set_trial_lesson_day\r\n} from \"../../../actions\";\r\nimport {List, Select} from \"antd\";\r\nimport axios from \"axios\";\r\nimport errorHandler from \"../../error-handler/error-handler\";\r\nimport Url from \"../../../url/url\";\r\nimport {getGroup_Id} from \"../../home-page/group/group-page/group-page\";\r\nimport moment from \"moment\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n    subjects: state.all_disciplines,\r\n    selected_subject: state.selected_subject,\r\n    loading: state.loading,\r\n    subject_teachers: state.subject_teachers,\r\n    week: state.local_week,\r\n    chosen_teacher: state.chosen_teacher\r\n})\r\nconst mapDispathToProps = {\r\n    when_choosing_subject,\r\n    specify_loading,\r\n    set_subject_teachers,\r\n    set_local_week,\r\n    set_chosen_teacher,\r\n    set_trial_lesson_day\r\n}\r\n\r\nlet week_initial = {\r\n    hour8: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour9: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour10: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour11: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour12: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour13: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour14: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour15: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour16: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour17: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour18: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour19: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour20: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n    hour21: {\r\n        Mo: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Tu: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        We: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Th: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Fr: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Sa: {\r\n            free: true,\r\n            tutors: []\r\n        },\r\n        Su: {\r\n            free: true,\r\n            tutors: []\r\n        }\r\n    },\r\n}\r\n\r\nlet initial_work_time = {\r\n    hour8: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour9: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour10: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour11: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour12: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour13: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour14: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour15: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour16: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour17: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour18: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour19: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour20: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n    hour21: {\r\n        Mo: false,\r\n        Tu: false,\r\n        We: false,\r\n        Th: false,\r\n        Fr: false,\r\n        Sa: false,\r\n        Su: false\r\n    },\r\n}\r\n\r\nconst planning_week = async (tutors, setWeek, setLoading) => {\r\n\r\n    let localWeek = JSON.parse(JSON.stringify(week_initial)),\r\n        groupNumber = 0,\r\n        numberOfGroups = 0\r\n\r\n    if (tutors.length === 0) {\r\n        setWeek(localWeek)\r\n        setLoading(false)\r\n    }\r\n\r\n    tutors.forEach((tutor) => {\r\n        const {groups} = tutor\r\n\r\n        let group_schedule = [], // Расписание групп учителя.\r\n            Start = '', // Время\r\n            End = '',\r\n            difference = '',\r\n            work_time = tutor.workHours ? tutor.workHours : JSON.parse(JSON.stringify(initial_work_time))  // JSON.parse(JSON.stringify(week_initial)) // tutor.workHours ? tutor.workHours : undefined\r\n\r\n        if (groups.length === 0) {\r\n            groupNumber += 1\r\n            getDaysOfWeek([], -1)\r\n        }\r\n\r\n        const addNumderGroup = () => {\r\n            groupNumber += 1\r\n        }\r\n\r\n        groups.forEach((group_id, i) => {\r\n            numberOfGroups += 1\r\n            getGroup_Id(\r\n                data => {\r\n                    group_schedule = data.global_schedule.filter((day, i) => i < 7)\r\n                    const {duration} = data.global_schedule[0]\r\n                    const start = duration[0].substr(0, 2),\r\n                        end = duration[1].substr(0, 2)\r\n                    Start = start[0] === '0' ? start[1] : start\r\n                    End = end[0] === '0' ? end[1] : end\r\n                    difference = +End - +Start\r\n                    addNumderGroup()\r\n                    getDaysOfWeek(group_schedule, i)\r\n                },\r\n                group_id,\r\n                () => {\r\n                    addNumderGroup()\r\n                    getDaysOfWeek([], -1)\r\n                },\r\n                false\r\n            )\r\n        })\r\n\r\n        function getDaysOfWeek(group_schedule) {\r\n\r\n            let DaysOfWeek = [['понедельник', 'Mo'], ['вторник', 'Tu'], ['среда', 'We'], ['четверг', 'Th'], ['пятница', 'Fr'], ['суббота', 'Sa'], ['воскресенье', 'Su']],\r\n                trash = []\r\n\r\n            group_schedule.forEach(day => {\r\n                trash.push(moment(day.date, 'DD.MM.YYYY').format('dddd'))\r\n            })\r\n\r\n            trash.forEach(t => {\r\n                DaysOfWeek.forEach(day => {\r\n\r\n                    if (t === day[0]) {\r\n                        if (difference === 0) {\r\n                            work_time[`hour${Start}`][day[1]] = false\r\n                            // localWeek[`hour${Start}`][day[1]].tutors.push(tutor)\r\n                        } else {\r\n                            for (let i = 0; i < difference; ++i) {\r\n                                work_time[`hour${+Start + i}`][day[1]] = false\r\n                                // localWeek[`hour${+Start + i}`][day[1]].tutors.push(tutor)\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n\r\n            DaysOfWeek.forEach(day => {\r\n                ['8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21'].forEach(time => {\r\n                    let permitted = work_time[`hour${time}`][day[1]]\r\n                    if (permitted === true) {\r\n                        localWeek[`hour${time}`][day[1]].tutors.push(tutor)\r\n                        let box = [...localWeek[`hour${time}`][day[1]].tutors]\r\n                        localWeek[`hour${time}`][day[1]].tutors = box.reduce(\r\n                            (unique, box) =>\r\n                                unique.indexOf(box) !== -1 ? unique : [...unique, box],\r\n                            []\r\n                        );\r\n                    } else {\r\n                        localWeek[`hour${time}`][day[1]].tutors = localWeek[`hour${time}`][day[1]].tutors.filter(tut => tut._id !== tutor._id)\r\n                    }\r\n                })\r\n            })\r\n            if (groupNumber >= numberOfGroups) {\r\n                setWeek(localWeek)\r\n                setLoading(false)\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nconst get_subject_teachers = (setVariable, selected_subject, specify_loading, week, set) => {\r\n    if (selected_subject) {\r\n        specify_loading(true)\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: `${Url}/CRM/Teachers?limit=100&offset=${0}&subject=${selected_subject}`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                let {data} = res\r\n                setVariable(data)\r\n                set(data)\r\n            })\r\n            .catch(error => errorHandler(\r\n                () => get_subject_teachers(setVariable, selected_subject, specify_loading),\r\n                error,\r\n                () => specify_loading(false)\r\n            ))\r\n    } else {\r\n        specify_loading(false)\r\n    }\r\n}\r\n\r\nconst next_day = (day_name) => {\r\n    let nextDay = null\r\n    switch (day_name) {\r\n        case 'Mo':\r\n            nextDay = 1\r\n            break\r\n        case 'Tu':\r\n            nextDay = 2\r\n            break\r\n        case 'We':\r\n            nextDay = 3\r\n            break\r\n        case 'Th':\r\n            nextDay = 4\r\n            break\r\n        case 'Fr':\r\n            nextDay = 5\r\n            break\r\n        case 'Sa':\r\n            nextDay = 6\r\n            break\r\n        case 'Su':\r\n            nextDay = 0\r\n            break\r\n    }\r\n    let current = moment();\r\n    let currentDay = current.day();\r\n    if (nextDay < currentDay)\r\n        nextDay += 7;\r\n    return current.day(nextDay).format('DD.MM.YYYY')\r\n}\r\n\r\nconst scheduling = (Time, obj, title, name, set_chosen_teacher, chosen_teacher, set_trial_lesson_day) => {\r\n\r\n    let time = name\r\n\r\n    for (let index in obj) {\r\n        Time.push(\r\n            <td className={'td'}\r\n                key={`${index}${obj}`}\r\n                style={{background: obj[index].tutors[0] ? '#fff' : 'rgb(166 173 180)'}}\r\n            >\r\n                <List\r\n                    className={obj[index].tutors[0] ? '' : 'displayNone'}\r\n                    size={`small`}>\r\n                    {obj[index].tutors.map(tutor => {\r\n                        const {surname, name, midname, _id} = tutor\r\n\r\n                        let nextDay = next_day(index)\r\n\r\n                        return (\r\n                            <List.Item\r\n                                key={_id}\r\n                                onClick={() => {\r\n                                    set_chosen_teacher({tutor, time, index})\r\n                                    set_trial_lesson_day(nextDay)\r\n                                }}\r\n                                style={{\r\n                                    background: (chosen_teacher.tutor._id === _id && chosen_teacher.time === time && chosen_teacher.index === index) ? 'aquamarine' : '#fff'\r\n                                }}\r\n                            >\r\n                                <div className={'item-span'}/>\r\n                                {`${name[0]}.${midname[0]}.${surname}`}\r\n                            </List.Item>\r\n                        )\r\n                    })}\r\n                </List>\r\n            </td>\r\n        )\r\n    }\r\n    return (\r\n        <tr>\r\n            <td className={'time'}>{name}</td>\r\n            {Time}\r\n        </tr>\r\n    )\r\n}\r\n\r\nconst info_window = (selected_subject) => {\r\n    if (!selected_subject) {\r\n        Toast.fire({\r\n            icon: 'info',\r\n            title: 'Чтобы создать пробный урок, выберете дисциплину для изучения!',\r\n            text: '(Нажми, что бы скрыть уведомление)',\r\n            timer: null,\r\n            position: 'top'\r\n        });\r\n    } else {\r\n        Swalclose()\r\n    }\r\n}\r\n\r\nconst {Option} = Select\r\nconst funOptionSubjects = (subjects) => {\r\n    return subjects.map(subject => (\r\n        <Option key={subject} value={subject}>{subject}</Option>\r\n    ))\r\n}\r\n\r\nexport {\r\n    week_initial,\r\n    get_subject_teachers,\r\n    scheduling,\r\n    info_window,\r\n    mapStateToProps,\r\n    mapDispathToProps,\r\n    funOptionSubjects,\r\n    planning_week\r\n}","import styled from \"@emotion/styled\";\r\n\r\nconst SelectionStudentsStyle = styled.div`\r\n  background: #fff;\r\n\r\n  .find-students-for-trial-lesson {\r\n    background: #fff;\r\n\r\n    .Button {\r\n      width: 100%;\r\n      color: #000;\r\n      text-transform: none;\r\n    }\r\n\r\n    .MuiListItem-root {\r\n      border-bottom: 1px solid #f0f0f0;\r\n    }\r\n  }\r\n\r\n  .list-students-for-trial-lesson {\r\n    margin-top: 16px;\r\n    background: #fff;\r\n    border-top: 1px solid rgb(82, 196, 26);\r\n\r\n    .item {\r\n      padding: 8px 16px;\r\n      display: flex;\r\n      width: 100%;\r\n      justify-content: space-between;\r\n\r\n      .delete {\r\n        width: 14px;\r\n      }\r\n\r\n      .title {\r\n        padding: 0 10px;\r\n        word-wrap: break-word;\r\n        width: 100%\r\n      }\r\n\r\n      & > div {\r\n        margin: auto 0;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport {\r\n    SelectionStudentsStyle\r\n}","import {add_pupil_to_trial_lesson} from \"../../../../actions\";\r\n\r\nconst mapStateToProps = state => ({\r\n    students_for_trial_lesson: state.students_for_trial_lesson\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    add_pupil_to_trial_lesson\r\n}\r\n\r\nconst addPupil = (pupil, setValue = () => {}, pupils, add_pupil_to_trial_lesson) => {\r\n    let permitted = true\r\n    pupils.forEach(item => {\r\n        if (item.id === pupil.id) {\r\n            permitted = false\r\n        }\r\n    })\r\n    if (permitted) {\r\n        add_pupil_to_trial_lesson(pupil)\r\n        setValue()\r\n    }\r\n}\r\n\r\nexport {\r\n    addPupil,\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n}","import React, {useState} from \"react\";\r\nimport {Input, List} from \"antd\";\r\nimport {serverRequest} from \"../../../search/server-request\";\r\nimport {Button, ListItem, ListItemButton, ListItemText} from \"@mui/material\";\r\nimport {connect} from \"react-redux\";\r\nimport {addPupil, mapDispatchToProps, mapStateToProps} from \"./find-students-for-trial-lesson.logics\";\r\n\r\nconst FindStudentsForTrialLesson = ({students_for_trial_lesson, add_pupil_to_trial_lesson}) => {\r\n\r\n    const [allPupils, setAllPupils] = useState([])\r\n    const [value, setValue] = useState('')\r\n\r\n    return (\r\n        <div className={'find-students-for-trial-lesson'}>\r\n            <div>\r\n                <Input\r\n                    value={value}\r\n                    onChange={e => {\r\n                        if (e.target.value) {\r\n                            serverRequest(\r\n                                data => {\r\n                                    const pupils = data.map(item => {\r\n                                        const {_index, _source} = item\r\n                                        if (_index === 'pupils') {\r\n                                            return _source\r\n                                        }\r\n                                    })\r\n                                    setAllPupils(pupils.filter(item => item))\r\n                                },\r\n                                encodeURI(e.target.value)\r\n                            )\r\n                        }\r\n                        setValue(e.target.value)\r\n                    }}\r\n                    placeholder=\"Подбери учеников для урока\"\r\n                />\r\n            </div>\r\n            <List\r\n                size=\"large\"\r\n                bordered\r\n                dataSource={allPupils}\r\n                renderItem={pupil => {\r\n                    const {name, surname, midname, id} = pupil\r\n                    let textDecoration = ''\r\n                    students_for_trial_lesson.forEach(item => {\r\n                        if (item.id === id) {\r\n                            textDecoration = 'line-through'\r\n                        }\r\n                    })\r\n                    return (\r\n                        <ListItem\r\n                            key={id}\r\n                            disablePadding\r\n                        >\r\n                            <Button className={'Button'} disabled={!!textDecoration}>\r\n                                <ListItemButton onClick={() => {\r\n                                    addPupil(pupil, () => setValue(''), students_for_trial_lesson, add_pupil_to_trial_lesson)\r\n                                }} dense>\r\n                                    <ListItemText style={{textDecoration}} id={id} primary={[surname, name, midname].join(' ')}/>\r\n                                </ListItemButton>\r\n                            </Button>\r\n                        </ListItem>\r\n                    )\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FindStudentsForTrialLesson)","import {delete_pupil_to_trial_lesson} from \"../../../../actions\";\r\n\r\nconst mapStateToProps = state => ({\r\n    students_for_trial_lesson: state.students_for_trial_lesson\r\n})\r\nconst mapDispathToProps = {\r\n    delete_pupil_to_trial_lesson\r\n}\r\n\r\nexport {\r\n    mapStateToProps,\r\n    mapDispathToProps\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {List} from \"antd\";\r\nimport {DeleteOutlined} from \"@ant-design/icons\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {mapStateToProps, mapDispathToProps} from \"./list-students-for-trial-lesson.logics\";\r\n\r\nconst ListStudentsForTrialLesson = ({students_for_trial_lesson, delete_pupil_to_trial_lesson}) => {\r\n    return (\r\n        <div className={'list-students-for-trial-lesson'}>\r\n            <List\r\n                size=\"large\"\r\n                bordered\r\n                dataSource={students_for_trial_lesson}\r\n                renderItem={item => {\r\n                    const {surname, name, midname, id} = item\r\n                    return (\r\n                        <List.Item\r\n                            style={{\r\n                                padding: 0\r\n                            }}\r\n                        >\r\n                            <div className={'item'}>\r\n                                <div className={'title'}>\r\n                                    <Link to={`/student/${id}`}>\r\n                                        {[surname, name, midname].join(' ')}\r\n                                    </Link>\r\n                                </div>\r\n                                <div className={'delete'}>\r\n                                    <DeleteOutlined\r\n                                        onClick={() => delete_pupil_to_trial_lesson(id)}\r\n                                        style={{color: 'red'}}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </List.Item>\r\n                    )\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(ListStudentsForTrialLesson)","import React from \"react\";\r\nimport {SelectionStudentsStyle} from \"./selection-students.style\";\r\nimport FindStudentsForTrialLesson from \"./find-students-for-trial-lesson/find-students-for-trial-lesson\";\r\nimport ListStudentsForTrialLesson from \"./list-students-for-trial-lesson/list-students-for-trial-lesson\";\r\n\r\nconst SelectionStudents = () => {\r\n    return (\r\n        <SelectionStudentsStyle>\r\n            <FindStudentsForTrialLesson/>\r\n            <ListStudentsForTrialLesson/>\r\n        </SelectionStudentsStyle>\r\n    )\r\n}\r\n\r\nexport default SelectionStudents","import React from \"react\";\r\nimport {Descriptions} from \"antd\";\r\nimport {connect} from \"react-redux\";\r\nimport moment from \"moment\";\r\n\r\nconst LeadTeacher = ({date, tutor}) => {\r\n\r\n    const {surname, name, midname} = tutor.tutor\r\n\r\n    return (\r\n        <div className={'chosen_teacher'}>\r\n            <Descriptions\r\n                bordered\r\n                size={'small'}\r\n                column={1}\r\n            >\r\n                <Descriptions.Item label=\"Учитель\">\r\n                    {`${surname} ${name} ${midname}`}\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Дата урока\">\r\n                    {`${moment(date, 'DD.MM.YYYY').format('DD - MMMM - YYYY')}`}\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Начало урока\">\r\n                    {`${tutor.time ? 'в' : ''} ${tutor.time}`}\r\n                </Descriptions.Item>\r\n            </Descriptions>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    date: state.trial_lesson_day,\r\n    tutor: state.chosen_teacher\r\n})\r\n\r\nexport default connect(mapStateToProps)(LeadTeacher)","import React, {useState} from \"react\";\r\nimport {Button} from \"antd\";\r\nimport {connect} from \"react-redux\";\r\nimport moment from 'moment'\r\nimport axios from \"axios\";\r\nimport Url from \"../../../url/url\";\r\nimport errorHandler from \"../../error-handler/error-handler\";\r\nimport {add_trial_lessons} from \"../../../actions\";\r\nimport {swallGood} from \"../../../alert/alert\";\r\n\r\nconst ButtonCreateTrialLesson = ({pupils_id, date, tutor, StartTime, EndTime, subject, add_trial_lessons, updateTeachers}) => {\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const CreateTrialLesson = () => {\r\n        if (date && tutor._id && pupils_id.length && subject) {\r\n            setLoading(true)\r\n\r\n            axios({\r\n                method: \"POST\",\r\n                url: `${Url}/CRM/Groups`,\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8',\r\n                    Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n                },\r\n                data: {\r\n                    group_name: `Пробный урок: ${subject}`,\r\n                    tutor: tutor._id,\r\n                    level: 1,\r\n                    places: pupils_id.length,\r\n                    pupils: pupils_id,\r\n                    trial: true,\r\n                    global_schedule: [{duration: [StartTime, EndTime], status: 3, date, paid: false}]\r\n                }\r\n            })\r\n                .then(res => {\r\n                    setLoading(false)\r\n                    add_trial_lessons(res.data)\r\n                    swallGood('Пробный урок успешно создан!')\r\n                    updateTeachers()\r\n                })\r\n                .catch(error => {\r\n                    errorHandler(CreateTrialLesson, error, () => setLoading(false))\r\n                })\r\n            // setTimeout(() => {\r\n            //     add_trial_lessons({\r\n            //         group_name: `Пробный урок: ${subject}`,\r\n            //         tutor: tutor._id,\r\n            //         level: 1,\r\n            //         places: pupils_id.length,\r\n            //         pupils: pupils_id,\r\n            //         trial: true,\r\n            //         global_schedule: [{duration: [StartTime, EndTime], status: null, date, paid: false}]\r\n            //     })\r\n            //     setLoading(false)\r\n            //     swallGood('Пробный урок успешно создан!')\r\n            //     updateTeachers()\r\n            // }, 1500)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Button\r\n            style={{\r\n                marginTop: '16px'\r\n            }}\r\n            type={'primary'}\r\n            loading={loading}\r\n            onClick={CreateTrialLesson}\r\n        >\r\n            Создать урок\r\n        </Button>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    tutor: state.chosen_teacher.tutor,\r\n    StartTime: state.chosen_teacher.time,\r\n    EndTime: `${moment(state.chosen_teacher.time, 'HH').add(1, 'h').format(\"HH\")}:00`,\r\n    date: state.trial_lesson_day,\r\n    pupils_id: state.students_for_trial_lesson.map(pupil => pupil.id),\r\n    subject: state.selected_subject\r\n})\r\nconst mapDispatchToProps = {\r\n    add_trial_lessons\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonCreateTrialLesson)","import React, {useEffect} from \"react\";\r\nimport {Badge, Select, Skeleton} from \"antd\";\r\nimport {connect} from \"react-redux\";\r\nimport {CreateTrialLessonStyle, Table} from \"./create-trial-lesson.style\";\r\nimport {\r\n    get_subject_teachers,\r\n    scheduling,\r\n    info_window,\r\n    mapStateToProps,\r\n    mapDispathToProps,\r\n    funOptionSubjects,\r\n    planning_week\r\n} from \"./create-trial-lesson.logics\";\r\nimport SelectionStudents from \"../selection-students/selection-students\";\r\nimport {Swalclose} from \"../../../alert/alert\";\r\nimport LeadTeacher from \"../lead_teacher/lead_teacher\";\r\nimport ButtonCreateTrialLesson from \"../button_create_trial_lesson/button_create_trial_lesson\";\r\n\r\n\r\nconst CreateTrialLesson = (\r\n    {\r\n        subjects,\r\n        when_choosing_subject,\r\n        selected_subject,\r\n        specify_loading,\r\n        loading,\r\n        set_subject_teachers,\r\n        week,\r\n        set_local_week,\r\n        set_chosen_teacher,\r\n        chosen_teacher,\r\n        set_trial_lesson_day\r\n    }\r\n) => {\r\n\r\n    const {\r\n        hour8,\r\n        hour9,\r\n        hour10,\r\n        hour11,\r\n        hour12,\r\n        hour13,\r\n        hour14,\r\n        hour15,\r\n        hour16,\r\n        hour17,\r\n        hour18,\r\n        hour19,\r\n        hour20,\r\n        hour21\r\n    } = week\r\n\r\n    let Time8 = [],\r\n        Time9 = [],\r\n        Time10 = [],\r\n        Time11 = [],\r\n        Time12 = [],\r\n        Time13 = [],\r\n        Time14 = [],\r\n        Time15 = [],\r\n        Time16 = [],\r\n        Time17 = [],\r\n        Time18 = [],\r\n        Time19 = [],\r\n        Time20 = [],\r\n        Time21 = []\r\n\r\n    useEffect(() => {\r\n        info_window(selected_subject)\r\n\r\n        return function () {\r\n            Swalclose()\r\n        }\r\n\r\n    }, [selected_subject])\r\n\r\n\r\n    const settingsTable = (\r\n        <Table>\r\n            <tbody>\r\n            <tr className={'week'}>\r\n                <td className={'white'}/>\r\n                {['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'].map(day => <td key={day}>{day}</td>)}\r\n            </tr>\r\n            {scheduling(Time8, hour8, 'hour8', '08:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time9, hour9, 'hour9', '09:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time10, hour10, 'hour10', '10:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time11, hour11, 'hour11', '11:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time12, hour12, 'hour12', '12:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time13, hour13, 'hour13', '13:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time14, hour14, 'hour14', '14:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time15, hour15, 'hour15', '15:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time16, hour16, 'hour16', '16:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time17, hour17, 'hour17', '17:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time18, hour18, 'hour18', '18:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time19, hour19, 'hour19', '19:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time20, hour20, 'hour20', '20:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            {scheduling(Time21, hour21, 'hour21', '21:00', set_chosen_teacher, chosen_teacher, set_trial_lesson_day)}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n    const skeleton = (\r\n        <>\r\n            <br/>\r\n            {[1, 2, 3, 4, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19].map(key => (\r\n                <Skeleton.Button\r\n                    style={{\r\n                        marginRight: '8px',\r\n                        marginBottom: '8px',\r\n                        width: '50px',\r\n                        height: '675px'\r\n                    }}\r\n                    key={key}\r\n                    active\r\n                />\r\n            ))}\r\n        </>\r\n    )\r\n\r\n    return (\r\n        <CreateTrialLessonStyle>\r\n            <Select\r\n                defaultValue={selected_subject}\r\n                placeholder=\"Что хочет изучить клиент?\"\r\n                allowClear\r\n                className={'select'}\r\n                onChange={value => {\r\n                    when_choosing_subject(value)\r\n                    get_subject_teachers(\r\n                        set_subject_teachers,\r\n                        value,\r\n                        specify_loading,\r\n                        week,\r\n                        (subject_teachers) => {planning_week(subject_teachers, set_local_week, specify_loading)}\r\n                    )\r\n                    set_chosen_teacher({tutor: {_id: '', surname: '', name: '', midname: ''}, time: '', index: ''})\r\n                    set_trial_lesson_day('')\r\n                }}\r\n            >\r\n                {funOptionSubjects(subjects)}\r\n            </Select>\r\n            <div className={`week-and-pupils ${selected_subject ? '' : 'none-table'}`}>\r\n                {loading ? skeleton : settingsTable}\r\n                <div className=\"selection-students\">\r\n                    <SelectionStudents/>\r\n                    <LeadTeacher/>\r\n                    <ButtonCreateTrialLesson updateTeachers={() => {\r\n                        get_subject_teachers(\r\n                            set_subject_teachers,\r\n                            selected_subject,\r\n                            specify_loading,\r\n                            week,\r\n                            (subject_teachers) => {planning_week(subject_teachers, set_local_week, specify_loading)}\r\n                        )\r\n                        set_chosen_teacher({tutor: {_id: '', surname: '', name: '', midname: ''}, time: '', index: ''})\r\n                        set_trial_lesson_day('')\r\n                    }}/>\r\n                </div>\r\n            </div>\r\n        </CreateTrialLessonStyle>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(CreateTrialLesson)","import React from \"react\";\r\nimport {TrialLessonsStyle} from \"./trial-lessons.style\";\r\nimport {Breadcrumb} from \"antd\";\r\nimport TrialLessonSchedule from \"./trial-lesson-schedule/trial-lesson-schedule\";\r\nimport CreateTrialLesson from \"./create-trial-lesson/create-trial-lesson\";\r\n\r\nconst TrialLessons = () => {\r\n\r\n  return (\r\n      <TrialLessonsStyle>\r\n          <Breadcrumb style={{ margin: '0 0 16px 0' }}>\r\n              <Breadcrumb.Item>Главная</Breadcrumb.Item>\r\n              <Breadcrumb.Item>Пробные уроки</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <CreateTrialLesson/>\r\n          <TrialLessonSchedule/>\r\n      </TrialLessonsStyle>\r\n  )\r\n}\r\n\r\nexport default TrialLessons\r\n","import React, {useState, useEffect} from 'react'\nimport {BrowserRouter as Router, Route, Switch, Link} from \"react-router-dom\"\n\nimport {Layout, Menu} from 'antd'\nimport {\n    LogoutOutlined,\n    TeamOutlined,\n    UserOutlined,\n    SearchOutlined,\n    DatabaseOutlined,\n    UploadOutlined,\n    FunnelPlotOutlined,\n    CarryOutOutlined,\n    LikeOutlined\n} from '@ant-design/icons'\n\nimport SearchAll from './../search/search.js'\n\nimport Student from './student/student.js'\nimport StudentPage from './student/pageStudent/pageStudent.js'\n\nimport Group from './group/group.js'\nimport GroupPage from './group/group-page/group-page.js'\n\nimport UploadPupils from './upload-pupils/upload-pupils'\n// Сводные таблицы\nimport Create_Columns_Rows_Groups from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js'\nimport Create_Columns_Rows_Pupils from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js'\n\nimport styled from '@emotion/styled'\nimport {SuspenseComponent} from \"../../hocs/SuspenseComponent\";\nimport TrialLessons from \"../trial-lessons/trial-lessons\";\n\nconst SalesFunnel = React.lazy(() => import(\"./sales-funnel/sales-funnel\"))\nconst SuspenseSalesFunnel = SuspenseComponent(<div>Loading SalesFunnel...</div>, SalesFunnel)\n\nconst TasksPage = React.lazy(() => import(\"./tasks-page/Tasks\"))\nconst SuspenseTasksPage = SuspenseComponent(<div>Loading TasksPage...</div>, TasksPage)\n\nconst {Sider} = Layout;\nconst {SubMenu} = Menu;\n\nconst HomePage = ({logOut}) => {\n\n    const [collapsed, setCollapsed] = useState(false)\n\n    const onCollapse = collapsed => {\n        setCollapsed(collapsed);\n    };\n\n    useEffect(() => {\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '257px'\n    })\n\n    const Vag = styled.div({\n        '.ant-menu': {\n            height: '100vh',\n            position: 'relative',\n            width: collapsed ? '80px' : '257px'\n        },\n        '.vag123': {\n            position: 'absolute',\n            bottom: '48px',\n            width: collapsed ? '80px' : ''\n        },\n        '.site-layout': {\n            padding: '15px'\n        },\n        '& > section': {\n            '& > aside': {\n                position: 'fixed',\n                zIndex: 99\n            },\n            '& > section': {\n                marginLeft: collapsed ? '80px' : '257px'\n            }\n        }\n    })\n\n    const Box = styled.div({\n        overflow: 'auto'\n    })\n\n    return (\n        <>\n            <Router>\n                <Vag>\n                    <Layout style={{minHeight: '100vh'}}>\n                        <Sider\n                            collapsible\n                            collapsed={collapsed}\n                            onCollapse={onCollapse}\n                        >\n                            <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                                <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\n                                    <SearchAll/>\n                                </Menu.Item>\n                                <Menu.Item\n                                    key={'UploadOutlined'}\n                                    icon={<UploadOutlined\n                                        onClick={() => document.querySelector(\".ButtonUpload\").click()}/>}>\n                                    <UploadPupils/>\n                                </Menu.Item>\n                                <Menu.Item key=\"2\" icon={<UserOutlined/>}>\n                                    <Link to='/student'>\n                                        Ученики\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"3\" icon={<TeamOutlined/>}>\n                                    <Link to='/group'>\n                                        Группы\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"4\" icon={<CarryOutOutlined/>}>\n                                    <Link to='/tasks'>\n                                        Задачи\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"5\" icon={<FunnelPlotOutlined/>}>\n                                    <Link to='/sales-funnel'>\n                                        Воронка продаж\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"trial-lessons\" icon={<LikeOutlined/>}>\n                                    <Link to='/trial-lessons'>\n                                        Пробные уроки\n                                    </Link>\n                                </Menu.Item>\n                                <SubMenu key=\"sub1\" icon={<DatabaseOutlined/>} title=\"Сводные таблицы\">\n                                    <Menu.Item key=\"sub-student\">\n                                        <Link to='/table-pupils'>\n                                            Ученики\n                                        </Link>\n                                    </Menu.Item>\n                                    <Menu.Item key=\"sub-groups\">\n                                        <Link to='/table-groups'>\n                                            Группы\n                                        </Link>\n                                    </Menu.Item>\n                                </SubMenu>\n                                <Menu.Item\n                                    onClick={() => {\n                                        localStorage.removeItem('tokenID');\n                                        logOut()\n                                    }}\n                                    id='LogoutOut'\n                                    key={\"Logout\"}\n                                    className='vag123'\n                                    icon={<LogoutOutlined/>}>\n                                    <Link to='/'>\n                                        Выход\n                                    </Link>\n                                </Menu.Item>\n                            </Menu>\n                        </Sider>\n                        <Layout className=\"site-layout\">\n                            <Switch>\n                                <Route exact path='/student'\n                                       component={Student}/>\n                                <Route path={`/student/:id`} children={() => <StudentPage/>}/>\n\n                                <Route exact path='/group' component={Group}/>\n                                <Route path={`/group/:id`} children={() => <GroupPage/>}/>\n                                <Route path={'/sales-funnel'} component={SuspenseSalesFunnel}/>\n                                <Route path=\"/tasks\" render={() => <SuspenseTasksPage/>}/>\n                                <Route path='/trial-lessons' component={TrialLessons}/>\n                                {/*Сводные таблицы*/}\n                                <Route exact path='/table-groups' component={() => <Create_Columns_Rows_Groups/>}/>\n\n                                <Route exact path='/table-pupils' component={() => (\n                                    <Box>\n                                        <Create_Columns_Rows_Pupils/>\n                                    </Box>)}/>\n\n                                <Route path=\"/student/*\">\n                                    <h2>Страница не найдена</h2>\n                                </Route>\n                            </Switch>\n                        </Layout>\n                    </Layout>\n                </Vag>\n            </Router>\n        </>\n    );\n};\n\nexport default HomePage;","import Url from './../../../../../../url/url.js'\nimport errorHandler from \"../../../../../error-handler/error-handler\";\n\nconst axios = require(\"axios\");\n\nconst writeComment = (pupil_id, value) => {\n    axios({\n        method: 'post',\n        url: `${Url}/CRM/Pupils/${pupil_id}/Notes`,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: {\n            text: value\n        }\n    })\n    .catch((error) => {\n        errorHandler(writeComment, error)\n    });\n}\n\nexport default writeComment","import Url from './../../../../../../url/url.js'\nimport errorHandler from '../../../../../error-handler/error-handler.js'\n\nconst axios = require('axios'); // AJAX\n\nconst changeSchedule = (mass, pupil_id, id, getUser) => {\n    axios({\n        method: 'put',\n        url: `${Url}/CRM/Groups/${id}/Pupils/${pupil_id}/Schedule`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: mass\n    })\n    .then((res) => {\n        getUser('Сохранение')\n    })\n    .catch((error) => {\n        errorHandler(changeSchedule, error)\n    });\n}\n\nexport default changeSchedule","import React, {useState, useEffect} from 'react';\nimport writeComment from './write-сomment/write-comment.js'\nimport changeSchedule from './change-schedule/change-schedule.js'\n\nimport {Table, Tag, Input, Button} from 'antd';\n\nconst {Column, ColumnGroup} = Table\nconst {TextArea} = Input\n\n\nconst TablePupils = ({ID_Group, Group, getUser}) => {\n\n    const [GLOBAL_ARR_PUPILS, set_GLOBAL_ARR_DAY] = useState({})\n    const [GLOBAL_ROW_KEY, set_GLOBAL_ROW_KEY] = useState([])\n\n    let ARR_PUPILS = {...GLOBAL_ARR_PUPILS},\n        RowKeys = [...GLOBAL_ROW_KEY]\n\n    const onRowKeys = () => {\n\n        RowKeys = []\n\n        for (let key in ARR_PUPILS) {\n            if (ARR_PUPILS[key].arr[ID_Group].status == 2) {\n                RowKeys.push(key)\n            }\n        }\n    }\n\n    let Notes = {}\n\n    const onSeveChange = () => {\n        for (let key in ARR_PUPILS) {\n            changeSchedule(ARR_PUPILS[key].arr, key, Group._id, getUser)\n        }\n        for (let key in Notes) {\n            writeComment(key, Notes[key].text)\n        }\n    }\n    console.log(Group)\n\n    const data = Group.pupils.map((item, i) => {\n\n        let {_id, name, surname, midname} = item\n\n        ARR_PUPILS[_id] = {\n            arr: item.localSchedule ? item.localSchedule[Group._id] : [],\n            pupil_id: _id\n        }\n        onRowKeys()\n\n\n        let start = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].start : '',\n            finish = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].finish : ''\n\n        const titleProgresStart = (key, text) => {\n            ARR_PUPILS[_id].arr[ID_Group][key] = text\n        }\n\n        const onChangeStatys = (arr) => {\n            if (ARR_PUPILS[_id]) {\n                ARR_PUPILS[_id].arr = arr\n            } else if (!ARR_PUPILS[_id]) {\n                ARR_PUPILS[_id] = {\n                    arr: arr,\n                    pupil_id: _id\n                }\n            }\n        }\n\n        let changeDayPupil = (index = 3) => {\n            let arr = [...item.localSchedule[Group._id]];\n\n            if (index == 2 & arr[ID_Group].status == 3) {\n                arr[ID_Group].status = index;\n\n                onChangeStatys(arr)\n\n            } else if (index == 3) {\n                arr[ID_Group].status = index;\n\n                onChangeStatys(arr)\n\n            } else if (index != 3 & index != 2) {\n                arr[ID_Group].title = index;\n\n                onChangeStatys(arr)\n            } else {\n                // swallErr('Не возможно установить статус');\n            }\n        };\n\n        let titlePupil = ''\n        if (Group.pupils[i]) {\n            titlePupil = Group.pupils[i].localSchedule[Group._id][ID_Group].title\n        }\n\n        return {\n            key: _id,\n            name: `${surname} ${name} ${midname}`,\n            title: {\n                text: titlePupil,\n                action: changeDayPupil,\n                addNotes: (value) => {\n                    Notes[_id] = {\n                        text: value,\n                        id: _id\n                    }\n                }\n            },\n            progres: {\n                start: start,\n                finish: finish,\n                action: titleProgresStart\n            }\n        }\n    })\n\n    const rowSelection = {\n\n        selectedRowKeys: RowKeys,\n\n        onChange: () => {\n            set_GLOBAL_ARR_DAY(ARR_PUPILS)\n            set_GLOBAL_ROW_KEY(RowKeys)\n        },\n        onSelect: (e) => {\n\n            let i,\n                box = ARR_PUPILS[e.key].arr[ID_Group].status\n            if (box == 2) {\n                i = 3\n            } else {\n                i = 2\n            }\n\n            ARR_PUPILS[e.key].arr[ID_Group].status = i\n\n            onRowKeys()\n        },\n        onSelectAll: (e) => {\n\n            if (e) {\n                for (let key in ARR_PUPILS) {\n                    ARR_PUPILS[key].arr[ID_Group].status = 2\n                }\n            } else if (!e) {\n                for (let key in ARR_PUPILS) {\n                    ARR_PUPILS[key].arr[ID_Group].status = 3\n                }\n            }\n\n            onRowKeys()\n        }\n    };\n\n    return (\n        <>\n            <Table\n                pagination={false}\n                loading={false}\n                rowSelection={rowSelection}\n                scroll={{x: 0}}\n\n                dataSource={data}>\n                <Column\n                    title=\"Ученик\"\n                    dataIndex=\"name\"\n                    key=\"name\"\n                    render={(name) => (\n                        <Tag color=\"blue\">{name}</Tag>\n                    )}/>\n                <ColumnGroup title='Прогресс'>\n                    <Column\n                        title=\"Коментарии\"\n                        dataIndex=\"title\"\n                        key=\"title\"\n                        render={(title) => (\n                            <TextArea\n                                defaultValue={title.text}\n                                placeholder=\"Коментарий ученику\"\n                                onBlur={e => {\n                                    title.action(e.target.value)\n                                    title.addNotes(e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                    <Column\n                        title=\"Начало\"\n                        dataIndex=\"progres\"\n                        key=\"progres\"\n                        render={(progres) => (\n                            <TextArea\n                                defaultValue={progres.start}\n                                placeholder='Старт...'\n                                onBlur={e => {\n                                    progres.action('start', e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                    <Column\n                        title=\"Конец\"\n                        dataIndex=\"progres\"\n                        key=\"progres\"\n                        render={(progres) => (\n                            <TextArea\n                                defaultValue={progres.finish}\n                                placeholder=\"Финиш...\"\n                                onBlur={e => {\n                                    progres.action('finish', e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                </ColumnGroup>\n            </Table>\n            <div className='Button'>\n                <Button\n                    onClick={onSeveChange}\n                    type='primary'\n                >Сохранить</Button>\n            </div>\n        </>\n    )\n}\n\nexport default TablePupils","import React, {useState, useEffect} from 'react';\n\n// import {loading, Swalclose} from './../../../../alert/alert.js'\n// import Url from './../../../../url/url.js'\n// import localStorage_change from './../../../../#localStorage_change.js'\n\nimport TablePupils from './table-pupils/table-pupils.js'\n\nimport { Typography, Space } from 'antd';\n\nimport styled from '@emotion/styled';\n\nconst LessonNowStyle = styled.div({\n\t'.time': {\n\t\t'h5, h6': {\n\t\t\tmargin: 0\n\t\t}\n\t},\n\t'.TablePupils': {\n\t\tmarginTop: '15px',\n\t\t'.ant-tag': {\n\t\t\tfontSize: '13px'\n\t\t},\n\t\ttd: {\n\t\t\tpadding: '16px 3px'\n\t\t}\n\t},\n\t'.Button': {\n\t\tmarginTop: '15px',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end'\n\t}\n})\n\nconst { Text } = Typography;\n\nconst LessonNow = ({rowKey, setRowKey, GROUP, Group, getUser}) => {\n\n\tlet G = Group\n\n\tif (GROUP.group.group_name) {\n\t\tG = GROUP\n\t}\n\n\treturn (\n\t\t<LessonNowStyle className='LessonNow'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<h4><Text type=\"secondary\"> Урок сейчас: </Text> {G.group.group_name} </h4>\n\t\t\t\t</div>\n\t\t\t\t<div className={`col-md-3 time`}>\n\t\t\t\t\t<h6> <Text type=\"secondary\">Начало</Text> </h6>\n\t\t\t\t\t<h5> <Text type=\"warning\">{G.group.global_schedule[G.indexD].date} в {G.group.global_schedule[0].duration[0]}</Text> </h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"TablePupils\">\n\t\t\t\t<TablePupils rowKey={rowKey} getUser={getUser} ID_Group={G.indexD} setRowKey={setRowKey} Group={G.group}/>\n\t\t\t</div>\n\t\t</LessonNowStyle>\n\t)\n}\n\nexport default LessonNow","import React from 'react';\n\nimport {Table, Tag} from 'antd';\n\nconst {Column} = Table\n\n\nconst TableGroups = ({Groups, newGroup, setGROUP, GROUP}) => {\n\n    const data = Groups.map((item, i) => {\n\n        let {_id, group_name, global_schedule} = item.group,\n            color = 'cyan'\n\n        if (GROUP.group) {\n            if (newGroup.group._id == _id & !GROUP.group.group_name) {\n\n                color = 'volcano'\n            } else if (_id == GROUP.group._id) {\n\n                color = 'volcano'\n            }\n        }\n\n        return {\n            key: i,\n            groupName: {\n                group_name: group_name,\n                G: item\n            },\n            date: {\n                date: `${global_schedule[`${item.indexD}`].date} в ${global_schedule[0].duration[0]}`,\n                color: color,\n                G: item\n            }\n        }\n    })\n\n    let pagination = {\n        pageSize: 15,\n        onChange: (i) => {\n            console.log(`Страница: ${i}`)\n        }\n    }\n\n    return (\n        <Table\n            pagination={pagination}\n            loading={false}\n            scroll={{x: 0}}\n\n            dataSource={data}>\n            <Column\n                title=\"Время\"\n                dataIndex=\"date\"\n                key=\"date\"\n                render={(date) => (\n                    <Tag\n                        onClick={() => {\n                            setGROUP(date.G)\n                        }}\n                        style={{cursor: 'pointer'}}\n                        color={date.color}>{date.date}</Tag>\n                )}/>\n\n            <Column\n                title=\"Группа\"\n                dataIndex=\"groupName\"\n                key=\"groupName\"\n                render={(groupName) => (\n                    <Tag\n                        onClick={() => {\n                            setGROUP(groupName.G)\n                            console.log(groupName.G)\n                        }}\n                        style={{cursor: 'pointer'}}\n                        color=\"volcano\">{groupName.group_name}</Tag>\n                )}/>\n        </Table>\n    )\n}\n\n\nTableGroups.defaultProps = {\n    Groups: [{\n        group_name: '',\n        global_schedule: [\n            {date: \"\", duration: ['', '']}\n        ],\n        pupils: []\n    }]\n}\n\nexport default TableGroups","import React from \"react\"\n\nimport TableGroups from \"./table-groups/table-groups.js\"\n\nimport styled from \"@emotion/styled\"\n\nconst AllLesson = ({Groups, newGroup, setGROUP, GROUP}) => {\n\n\tlet gro = [...Groups]\n\n\t// if (gro[1]) {\n\t// \tgro.splice(0, 1)\n\t// }\n\n\tconst AllLesson = styled.div({\n\t\tpadding: '15px',\n\t\tborderRadius: '2px',\n\t\tbackgroundColor: '#fff'\n\t})\n\n\treturn (\n\t\t<AllLesson className='AllLesson'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<h5>Ближайшие уроки</h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"TableGroups\">\n\t\t\t\t<TableGroups Groups={gro} newGroup={newGroup} setGROUP={setGROUP} GROUP={GROUP}/>\n\t\t\t</div>\n\t\t</AllLesson>\n\t)\t\n}\n\nexport default AllLesson","import React, {useState, useEffect} from 'react';\nimport { Layout, Breadcrumb } from 'antd';\n\nimport LessonNow from './lesson-now/lesson-now.js'\nimport AllLesson from './all-lesson/all-lesson.js'\n\nimport moment from 'moment'\n\nimport styled from '@emotion/styled';\n\nconst Today = ({rowKey, setRowKey, Groups, GROUP, setGROUP, getUser}) => {\n\n\tlet indexHours = {\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t},\n\tgroupsAll = [{\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t}]\n\n\n\tGroups.forEach((item, i) => {\n\n\t\tlet dataLes_l = []\n\t\tlet indexD = 'f'\n\n\t\tlet GLOBAL_SCHEDULE_Local = item.global_schedule ? item.global_schedule : []\n\n\t\tGLOBAL_SCHEDULE_Local.forEach((itemGL, i) => {\n\n\t\t\tlet time = moment(itemGL.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\n\t\t\ttime_day = moment().diff(time, 'day');\n\n\t\t\tif (time_day <= 0) {\n\n\t\t\t\tif (indexD == 'f') {\n\t\t\t\t\tindexD = i\n\t\t\t\t}\n\n\t\t\t\tdataLes_l.push(`${time} ${itemGL.duration[0]}`)\n\t\t\t}\n\t\t})\n\n\t\tif (dataLes_l[0]) {\n\n\t\t\tif (indexHours.timeN) {\n\n\t\t\t\tlet indexN = moment().diff(dataLes_l[0], 'hours'),\n\t\t\t\t\tposl = moment().diff(indexHours.timeN, 'hours')\n\n\t\t\t\tif (indexN > posl & indexN <= 0) {\n\t\t\t\t\t\n\t\t\t\t\tindexHours = {\n\t\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\t\tgroup: item,\n\t\t\t\t\t\tindexD: indexD\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else if (!indexHours.timeN) {\n\t\t\t\tindexHours = {\n\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\tgroup: item,\n\t\t\t\t\tindexD: indexD\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (dataLes_l[0]) {\n\t\t\t\tgroupsAll.push({\n\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\tgroup: item,\n\t\t\t\t\tindexD: indexD\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n\n\tlet groupCon = [{\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t}]\n\n\tlet indexGroup = []\n\tgroupsAll.forEach(item => {\n\t\tindexGroup.push(moment().diff(item.timeN, 'minutes'))\n\t})\n\n\tindexGroup.sort((a, b) => b - a)\n\n\tindexGroup.forEach(itemIN => {\n\t\tgroupsAll.forEach((item2, i) => {\n\n\t\t\tif (moment().diff(item2.timeN, 'minutes') == itemIN) {\n\n\t\t\t\tgroupCon.push(item2)\n\t\t\t}\n\t\t})\n\t})\n\n\tif (groupCon[1] != undefined) {\n\t\tgroupCon.splice(0, 1)\n\t}\n\n\t// console.log(groupCon)\n\n\tconst Today = styled.div({\n\t\t'.site-layout-background': {\n\t\t\t'.allCol': {\n\t\t\t\tpadding: '0 7.5px'\n\t\t\t},\n\t\t\t'.LessonNow, .AllLesson': {\n\t\t\t\tpadding: '15px',\n\t\t\t\tborderRadius: '2px',\n\t\t\t\tbackgroundColor: '#fff'\n\t\t\t}\n\t\t}\n\t})\n\n\tif (!GROUP) {\n\t\tsetGROUP(groupCon[0])\n\t}\n\n\tconst { Content } = Layout;\n\n\treturn (\n\t\t<Today>\n\t\t\t<Content style={{ margin: '0 16px' }}>\n\t\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\n\t\t\t\t\t<Breadcrumb.Item>Главная</Breadcrumb.Item>\n\t\t\t\t\t<Breadcrumb.Item>Ближайшие уроки</Breadcrumb.Item>\n\t\t\t\t</Breadcrumb>\n\t\t\t\t<div className=\"row site-layout-background\" style={{ padding: '7.5px', minHeight: 360 }}>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"allCol col-8\">\n\t\t\t\t\t\t<LessonNow rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP} Group={indexHours}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"allCol col-4\">\n\t\t\t\t\t\t<AllLesson Groups={groupCon} setGROUP={setGROUP} newGroup={indexHours} GROUP={GROUP}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Content>\n\t\t</Today>\n\t)\n}\n\nexport default Today","import React, {useState, useEffect} from 'react';\nimport {Layout, Breadcrumb, Table, Tag} from 'antd';\n\nimport styled from '@emotion/styled';\n\nimport moment from 'moment';\n\nconst columns = [\n    {\n        title: '',\n        key: 'time',\n        dataIndex: 'time',\n        fixed: 'left',\n        width: 100,\n        render: (time) => <Tag color=\"cyan\">{time}</Tag>,\n    },\n    {title: 'Понедельник', dataIndex: '1', key: '1'},\n    {title: 'Вторник', dataIndex: '2', key: '2'},\n    {title: 'Среда', dataIndex: '3', key: '3'},\n    {title: 'Четверг', dataIndex: '4', key: '4'},\n    {title: 'Пятница', dataIndex: '5', key: '5'},\n    {title: 'Суббота', dataIndex: '6', key: '6'},\n    {title: 'Воскресенье', dataIndex: '0', key: '7'}\n];\n\nconst СalendarStyle = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\nconst GroupsANDpupils = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff',\n    marginBottom: '15px'\n})\n\nconst {Content} = Layout;\n\nconst Сalendar = ({Groups}) => {\n\n    console.log(Groups)\n\n    const columns2 = Groups.map(item => {\n        // let name = `${item._id}`\n        return (\n            {\n                title: () => <Tag key={item._id} color=\"magenta\">{item.group_name}</Tag>,\n                key: item._id,\n                dataIndex: 'pupil',\n                fixed: 'top',\n                width: 100,\n                render: () => {\n                    return (\n                        <>\n                            {\n                                item.pupils.map((itemf, i) => (\n                                    <div key={`${item._id}${i}`}>\n                                        <Tag\n                                            style={{marginBottom: '5px'}}\n                                            color=\"green\">{itemf.surname} {itemf.name} {itemf.midname}</Tag>\n                                    </div>\n                                ))\n                            }\n                        </>\n                    )\n                }\n            }\n        )\n    })\n\n    const data2 = [{\n        key: '777',\n        pupil: ''\n    }]\n\n    console.log(data2)\n\n\n// ==================\n    const data = Groups.map(items => {\n\n        let GLOBAL_SCHEDULE_Local = items.global_schedule ? items.global_schedule : []\n\n        if (GLOBAL_SCHEDULE_Local[0]) {\n            let wekDay = {}\n\n            items.global_schedule.forEach(day => {\n                let wek_day = moment(day.date, 'DD.MM.YYYY').day()\n\n                wekDay[wek_day] = items.group_name\n            })\n\n            return {\n                key: items._id,\n                ...wekDay,\n                time: items.global_schedule[0].duration[0]\n            }\n        } else {\n            return {\n                key: items._id,\n                '1': `Для группы: \"${items.group_name}\" не создано расписание.`,\n                time: ''\n            }\n        }\n    })\n\n    let finalDate = []\n\n    for (let inc = 0; inc <= 24; inc++) {\n        data.forEach(item => {\n\n            let hh = moment(item.time, 'hh:mm').hours()\n            if (hh == inc) {\n                finalDate.push(item)\n            }\n        })\n    }\n    \n    return (\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Расписание уроков</Breadcrumb.Item>\n            </Breadcrumb>\n            <GroupsANDpupils>\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\n                    <h4>Группы</h4>\n                    <Table bordered columns={columns2} dataSource={data2} scroll={{x: 1000}}/>\n                </div>\n            </GroupsANDpupils>\n            <СalendarStyle>\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\n                    <h4>Расписание</h4>\n                    <Table bordered columns={columns} dataSource={finalDate} scroll={{x: 1300}}/>\n                </div>\n            </СalendarStyle>\n        </Content>\n    )\n}\n\nexport default Сalendar","import React from 'react';\nimport {Table, Layout, Breadcrumb} from 'antd';\nimport {Link} from \"react-router-dom\"\n\nimport ReturnAge from './../../home-page/return-age/returnAge.js'\n\nimport styled from '@emotion/styled';\n\nconst AllPupilsBox = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\n\nconst AllPupils = ({AllPupils}) => {\n\n    const {Content} = Layout;\n    const {Column} = Table;\n\n    const data = []\n\n    AllPupils.forEach(item => {\n\n        let {surname, name, midname, dateOfBirth, gender, phone, discord, _id} = item\n\n        let i = true\n\n        data.forEach(item => {\n            if (item.key == _id) {\n                i = false\n            }\n        })\n\n        if (i) {\n            data.push({\n                key: _id,\n                surname: [surname, _id],\n                name: name,\n                midname: midname,\n                dateOfBirth: ReturnAge(dateOfBirth),\n                gender: gender,\n                phone: phone,\n                discord: discord\n            })\n        }\n    })\n\n    return (\n\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Таблица Учеников</Breadcrumb.Item>\n            </Breadcrumb>\n            <div className=\"site-layout-background\" style={{padding: '10px', minHeight: 360}}>\n                <AllPupilsBox>\n                    <Table dataSource={data}>\n                        <Column\n                            title=\"Фамилия\"\n                            dataIndex=\"surname\"\n                            key=\"surname\"\n                            render={(surname) => (\n                                <Link\n                                    className=\"link-info\"\n                                    to={`/student/${surname[1]}`}>\n                                    {surname[0]}\n                                </Link>\n                            )}/>\n                        <Column title=\"Имя\" dataIndex=\"name\" key=\"name\"/>\n                        <Column title=\"Отчество\" dataIndex=\"midname\" key=\"midname\"/>\n                        <Column title=\"Возраст\" dataIndex=\"dateOfBirth\" key=\"dateOfBirth\"/>\n                        <Column title=\"Пол\" dataIndex=\"gender\" key=\"gender\"/>\n                        <Column title=\"Номер телефона\" dataIndex=\"phone\" key=\"phone\"/>\n                        <Column title=\"Дискорд никнейм\" dataIndex=\"discord\" key=\"discord\"/>\n                    </Table>\n                </AllPupilsBox>\n            </div>\n        </Content>\n    )\n}\n\nexport default AllPupils","import React from 'react';\nimport {Table, Layout, Breadcrumb} from 'antd';\nimport {Link} from \"react-router-dom\"\n\nimport styled from '@emotion/styled';\n\nconst AllGroupsBox = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\n\nconst AllGroups = ({AllGroups}) => {\n    const {Content} = Layout;\n    const {Column} = Table;\n\n    const data = AllGroups.map(item => {\n\n        let {group_name, level, places, pupils, _id, global_schedule} = item\n\n        let time = ''\n\n        if (global_schedule) {\n            if (global_schedule[0]) {\n                time = `с ${global_schedule[0].duration[0]} до ${global_schedule[0].duration[1]}`\n            }\n        }\n\n        return ({\n            key: _id,\n            group_name: [group_name, _id],\n            level: level,\n            places: places,\n            free_places: places - pupils.length,\n            time: time\n        })\n    })\n\n    return (\n\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Таблица Групп</Breadcrumb.Item>\n            </Breadcrumb>\n            <div className=\"site-layout-background\" style={{padding: '10px', minHeight: 360}}>\n                <AllGroupsBox>\n                    <Table dataSource={data}>\n                        <Column\n                            title=\"Имя Группы\"\n                            dataIndex=\"group_name\"\n                            key=\"group_name\"\n                            render={(group_name) => (\n                                <Link\n                                    className=\"link-info\"\n                                    to={`/group/${group_name[1]}`}>\n                                    {group_name[0]}\n                                </Link>\n                            )}/>\n                        <Column title=\"Уровень\" dataIndex=\"level\" key=\"level\"/>\n                        <Column title=\"Количество мест\" dataIndex=\"places\" key=\"places\"/>\n                        <Column title=\"Свободных мест\" dataIndex=\"free_places\" key=\"free_places\"/>\n                        <Column title=\"Время занятий\" dataIndex=\"time\" key=\"time\"/>\n                    </Table>\n                </AllGroupsBox>\n            </div>\n        </Content>\n    )\n}\n\nexport default AllGroups","import React from \"react\";\r\nimport {Breadcrumb} from \"antd\";\r\nimport TrialLessonSchedule from \"../trial-lesson-schedule/trial-lesson-schedule\";\r\nimport {TrialLessonsStyle} from \"../trial-lessons.style\";\r\n\r\nconst TrialLessonsTutor = () => {\r\n    return (\r\n        <TrialLessonsStyle>\r\n            <Breadcrumb style={{ margin: '0 0 16px 0' }}>\r\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Пробные уроки</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n            <TrialLessonSchedule/>\r\n        </TrialLessonsStyle>\r\n    )\r\n}\r\n\r\nexport default TrialLessonsTutor","import React, {useState, useEffect} from 'react';\nimport {BrowserRouter as Router, Route, Link, Switch} from \"react-router-dom\";\n\nimport {loading, Swalclose} from '../../alert/alert'\nimport Url from './../../url/url.js'\n\nimport Today from './today/today.js'\nimport Сalendar from './calendar/calendar.js'\nimport SearchAll from './../search/search.js'\nimport StudentPage from '../home-page/student/pageStudent/pageStudent.js'\nimport GroupPage from '../home-page/group/group-page/group-page.js'\n\nimport AllPupils from './all-pupils/all-pupils.js'\nimport AllGroups from './all-groups/all-groups.js'\n\nimport {Layout, Menu} from 'antd';\nimport {\n    LogoutOutlined,\n    ClockCircleOutlined,\n    CalendarOutlined,\n    TeamOutlined,\n    SearchOutlined,\n    UserOutlined, LikeOutlined,\n} from '@ant-design/icons';\n\nimport styled from '@emotion/styled';\nimport errorHandler from \"../error-handler/error-handler\";\nimport TrialLessonsTutor from \"../trial-lessons/trial-lessons-tutor/trial-lessons-tutor\";\n\nconst axios = require('axios'); // AJAX\nlet jwt = require('jsonwebtoken');\n\nconst {Sider} = Layout;\n\nconst HomePageTutor = ({logOut}) => {\n\n    const [collapsed, setCollapsed] = useState(false)\n    const [rowKey, setRowKey] = useState([])\n    const [GROUP, setGROUP] = useState({\n        group: {\n            group_name: '',\n            global_schedule: [\n                {date: \"00\", duration: ['', '']}\n            ],\n            pupils: [],\n            _id: '3443'\n        },\n        indexD: 0\n    })\n    const [user, setUser] = useState({\n        groups: [],\n        login: \"\",\n        midname: \"\",\n        name: \"\",\n        role: \"\",\n        surname: \"\",\n        _id: \"456456\"\n    })\n    const [Groups, setGroups] = useState([])\n\n    let Pupils = []\n    Groups.forEach(item => {\n        Pupils.push(...item.pupils)\n    })\n\n    const getGroups = (l_user) => {\n\n        let mass_id = l_user.groups.map(item => item._id)\n\n        if (mass_id[0]) {\n            axios({\n                method: 'post',\n                url: `${Url}/CRM/Groups/getByIds`,\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8',\n                    'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n                },\n                data: {\n                    ids: mass_id\n                }\n            })\n            .then((res) => {\n                setGroups(res.data)\n                Swalclose()\n            })\n            .catch((error) => {\n                errorHandler(getGroups, error)\n            })\n        } else {\n            Swalclose()\n        }\n    };\n\n    const getUser = (title) => {\n\n        loading(title, '')\n\n        axios({\n            method: 'get',\n            url: `${Url}/CRM/Teachers/${jwt.decode(localStorage.getItem('tokenID')).id}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            if (!data) {\n                localStorage.removeItem('tokenID');\n                window.location.replace(\"/\");\n            }\n\n            setUser(data)\n            getGroups(data)\n        })\n        .catch((error) => {\n            errorHandler(getGroups, error)\n        })\n    };\n\n    useEffect(() => {\n        getUser('Получение данных...')\n    }, [])\n\n    useEffect(() => {\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '250px'\n    })\n\n    const Vag = styled.div({\n        '.ant-menu': {\n            height: '100vh',\n            position: 'relative',\n            width: collapsed ? '80px' : '250px'\n        },\n        '.vag123': {\n            position: 'absolute',\n            bottom: '48px',\n            width: collapsed ? '80px' : ''\n        },\n        '.site-layout': {\n            padding: '15px'\n        },\n        '& > section': {\n            '& > aside': {\n                position: 'fixed',\n                zIndex: 99\n            },\n            '& > section': {\n                marginLeft: collapsed ? '80px' : '250px'\n            }\n        }\n    })\n\n    return (\n        <Router>\n            <Vag>\n                <Layout style={{minHeight: '100vh'}}>\n                    <Sider collapsible collapsed={collapsed} onCollapse={() => setCollapsed(!collapsed)}>\n                        <div className=\"logo\"/>\n                        <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                            <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\n                                <SearchAll tutorid={`&tutorID=${jwt.decode(localStorage.getItem('tokenID')).id}`}/>\n                            </Menu.Item>\n                            <Menu.Item key=\"1\" icon={<ClockCircleOutlined/>}>\n                                <Link to='/'>\n                                    Сегодня\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"2\" icon={<CalendarOutlined/>}>\n                                <Link to='/calendar'>\n                                    Расписание\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"3\" icon={<UserOutlined/>}>\n                                <Link to='/pupils'>\n                                    Ученики\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"4\" icon={<TeamOutlined/>}>\n                                <Link to='/groups'>\n                                    Группы\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"trial-lessons-tutor\" icon={<LikeOutlined/>}>\n                                <Link to='/trial-lessons-tutor'>\n                                    Пробные уроки\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item\n                                onClick={() => {\n                                    localStorage.removeItem('tokenID')\n                                    logOut()\n                                }}\n                                key=\"Logout\" className='vag123' icon={<LogoutOutlined/>}>\n                                <Link to='/'>\n                                    Выход: {user.login}\n                                </Link>\n                            </Menu.Item>\n                        </Menu>\n                    </Sider>\n                    <Layout className=\"site-layout\">\n\n                        <div>\n                            <Switch>\n                                <Route exact path='/'>\n                                    <Today rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP}\n                                           setGROUP={setGROUP} Groups={Groups}/>\n                                </Route>\n                                <Route exact path='/calendar'>\n                                    <Сalendar Groups={Groups}/>\n                                </Route>\n                                <Route exact path='/pupils'>\n                                    <AllPupils AllPupils={Pupils}/>\n                                </Route>\n                                <Route exact path='/groups'>\n                                    <AllGroups AllGroups={Groups}/>\n                                </Route>\n                                <Route exact path='/trial-lessons-tutor' component={TrialLessonsTutor}/>\n\n                                <Route exact path={`/student/:id`} children={() => <StudentPage/>}/>\n                                <Route exact path={`/group/:id`} children={() => <GroupPage/>}/>\n                            </Switch>\n                        </div>\n\n                    </Layout>\n                </Layout>\n            </Vag>\n        </Router>\n    )\n}\n\nexport default HomePageTutor","import React, {useState, useEffect} from 'react'\n\nimport './App.css';\nimport FormlogIn from './form-log-In/form-log-in.js'\nimport HomePage from './home-page/home-page.js'\n\nimport Url from './../url/url.js'\n\nimport HomePageTutor from './home-page-tutor/home-page-tutor.js'\n\nconst App = () => {\n\tconst axios = require('axios'); // AJAX\n\n\tlet jwt = require('jsonwebtoken')\n\n\tconst [User, setUser] = useState('');\n\tlet form = <FormlogIn setUser={setUser}/>;\n\tlet page = localStorage.getItem('tokenID')? <HomePage logOut={setUser}/> : form;\n\n\tuseEffect(() => {\n\t\tif (page !== form) {\n\t\t\taxios({\n\t\t\t\tmethod: \"get\",\n\t\t\t\turl: `${Url}/auth-check`,\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (error.response) {\n\t\t\t\t\tlet {status} = error.response\n\t\t\t\t\tif (status === 401) {\n\t\t\t\t\t\tlocalStorage.removeItem(\"tokenID\");\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [])\n\t\n\tif (localStorage.getItem('tokenID')) {\n\t\tif (jwt.decode(localStorage.getItem('tokenID')).accountType === 'teacher') {\n\t\t\tpage = <HomePageTutor logOut={setUser}/>\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t  \t\t{page}\n\t\t</>\n\t);\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport store from \"./store\";\nimport './index.css';\nimport App from './components/App.js';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>\n    ,document.getElementById('root'))","import styled from \"@emotion/styled\"\n\nexport const WrapperTasks = styled.div`\n  position: ${props => props.portable ? \"absolute\" : \"static\"};\n  transition: all .5s ease;\n  z-index: 10;\n  bottom: ${props => props.opened ? \"0\": props.type === 2 ? \"-600px\" : \"-580px\"};\n  width: 100%;\n  border-radius: ${props => props.portable ? \"10px 10px 0 0\" : \"0\"};\n  background: ${props => props.portable ? \"#1890FF\" : \"white\"};\n  border: 1px solid ${props => props.portable ? \"#1890FF\" : \"white\"};\n  padding: 0 10px;\n  \n  > .buttonUp {\n    position: relative;\n    top: -13px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    > button {\n      display: flex;\n      align-items: center;\n      border-radius: 4px;\n      border: 1px solid #1890FF;\n      background: #1890FF;\n      color: white;\n      transition: all .2s ease;\n      width: min-content;\n      &:hover {\n        background: white;\n        color: #1890FF;\n      }\n      .anticon-double-left {\n        margin: 0 5px 0 2.5px;\n        transform: rotate(${props => props.opened ? -90 : 90}deg);\n      }\n    }\n  }\n`\n\nexport const CreateTask = styled.div`\n  display: flex;\n  overflow: hidden auto;\n  flex-direction: column;\n  .ant-picker {\n    cursor: pointer;\n    width: 100%;\n    background: transparent;\n    border: none;\n    .ant-picker-suffix {\n      color: white;\n    }\n    &:focus {\n      outline: none;\n    }\n  }\n  .data {\n    padding: 5px 0;\n    border-bottom: 1px solid ${props => props.portable ? \"rgba(255, 255, 255, 0.9)\" : \"rgba(211, 211, 211, 0.9)\"};\n  }\n  input {\n    color: ${props => props.portable ? \"white\" : \"black\"};\n    background: transparent;\n    border: none;\n    &:focus {\n      outline: none;\n    }\n  }\n  input::-webkit-input-placeholder {\n    color: ${props => props.portable ? \"rgba(255, 255, 255, 0.7)\" : \"rgba(211, 211, 211, 0.8)\"};\n  }\n  textarea {\n    resize: none;\n    width: 100%;\n    color: ${props => props.portable ? \"white\" : \"black\"};\n    background: transparent;\n    border: none;\n    &:focus {\n      outline: none;\n    }\n  }\n  textarea::-webkit-input-placeholder {\n    color: ${props => props.portable ? \"rgba(255, 255, 255, 0.7)\" : \"rgba(211, 211, 211, 0.8)\"};\n  }\n  .type__select {\n    color: ${props => props.portable ? \"white\" : \"black\"};\n    justify-content: space-between;\n    > select:first-of-type {\n      cursor: pointer;\n      width: 100%;\n      border: none;\n      color: ${props => props.portable ? \"white\" : \"black\"};\n      background: transparent;\n      > option {\n        color: black;\n      }\n      &:focus {\n        outline: none;\n      }\n    }\n  }\n`\nexport const TagBlock = styled.div`\n  margin: 5px 0 0 0;\n  display: flex;\n  justify-content: space-between;\n  > div {\n    flex: 0 0 calc(100% / 3);\n    color: ${props => props.portable ? \"white\" : \"black\"};\n    > div:last-of-type {\n      color: black;\n      border-bottom: 1px solid ${props => props.portable ? \"#1890FF\" : \"lightgray\"};\n      background: ${props => props.portable ? \"white\" : \"transparent\"};\n      height: 100px;\n      max-height: 100px;\n      overflow: hidden auto;\n      > span {\n        display: block;\n        margin: 2px;\n        cursor: pointer;\n        transition: all .2s ease;\n        &:hover {\n          filter: brightness(0.9);\n        }\n      }\n    }\n  }\n  \n`\nexport const CreateTagBlock = styled.section`\n  display: flex;\n  flex-direction: column;\n  > input {\n    width: 100%;\n    color: ${props => props.portable ? \"white\" : \"black\"};\n    border-bottom: 1px solid ${props => props.portable ? \"white\" : \"lightgray\"};\n    &::-webkit-input-placeholder {\n      color: ${props => props.portable ? \"rgba(255, 255, 255, 0.7)\" : \"rgba(211, 211, 211, 0.8)\"};\n    }\n  }\n`\nexport const SelectResponsible = styled.div`\n  display: flex;\n  flex-direction: column;\n  color: ${props => props.portable ? \"white\" : \"black\"};\n  .black {\n    color: black;\n  }\n  input {\n    border-bottom: 1px solid ${props => props.portable ? \"white\" : \"lightgray\"};\n    margin: 0 0 5px 0;\n  }\n  p {\n    margin: 0;\n  }\n  div:first-of-type {\n    height: 85px;\n  }\n  div {\n    border-bottom: 1px solid lightgray;\n    overflow: hidden auto;\n    padding: 0;\n    margin: 0;\n    background: white;\n    > p {\n      color: ${props => props.portable ? \"white\" : \"#1890FF\"};\n      font-weight: 600;\n      position: relative;\n      cursor: pointer;\n      background: ${props => props.portable ? \"#1890FF\" : \"white\"};\n      margin: 2.5px;\n      padding: 0 30px 0 5px;\n      font-size: 13px;\n      ${props => props.portable ? \"border: 1px solid #1890FF\" : \"border-bottom: 1px solid lightgray\"};\n      border-radius: ${props => props.portable ? \"4px\" : \"0\"};\n      transition: all .2s ease;\n      &:hover {\n        background: ${props => props.portable ? \"transparent\" : \"lightgray\"};\n        color: #1890FF;\n      }\n    }\n  }\n  > div:last-of-type {\n    margin: 5px 0 0 0;\n    > p {\n      border: none\n    }\n  }\n`\nexport const AccountTypeSpan = styled.span`\n  position: absolute;\n  right: 5px;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  color: #FFC700;\n  font-family: \"MontBold\";\n`\nexport const SubmitButton = styled.div`\n  display: flex;\n  justify-content: center;\n  > button {\n    border-radius: 4px;\n    color: ${props => props.portable ? \"#1890FF\" : \"white\"};\n    border: none;\n    padding: 2.5px 15px;\n    background: ${props => props.portable ? \"white\" : \"#1890FF\"};\n    margin: 10px 0 5px 0;\n    transition: all .2s ease;\n    &:hover {\n      background: ${props => props.portable ? \"lightgray\" : \"#1F75FF\"};\n    }\n  }\n`\nexport const OpacityParagraph = styled.p`\n  opacity: 0.8;\n  width: 95%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\nexport const OpacityContainer = styled.div`\n  display: flex;\n  opacity: 0.8;\n  width: 95%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\nexport const DeleteButton = styled.button`\n  border: none;\n  background: transparent;\n  position: absolute;\n  top: 0;\n  right: 0;\n  > span {\n    color: gray;\n    transition: all .2s ease;\n    &:hover {\n      color: lightgray;\n    }\n  }\n`\nexport const WrapperTaskComponent = styled.div`\n  padding: 0 45px 0 0;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  > div > p:first-of-type {\n    font-weight: bold;\n  }\n  > .done {\n    text-decoration: ${props => props.done ? \"line-through\" : \"none\"};\n  }\n  p {\n    margin: 0;\n  }\n`\nexport const CheckboxContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 5px;\n`\n","import styled from \"@emotion/styled\"\n\nexport const StylesForInputMaskPhoneParentOrChild = {\n  borderRadius: \"2px\"\n}\n\nexport const StylesForUserAddOutlined = {\n  fontSize: \"18px\",\n  color: '#001529',\n  position: \"absolute\",\n  top: \"4px\",\n  right: \"2px\"\n}\n\nexport const BoldSpan = styled.span`\n  font-weight: bold;\n`\n\nexport const VisibilitySpan = styled.span`\n  opacity: 0.8;\n`\n\nexport const Wrapper = styled.div`\n  position: relative;\n`\nexport const FunnelSection = styled.div`\n  ::-webkit-scrollbar {\n    height: 5px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: darkgrey;\n  }\n  overflow: auto hidden;\n  height: auto;\n  min-width: 100%;\n  display: flex;\n  justify-content: ${props => props.jstctn ? \"space-evenly\" : \"flex-start\"};\n  .droppable-container {\n    min-height: 150px;\n    height: 100%;\n  }\n`\nexport const FlexFunnelElement = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n  > p {\n    flex: 1 0 50%;\n    margin: 0;\n    padding: 0;\n  }\n  > Input {\n    flex: 1 0 50%;\n  }\n`\n\n\nexport const FunnelStep = styled.div`\n  overflow: hidden;\n  max-width: 260px;\n  min-width: 260px;\n  margin: 0px 10px;\n  background: white;\n  border-radius: 4px;\n  .ant-pagination.ant-pagination-simple {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 3px;\n  }\n`\nexport const FunnelStepHeader = styled.div`\n  border-bottom: 1px solid ${props => props.background ? props.background : \"#001529\"};\n  max-height: 26px;\n  padding: 2px 5px;\n  background: white;\n  color: black;\n  font-weight: 500;\n`\n\nexport const FunnelStepAbonementSum = styled.div`\n  position: relative;\n  margin: 0;\n  margin-bottom: 8px;\n  padding: 5px 0;\n  text-align: center;\n  background: white;\n  color: black;\n  font-weight: 500;\n  border-bottom: 4px solid ${props => props.background ? props.background : \"#001529\"};\n  &::before {\n    position: absolute;\n    content: \"\";\n    display: inline-block;\n    bottom: -20px;\n    right: calc((260px - (8px + 8px)) / 2);\n    border-top: 8px solid ${props => props.background ? props.background : \"#001529\"};\n    border-right: 8px solid transparent;\n    border-left: 8px solid transparent;\n    border-bottom: 8px solid transparent;\n  }\n`\n\nexport const FunnelStepText = styled.p`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: keep-all;\n  width: ${props => props.width !== '' ? props.width : \"190px\"};\n  height: 25px;\n  margin: 0;\n`\n\nexport const FunnelStepStudent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 8px 3px 8px 8px;\n  margin: 5px 0;\n  border: 1px solid lightgray;\n  border-radius: 1px;\n  background: white;\n  color: black;\n  .funnelStepStudent__first--info {\n    display: flex;\n    flex-direction: column;\n    div:first-of-type {\n      font-weight: bold;\n    }\n    p {\n      margin: 0;\n    }\n    div:last-of-type {\n      margin-bottom: 3px;\n    }\n  }\n  p {\n    margin: 0;\n  }\n`\nexport const StatusesBlock = styled.div`\n  margin: ${props => props.portable ? \"2.5px 0\": \"2.5px 0 0 5px\"};\n  display: flex;\n  max-width: ${props => props.portable ? 250 : \"100%\"}px;\n  overflow: auto hidden;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  padding: ${props => props.contains ? \"0 0 5px 0\" : \"0\"};\n  &::-webkit-scrollbar {\n    height: 2px;\n    background: white;\n  }\n  &::-webkit-scrollbar-thumb {\n    border: 3px solid lightgray;\n  }\n`\nexport const HoverTask = styled.p`\n  width: fit-content;\n  cursor: pointer;\n  margin: 0 0 2.5px 0;\n  color: #18AEFF;\n  font-weight: 600;\n`\nexport const DropdownClosestTask = styled.div`\n  border: 1px solid lightgray;\n  background: white;\n  padding: 5px;\n  > p {\n    margin: 0;\n    opacity: 0.8;\n  }\n  > .name {\n    font-weight: bold;\n  }\n`"],"sourceRoot":""}