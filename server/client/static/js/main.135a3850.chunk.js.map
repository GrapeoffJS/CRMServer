{"version":3,"sources":["url/url.js","components/home-page/sales-funnel/helpers/axios-requests.js","alert/alert.js","components/home-page/sales-funnel/sales-funnel-modal.jsx","components/restriction-message/restriction-message.js","components/form-log-In/form-log-in.js","components/error-handler/error-handler.js","components/search/server-request.js","components/search/search.js","components/home-page/return-age/returnAge.js","components/home-page/#more-functions/getLimit/getLimit.js","components/home-page/#more-functions/pagination/pagination.js","components/home-page/student/service-student/service-student.js","components/home-page/student/student.js","components/home-page/change-balance/changeBalance.js","components/home-page/group/group-page/PupilsSandTime/PupilsSandTime.js","components/home-page/group/group-logic.js","components/home-page/student/pageStudent/add-student-group-/request-add-student-group.js","components/home-page/student/pageStudent/add-student-group-/add-student-group-.js","components/home-page/student/pageStudent/add-student-group-/add-student-group-logic.js","components/home-page/student/pageStudent/Info-table/InfoTable.js","components/home-page/student/pageStudent/payment-history/paymentHistory.js","components/home-page/student/pageStudent/chat/chat-item/chat.js","components/home-page/student/pageStudent/chat/chat-item/CommentList.jsx","components/home-page/student/pageStudent/chat/styled.js","components/home-page/student/pageStudent/chat/task-item/task.styled.js","components/home-page/student/pageStudent/chat/task-item/requests/getResponsibles.js","components/home-page/student/pageStudent/chat/task-item/requests/createTask.js","components/home-page/student/pageStudent/chat/task-item/CreateTask.jsx","components/home-page/student/pageStudent/chat/task-item/requests/deleteTask.js","components/home-page/student/pageStudent/chat/task-item/requests/editDoneTask.js","components/home-page/student/pageStudent/chat/task-item/TaskComponent.jsx","components/home-page/student/pageStudent/chat/task-item/Tasks.jsx","components/home-page/student/pageStudent/chat/drawer-chat.js","components/home-page/student/pageStudent/balance/balance.js","components/home-page/student/student-statuses/logic-statuses.js","components/home-page/student/student-statuses/creating-statuses.js","components/home-page/student/student-statuses/student-statuses.js","components/home-page/student/student-statuses/list-statuses.js","components/home-page/student/pageStudent/pageStudent.js","components/home-page/group/adding-students-to-group.js","components/home-page/group/group-style.js","components/home-page/group/group.js","components/home-page/#schedule/schedule.js","components/home-page/#schedule/form/scheduleForm.js","components/home-page/#more-functions/add-student_group/add-Student_Group.js","components/home-page/group/group-page/Info-table/InfoTable.js","components/home-page/group/group-page/group-page.js","components/home-page/upload-pupils/upload-pupils.js","components/table-groups/table-groups.js","components/home-page/#more-functions/change-column/change-column.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js","components/table-pupils/table.js","components/home-page/#more-functions/сreate-columns-and-rows/style-filter.js","components/home-page/#more-functions/сreate-columns-and-rows/filter-dropdown/logics-pupils.js","components/home-page/#more-functions/сreate-columns-and-rows/filter-dropdown/filter-by-teachers.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js","components/home-page/home-page.js","components/home-page-tutor/today/lesson-now/table-pupils/write-сomment/write-comment.js","components/home-page-tutor/today/lesson-now/table-pupils/change-schedule/change-schedule.js","components/home-page-tutor/today/lesson-now/table-pupils/table-pupils.js","components/home-page-tutor/today/lesson-now/lesson-now.js","components/home-page-tutor/today/all-lesson/table-groups/table-groups.js","components/home-page-tutor/today/all-lesson/all-lesson.js","components/home-page-tutor/today/today.js","components/home-page-tutor/calendar/calendar.js","components/home-page-tutor/all-pupils/all-pupils.js","components/home-page-tutor/all-groups/all-groups.js","components/home-page-tutor/home-page-tutor.js","components/App.js","index.js","components/home-page/sales-funnel/helpers/sales-funnel-styled.js","#localStorage_change.js"],"names":["Url","axiosCreateNewStudent","url","params","a","axios","post","name","midname","surname","gender","dateOfBirth","phone","discord","parentPhone","parentFullname","salesFunnelStep","headers","localStorage","getItem","then","res","result","data","axiosUpdateStudent","id","student","patch","axiosGetFunnelSteps","pageSize","get","salesFunnelSteps","MySwalErr","withReactContent","Swal","swallErr","title","text","fire","icon","MySwaGood","swallGood","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","loading","timerInterval","html","showLoading","setInterval","content","getHtmlContainer","b","querySelector","textContent","getTimerLeft","willClose","clearInterval","RestrictionMessage","status","Swalclose","close","SalesFunnelModal","funnel","pupils","loader","bigIcon","update","defaultValueOptionFunnel","setLoaded","setPupilsList","validateDiscordNickname","RegExp","dateFormat","useState","confirmLoading","setConfirmLoading","visible","setVisible","moment","dateValue","setDateValue","inputName","setInputName","inputSurname","setInputSurname","inputMidname","setInputMidname","selectGender","setSelectGender","inputParentPhone","setInputParentPhone","inputParentFullname","setInputParentFullname","inputChildPhone","setInputChildPhone","inputDiscordNickname","setInputDiscordNickname","_id","selectSalesFunnelStep","setSelectSalesFunnelStep","deletingDataFromForm","prev","handleCancel","showModal","onFocusHandleInputMask","ev","target","value","handleOk","Error","split","filter","item","length","search","newStudent","toISOString","undefined","String","match","shift","closestTask","console","log","response","message","localStorage_change","token","removeItem","window","location","replace","style","right","className","onClick","fontSize","color","StylesForUserAddOutlined","width","onCancel","footer","type","action","method","onChange","required","placeholder","defaultValue","format","date","autoComplete","onFocus","StylesForInputMaskPhoneParentOrChild","mask","map","step","require","LogIn","styled","div","height","button","fontWeight","borderRadius","transition","borderColor","backgroundColor","label","input","background","i","cursor","FormlogIn","setUser","icons","eye","setEye","valuePassword","setValuePassword","valueLogin","setValueLogin","disabled","setDisabled","setMessage","inputBorder_L","set_I_Border_L","inputBorder_P","set_I_Border_P","valueChangeL","valueChangeP","opacityBtn","InputBorder_L_Style","InputBorder_P_Style","Button","regLogin","regPassword","FormSubmit","e","preventDefault","test","login","password","setItem","catch","error","onSubmit","htmlFor","errorHandler","onFunction","additionalActions","forEach","fnc","serverRequest","setData","localUrl","tutorid","functionsONsuccess","body","hits","Box","paddingBottom","renderItem","obj","to","display","justifyContent","SearchAll","Data","Value","setValue","useEffect","document","getElementById","focus","typingTimer","renderTitle","options","_source","push","group_name","onSearchInput","clearTimeout","setTimeout","encodeURI","onSearch","dropdownClassName","dropdownMatchSelectWidth","defaultOpen","size","ReturnAge","year","diff","getLimit","Math","round","documentElement","clientHeight","PaginationG","offset","setOffset","count","PaginationI","margin","defaultPageSize","defaultCurrent","total","showSizeChanger","getFunnel","set","box","param","filtersGroups","setUsers","setCount","filtersLocal","key","groups","ages","balance","$gte","$lt","$lte","p","filters","trashUser","offsetG","mq","bp","TableL","padding","paddingTop","whiteSpace","Student","setOffsetG","Count","setFunnel","phoneNumber","parentPhoneNumber","discordNickname","statuses","users","querySelectorAll","dataSource","trash","tutor","getColumn","dataIndex","columns","render","pagination","scroll","x","loaded","pupilsList","Change_Balance","sym","pupil_id","updeteStudent","Change","subscription","group_id","returnBalance","urlLocal","Authorization","PupilsSandTime","itemG","dataGroup","getGroup_Id","pageInfo","visibleNumber","setVisibleNumber","fixedSchedule","setFixedSchedule","ScheduleItem","localSchedule","dataS","setDataS","Abic","setAbic","axiosPut","mass","ChangeBalic","statusText","liAbic","abic","Item","arr","n","index","hoursCount","paid","updete","price","href","menu","SchedulePupils","breakpoints","Div_box","borderBottom","marginBottom","top","left","zIndex","overflowY","h4","marginRight","maxHeight","overflow","marginTop","overflowX","Span","ul","border","span","textarea","day","opacity","time","time_day","changeDayIndex","addNotes","colorTitle","menuItem","aria-label","visibleLocal","onVisibleChange","s","overlay","trigger","urlPage","page","LinkItem","oplata","decode","accountType","placement","group","pupil","marginLeft","defaultProps","sortingSearchResponses","setArrayEligibleStudents","arrPupils","_index","requestAddStudentGroup","groupId","studentId","callBefore","ids","AddStudentGroup","getStudent_Id","useParams","isModalVisible","setIsModalVisible","ArrayEligibleGroups","setArrayEligibleGroups","SuitableGroups","resData","spanGroup","AppstoreAddOutlined","onOk","InfoTable","dataStudent","updetePage","newInfo","onChangeInfoItem","menuSurname","menuName","menuMidname","menuParentPhone","menuPhone","menuDiscord","_d","PayHistory","pay_History","pay_HistoryLocal","liInc","unshift","amount","issuer","liDec","h3","li","TextArea","Input","Chat","commentsObj","block","scrollTop","scrollHeight","UserName","comments","setComments","submitting","setSubmitting","rows","htmlType","handleSubmit","author","datetime","locale","CommentList","header","itemLayout","props","DivDrawerStyles","WrapperTasks","opened","CreateTask","SelectResponsible","AccountTypeSpan","SubmitButton","OpacityParagraph","DeleteButton","WrapperTaskComponent","done","CheckboxContainer","getResponsibles","query","authorization","createTask","newTask","taskFromServer","CreateTaskComponent","fio","setRelTasks","responsibles","setResponsibles","selectedResponsible","setSelectedResponsible","setSearch","setOpened","setTitle","setText","deadline","setDeadline","setType","getResponsiblesCallback","useCallback","responsiblesFromReq","onClickSubmit","taskName","typeNumber","responsible","for","replaceAll","isBefore","createdTask","DoubleLeftOutlined","Number","defaultChecked","showTime","el","deleteTask","delete","editDoneTask","TaskComponent","task","setDone","resFIO","Array","isArray","Object","onClickDeleteTask","onChangeEditDone","checked","CloseOutlined","Tasks","tasks","relTasks","idx","DrawerChat","notes","notesLocal","notesGlobal","COMEN","Fragment","closable","onClose","Balance","balance_item","pageStudent_id","setBalance","incBalance","colors","updateStatuses","setLoading","createStatus","setStatuses","Statuses","floor","random","onDelete","attachStatus","statuses_id","updateStudent","student_id","CreatingStatuses","studentStatuses","globalStatuses","onPressEnter","status_statuses","status_id","DeleteOutlined","StudentStatuses","studentStatusesGlobal","setGlobalStatuses","paddingLeft","lineHeight","DownOutlined","active","ListStatuses","items","StudentPage","paddingRight","borderRight","h5","TablePupils","PageStudent","paymentHistory","onSuccess","arrIdSch","groups_id","PupilsSandTimeGroup","AddingStudentsToGroup","addStudent","addedStudents","ArrayEligibleStudents","SuitableStudents","permitted","setStudent","AddedStudentButton","removeStudent","Table","Form","form","Group","setAvailableStudents","setPUPILS_search","availableTutor","setAvailableTutor","setGroups","getPupils","getGroup","getTUTOR","A_Tutor","setPupils","setGROUP_NAME","places","setPLACES","setTUTOR","level","setLEVEL","dataInput","tableGroup","global_schedule","PUPILS01","tutorText","duration","scope","trashGroup","PUPILS_ID","newArr","SchedulE","Schedule","SpanDay","ScheduleForm","updateGroup","groupID","dataInputs","startDate","endDate","duration_Start","duration_End","weekDay","one","two","three","four","five","six","zero","schedule","FindNeedle","academicHours","dayNumber","day_end","day_number","inc","PushDay","scheduleItem","Li","AddStydent_Group","pageId","changeSchedulePupil","idPupil","newSchedule","addPUPILS_Group","PUPILS_search_Li","Data_ALL","PUPILS0","AllTutor","setAllTutor","onChangeInfo","menuGROUP_NAME","menuTutor","menuLEVEL","menuPLACES","changeData","data_name","GroupPage","DataALL","setDataALL","arrPayHistory","itemLocal","PUPILS_List","PUPILSandTIME","addPupils_g","UploadPupils","accept","info","file","statusCode","join","TableGroups","setParamFilrers","paramFilrers","td","sorter","extra","con","MenuFoldOutlined","Create_Columns_Rows_Groups","dataObj","setDataObj","loadingButtomFilrer","setLoadingButtomFilrer","filterDropdownVisible","setFilterDropdownVisible","g","setG","l","setL","setP","o","setO","setN","t","setT","Tutors","setTutors","addTUTOR","occupied","CheckboxValue","globalFilters","setGlobalFilters","handleSearch","selectedKeys","confirm","FiltersLocal","DataSource","NUMBER_PUPILS","BoxButtom","svg","filtersTutors","Columns","filterDropdown","setSelectedKeys","clearFilters","dataFilters","SearchOutlined","paramLocal","filterIcon","CloseCircleOutlined","onFilterDropdownVisibleChange","Visible","per","defaultFilteredValue","Table_Pupils","dataGroupsChecked","scrollLeft","itemPupils","filterStatuses","dataStatusesCheck","setFilterAxios","keys","FilterFilled","FilterByTeachers","Create_Columns_Rows_Pupils","ValueGroup","setValueGroup","setDataStatusesCheck","objPupils","setObjPupils","setScrollLeft","age","emptyAge","setEmptyAge","emptyAgeLocal","globalFiltersG","setGlobalFiltersG","setS","m","setM","setA","pF","setPF","PhoneTitle","setPhoneTitle","setB","d","setD","gr","setGr","st","setSt","setDataGroupsChecked","GroupsCheckedF","setGroupsCheckedF","heapGroups","dataGroupsCheck","emptyAgeGet","getColumnSearchProps","searchGroups","SearchGroups","FILTER","SET_FILTER","SalesFunnel","React","lazy","Sider","Layout","SubMenu","Menu","HomePage","logOut","collapsed","setCollapsed","Vag","bottom","minHeight","collapsible","onCollapse","theme","defaultSelectedKeys","mode","UploadOutlined","click","UserOutlined","TeamOutlined","FunnelPlotOutlined","DatabaseOutlined","LogoutOutlined","exact","path","component","children","Suspense","fallback","writeComment","changeSchedule","getUser","Column","ColumnGroup","ID_Group","GLOBAL_ARR_PUPILS","set_GLOBAL_ARR_DAY","GLOBAL_ROW_KEY","set_GLOBAL_ROW_KEY","ARR_PUPILS","RowKeys","onRowKeys","Notes","start","finish","onChangeStatys","titlePupil","progres","rowSelection","selectedRowKeys","onSelect","onSelectAll","onBlur","autoSize","minRows","maxRows","LessonNowStyle","Text","Typography","LessonNow","rowKey","setRowKey","GROUP","G","indexD","Groups","newGroup","setGROUP","groupName","AllLesson","gro","Today","indexHours","timeN","groupsAll","dataLes_l","itemGL","indexN","groupCon","indexGroup","sort","itemIN","item2","splice","Content","fixed","СalendarStyle","GroupsANDpupils","Сalendar","columns2","itemf","data2","wekDay","wek_day","finalDate","hours","bordered","AllPupilsBox","AllPupils","AllGroupsBox","AllGroups","free_places","jwt","HomePageTutor","role","user","Pupils","getGroups","l_user","mass_id","ClockCircleOutlined","CalendarOutlined","App","ReactDOM","VisibilitySpan","Wrapper","FunnelSection","jstctn","FlexFunnelElement","FunnelStep","FunnelStepHeader","FunnelStepAbonementSum","FunnelStepText","FunnelStepStudent","StatusesBlock","contains","HoverTask","DropdownClosestTask"],"mappings":"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","file":"static/js/main.135a3850.chunk.js","sourcesContent":["const Url = 'http://crm.3place.ru' // https://dvmncrm.herokuapp.com\nexport default Url\n\n// lcp --proxyUrl https://dvmncrm.herokuapp.com/\n// http://crm.3place.ru\n// http://crmedu.3place.ru\n// list --depth=0\n// http://localhost:8010/proxy\n\n\n// client","// imports from plugins\nimport axios from \"axios\"\n\n// imports from files of project\n\nconst status = 1\nconst token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxNWRkNTUzOTZmNWNlMDJiYjY4NTc3MiIsImxvZ2luIjoiaWRtaXRyaXl3aW54IiwibmFtZSI6ItCc0LDQutGB0LjQvCIsInN1cm5hbWUiOiLQkdC10YDQstC40L3QvtCyIiwibWlkbmFtZSI6Ii4uLiIsImFjY291bnRUeXBlIjoibWFuYWdlciIsImlhdCI6MTYzMzU0MDEyNywiZXhwIjoxNjMzNTY4OTI3fQ.O7HLLdJLz2VevFL6tc2Qa1lrukahQIw5Rbh-ZKuQTCo\"\n\n// Student\nexport const axiosCreateNewStudent = async (url, params) => {\n  let result\n\n  await axios.post(`${url}/CRM/Pupils`, {\n    name: params.name,\n    midname: params.midname,\n    surname: params.surname,\n    gender: params.gender,\n    dateOfBirth: params.dateOfBirth,\n    phone: params.phone,\n    discord: params.discord,\n    parentPhone: params.parentPhone,\n    parentFullname: params.parentFullname,\n    salesFunnelStep: params.salesFunnelStep\n  }, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  }).then(res => result = res.data)\n\n  return result\n}\nexport const axiosUpdateStudent = async (url, id, student) => {\n  await axios.patch(`${url}/CRM/Pupils/${id}`, student, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  })\n}\n// Student\n\n// Funnel\nexport const axiosGetFunnelSteps = async (url, pageSize = 1000) => {\n\n  let salesFunnelSteps\n  await axios.get(`${url}/CRM/SalesFunnel?limit=${pageSize}`, {\n    headers: {\n      'Content-Type': 'application/jsoncharset=utf-8',\n      'Authorization': `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`\n    }\n  })\n    .then(res => salesFunnelSteps = res.data)\n\n  return salesFunnelSteps\n}\n// Funnel\n","import React from 'react';\n\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\nconst MySwalErr = withReactContent(Swal);\n\nexport const swallErr = (title, text) => {\n    MySwalErr.fire({\n        icon: \"error\",\n        title: title,\n        text: text,\n    });\n};\n\nconst MySwaGood = withReactContent(Swal);\n\nexport const swallGood = (title = '', text = '') => {\n    MySwaGood.fire({\n        icon: \"success\",\n        title: title,\n        text: text,\n    });\n};\n\nexport const Toast = Swal.mixin({\n    toast: true,\n    position: 'top-end',\n    showConfirmButton: false,\n    timer: 3000,\n    timerProgressBar: true,\n    didOpen: (toast) => {\n        toast.addEventListener('mouseenter', Swal.stopTimer)\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\n    }\n});\n\nexport const loading = (title = 'Загрузка...', text = '') => {\n    let timerInterval\n    Swal.fire({\n      title: title,\n      html: text,\n      timerProgressBar: true,\n      didOpen: () => {\n        Swal.showLoading()\n        timerInterval = setInterval(() => {\n          const content = Swal.getHtmlContainer()\n          if (content) {\n            const b = content.querySelector('b')\n            if (b) {\n              b.textContent = Swal.getTimerLeft()\n          }\n      }\n  }, 100)\n    },\n    willClose: () => {\n        clearInterval(timerInterval)\n    }\n})\n}\n\nexport const RestrictionMessage = status => {\n    if (status == 403) {\n        Toast.fire({\n            icon: 'error',\n            title: 'У вас недостаточно прав для этого действия'\n        });\n    }\n}\n\nexport const Swalclose = () => {\n    Swal.close();\n}","// imports from plugins\r\nimport React, {useState} from \"react\"\r\nimport {Button, DatePicker, Input, Modal} from \"antd\"\r\nimport moment from \"moment\"\r\nimport InputMask from \"react-input-mask\"\r\nimport {UserAddOutlined} from \"@ant-design/icons\"\r\n\r\n// imports from files of project\r\nimport {\r\n  FlexFunnelElement,\r\n  StylesForInputMaskPhoneParentOrChild,\r\n  StylesForUserAddOutlined\r\n} from \"./helpers/sales-funnel-styled\"\r\nimport {axiosCreateNewStudent} from \"./helpers/axios-requests\"\r\nimport {swallErr, swallGood} from \"../../../alert/alert\"\r\nimport RestrictionMessage from \"../../restriction-message/restriction-message\"\r\nimport localStorage_change from \"../../../#localStorage_change\"\r\n\r\nexport const SalesFunnelModal = ({\r\n                                   funnel,\r\n                                   Url,\r\n                                   pupils,\r\n                                   status,\r\n                                   loader,\r\n                                   bigIcon = false,\r\n                                   update = () => {\r\n                                   },\r\n                                   defaultValueOptionFunnel = ''\r\n                                 }) => {\r\n\r\n  // data\r\n  const {setLoaded} = loader\r\n  const {setPupilsList} = pupils\r\n  const validateDiscordNickname = new RegExp(/\\w+#[0-9]{4}/)\r\n  //const validateChildPhoneAndParent = new RegExp(/^((\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/)\r\n  const dateFormat = \"DD-MM-YYYY\"\r\n  // data\r\n\r\n  // useState\r\n  const [confirmLoading, setConfirmLoading] = useState(false)\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const [dateValue, setDateValue] = useState(moment(\"01-01-2021\", dateFormat))\r\n  const [inputName, setInputName] = useState(\"\")\r\n  const [inputSurname, setInputSurname] = useState(\"\")\r\n  const [inputMidname, setInputMidname] = useState(\"\")\r\n  const [selectGender, setSelectGender] = useState(\"\")\r\n  const [inputParentPhone, setInputParentPhone] = useState(\"\")\r\n  const [inputParentFullname, setInputParentFullname] = useState(\"\")\r\n  const [inputChildPhone, setInputChildPhone] = useState(\"\")\r\n  const [inputDiscordNickname, setInputDiscordNickname] = useState(\"\")\r\n  const [selectSalesFunnelStep, setSelectSalesFunnelStep] = useState(funnel[0]._id)\r\n  // useState\r\n\r\n  // Methods\r\n  //// onChangeHandlers\r\n  const onChangeHandlerSelectSalesFunnelId = (ev) => {\r\n    setSelectSalesFunnelStep(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerInputDiscrodNickname = (ev) => {\r\n    setInputDiscordNickname(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerInputChildPhone = (ev) => {\r\n    setInputChildPhone(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerInputParentFullname = (ev) => {\r\n    setInputParentFullname(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerInputParentPhone = (ev) => {\r\n    setInputParentPhone(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerSelectGender = (ev) => {\r\n    setSelectGender(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerInputMidname = (ev) => {\r\n    setInputMidname(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerInputSurname = (ev) => {\r\n    setInputSurname(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerInputName = (ev) => {\r\n    setInputName(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeHandlerDatePicker = (date) => {\r\n    setDateValue(prev => prev = date)\r\n  }\r\n  //// onChangeHandlers\r\n\r\n  const deletingDataFromForm = () => {\r\n    setInputName(prev => prev = \"\")\r\n    setInputSurname(prev => prev = \"\")\r\n    setInputMidname(prev => prev = \"\")\r\n    setDateValue(prev => prev = moment(\"01-01-2021\", dateFormat))\r\n    setSelectGender(prev => prev = \"\")\r\n    setInputParentFullname(prev => prev = \"\")\r\n    setInputDiscordNickname(prev => prev = \"\")\r\n  }\r\n  const handleCancel = () => {\r\n    setVisible(false)\r\n    deletingDataFromForm()\r\n  }\r\n  const showModal = () => {\r\n    setVisible(true)\r\n  }\r\n  const onFocusHandleInputMask = (ev) => ev.target.value = ''\r\n  const handleOk = async () => {\r\n    try {\r\n      setConfirmLoading(true)\r\n      if (selectGender === \"\") {\r\n        swallErr(\"Ошибка!\", \"Не указан пол\")\r\n        throw new Error(\"Не указан пол\")\r\n      }\r\n      if (!(inputParentFullname.split(\" \").filter(item => item !== \"\").length === 3)) {\r\n        swallErr(\"Ошибка!\", \"ФИО Родителя введены неверно\")\r\n        throw new Error(\"ФИО Родителя введены неверно\")\r\n      }\r\n      if (inputDiscordNickname !== \"\" && inputDiscordNickname.search(validateDiscordNickname) === -1) {\r\n        swallErr(\"Ошибка!\", \"Ник в дискорде был введён не верно, проверьте наличие '#' и цифр после неё, а так же русских букв\")\r\n        throw new Error(\"Ник в дискорде был введён не верно, проверьте наличие '#' и цифр после неё, а так же русских букв\")\r\n      }\r\n      if (!selectSalesFunnelStep) {\r\n        swallErr(\"Ошибка!\", \"Этап в воронке не выбран\")\r\n        throw new Error(\"Этап в воронке не выбран\")\r\n      }\r\n      const newStudent = {\r\n        name: inputName,\r\n        surname: inputSurname,\r\n        midname: inputMidname,\r\n        gender: selectGender,\r\n        dateOfBirth: dateValue.toISOString(),\r\n        phone: inputChildPhone || undefined,\r\n        discord: inputDiscordNickname !== \"\" ? String(inputDiscordNickname.match(validateDiscordNickname).shift()) : undefined,\r\n        parentPhone: inputParentPhone,\r\n        parentFullname: inputParentFullname,\r\n        salesFunnelStep: selectSalesFunnelStep\r\n      }\r\n      const student = await axiosCreateNewStudent(Url, newStudent)\r\n      swallGood(\"Успешно!\", \"Пользователь создан!\")\r\n      update()\r\n      // if (pupilsList.filter(stud => stud.salesFunnelStep === newStudent.salesFunnelStep).length >= pageSize) {\r\n      await setPupilsList(prev => [...prev, {...student, closestTask: []}])\r\n      setLoaded((prev => prev = true))\r\n      setLoaded((prev => prev = false))\r\n      // }\r\n      setVisible(false)\r\n      setConfirmLoading(false)\r\n      deletingDataFromForm()\r\n    } catch (err) {\r\n      if (!status) console.log(err)\r\n      setVisible(true)\r\n      setConfirmLoading(false)\r\n      if (err.response) {\r\n        RestrictionMessage(err.response.status)\r\n        let {status, data} = err.response\r\n        if (status === 400) {\r\n          swallErr(\"Не верно введены данные\")\r\n        }\r\n        if (data.message === \"TOKEN_EXPIRED\") {\r\n          localStorage_change(data.token)\r\n        }\r\n        if (status === 401) {\r\n          localStorage.removeItem(\"tokenID\")\r\n          window.location.replace(\"/\")\r\n        }\r\n        if (status === 500) {\r\n          swallErr(\"Ошибка сервера\")\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Methods\r\n\r\n  return (\r\n    <>\r\n      {bigIcon ?\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            right: 0\r\n          }}\r\n          className=\"collapse d-flex flex-row-reverse\"\r\n          id=\"navbarScroll\">\r\n          <div className=\"d-flex plus-box\">\r\n            <div\r\n              className=\"nav-item plus\"\r\n              onClick={showModal}\r\n            >\r\n              <i\r\n                className=\"bi bi-person-plus\"\r\n                style={{\r\n                  fontSize: '38px',\r\n                  color: '#F56767'\r\n                }}\r\n              ></i>\r\n            </div>\r\n          </div>\r\n        </div> :\r\n        <UserAddOutlined style={StylesForUserAddOutlined} onClick={showModal}/>\r\n      }\r\n      <Modal width={900} title=\"Создание ученика\" visible={visible} onCancel={handleCancel} footer={[\r\n        <Button key=\"back\" onClick={handleCancel}>\r\n          Отмена\r\n        </Button>,\r\n        <Button\r\n          key=\"submit\"\r\n          onClick={handleOk}\r\n          loading={confirmLoading}\r\n          type=\"primary\"\r\n        >\r\n          Добавить\r\n        </Button>\r\n      ]}>\r\n        <form action=\"#\" method=\"POST\">\r\n          <FlexFunnelElement>\r\n            <p>Имя:</p>\r\n            <Input onChange={onChangeHandlerInputName} value={inputName} required/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Фамилия:</p>\r\n            <Input onChange={onChangeHandlerInputSurname} value={inputSurname} required/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Отчество:</p>\r\n            <Input onChange={onChangeHandlerInputMidname} value={inputMidname} required/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Возраст:</p>\r\n            <DatePicker className=\"form-control\" placeholder=\"ГГГГ.ММ.ДД\"\r\n                        defaultValue={moment(\"01-01-2021\", dateFormat)} format={dateFormat}\r\n                        onChange={onChangeHandlerDatePicker}/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>ФИО Родителя:</p>\r\n            <Input onChange={onChangeHandlerInputParentFullname} value={inputParentFullname} required\r\n                   placeholder=\"Фамилия Имя Отчество\"/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Ник в дискорде:</p>\r\n            <Input onChange={onChangeHandlerInputDiscrodNickname} value={inputDiscordNickname}\r\n                   placeholder=\"Необязательно\"/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Номер телефона ребёнка:</p>\r\n            <InputMask autoComplete=\"off\" onChange={onChangeHandlerInputChildPhone}\r\n                       onFocus={onFocusHandleInputMask}\r\n                       style={StylesForInputMaskPhoneParentOrChild} type=\"tel\" name=\"tel\"\r\n                       className=\"form-control\"\r\n                       mask=\"+9 (999) 999-99-99\" placeholder=\"Необязательно\"/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Номер телефона родителя:</p>\r\n            <InputMask autoComplete=\"off\" onChange={onChangeHandlerInputParentPhone}\r\n                       onFocus={onFocusHandleInputMask}\r\n                       style={StylesForInputMaskPhoneParentOrChild} type=\"tel\" name=\"tel\"\r\n                       className=\"form-control\"\r\n                       mask=\"+9 (999) 999-99-99\"/>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Пол:</p>\r\n            <select onChange={onChangeHandlerSelectGender} name=\"gender\" value={selectGender}\r\n                    className=\"form-control\"\r\n                    required>\r\n              <option defaultValue></option>\r\n              <option value=\"Мужской\">Мужской</option>\r\n              <option value=\"Женский\">Женский</option>\r\n            </select>\r\n          </FlexFunnelElement>\r\n          <FlexFunnelElement>\r\n            <p>Воронка:</p>\r\n            <select className=\"form-control\" name=\"salesFunnelId\" value={selectSalesFunnelStep}\r\n                    onChange={onChangeHandlerSelectSalesFunnelId}>\r\n              {defaultValueOptionFunnel}\r\n              {funnel.map(step => {\r\n                if (funnel[0]._id === step._id) {\r\n                  return <option key={step._id} value={step._id} defaultValue>{step.name}</option>\r\n                }\r\n                return <option key={step._id} value={step._id}>{step.name}</option>\r\n              })}\r\n            </select>\r\n          </FlexFunnelElement>\r\n        </form>\r\n      </Modal>\r\n    </>\r\n  )\r\n}","import { Toast } from '../../alert/alert.js'\n\nconst RestrictionMessage = status => {\n\tif (status == 403) {\n\t\tToast.fire({\n\t\t\ticon: 'error',\n\t\t\ttitle: 'У вас недостаточно прав для этого действия'\n\t\t});\n\t}\n}\n\nexport default RestrictionMessage","import React, {useState, useEffect} from 'react';\nimport './form-log-in.css';\nimport Url from '../../url/url.js';\n\nimport {swallErr, Toast} from './../../alert/alert.js';\nimport RestrictionMessage from '../restriction-message/restriction-message.js'\n\nimport styled from '@emotion/styled';\n\nconst axios = require('axios'); // AJAX\n\nconst LogIn = styled.div({\n    height: '500px',\n    button: {\n        fontWeight: 'bold',\n        fontSize: '21px',\n        width: '150px',\n        borderRadius: '19px',\n        transition: '0.3s',\n        borderColor: '#007bff',\n        color: '#000',\n        '&:hover': {\n            transition: '0.3s',\n            backgroundColor: '#f7d99f'\n        }\n    },\n    label: {\n        fontSize: '24px',\n        fontWeight: '400'\n    },\n    input: {\n        color: '#000',\n        fontSize: '20px'\n    },\n    'input[type=text]': {\n        background: 'none'\n    },\n    'input[type=password]': {\n        background: 'none'\n    },\n    i: {\n        cursor: 'pointer'\n    }\n});\n\nconst FormlogIn = ({setUser}) => {\n\n    const [eye, setEye] = useState({\n        icons: 'bi-eye-fill',\n        type: 'password'\n    }); // bi-eye-slash-fill\n    const [valuePassword, setValuePassword] = useState(''),\n        [valueLogin, setValueLogin] = useState('');\n\n    const [disabled, setDisabled] = useState('submit');\n\n    // Message\n    const [message, setMessage] = useState('Логин');\n\n    // Style state\n    const [inputBorder_L, set_I_Border_L] = useState(''),\n        [inputBorder_P, set_I_Border_P] = useState('');\n\n\n    let valueChangeL = valueLogin,\n        valueChangeP = valuePassword;\n\n    const showPassword = () => {\n        setValuePassword(valueChangeP);\n        setValueLogin(valueChangeL);\n\n        if (eye.icons === 'bi-eye-fill') {\n            setEye({\n                icons: 'bi-eye-slash-fill',\n                type: 'text'\n            });\n        } else {\n            setEye({\n                icons: 'bi-eye-fill',\n                type: 'password'\n            });\n        }\n    }\n\n    // Alert\n    const swallGood = () => {\n        Toast.fire({\n            icon: 'success',\n            title: 'Вы успешно вошли в систему'\n        });\n    }\n    // \\alet\n\n    let opacityBtn = '1';\n\n    if (disabled === 'button') {\n        opacityBtn = '0.3';\n    }\n\n    const InputBorder_L_Style = styled.input`\n      border: ${inputBorder_L};\n    `\n    const InputBorder_P_Style = styled.input`\n      border: ${inputBorder_P};\n    `\n    const Button = styled.button`\n      opacity: ${opacityBtn};\n    `\n\n// =============\n\n\n    let regLogin = new RegExp(/^[\\w\\d\\W]{1,40}$/),\n        regPassword = new RegExp(/^.{1,40}$/);\n\n    // console.log(regPassword.test(name));\n\n    const FormSubmit = async (e) => {\n\n        setValuePassword(valueChangeP);\n        setValueLogin(valueChangeL);\n        setMessage('Логин');\n\n        e.preventDefault();\n\n        if (!regLogin.test(valueChangeL)) {\n            set_I_Border_L('2px solid red');\n        } else {\n            set_I_Border_L('');\n        }\n        if (!regPassword.test(valueChangeP)) {\n            set_I_Border_P('2px solid red');\n        } else {\n            set_I_Border_P('');\n        }\n\n        if (regLogin.test(valueChangeL) & regPassword.test(valueChangeP)) {\n            setDisabled('button');\n\n            axios({\n                method: 'post',\n                url: `${Url}/auth`,\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8'\n                },\n                data: {\n                    login: valueChangeL,\n                    password: valueChangeP\n                }\n            })\n            .then((res) => {\n                localStorage.setItem('tokenID', res.data.token)\n                // jwt.decode(localStorage.getItem('tokenID')\n\n                setValuePassword('');\n                setValueLogin('');\n                setDisabled('submit');\n                swallGood();\n                setUser(valueChangeL);\n            })\n            .catch((error) => {\n                if (error.response) {\n                    RestrictionMessage(error.response.status)\n                    let {status} = error.response;\n                    if (status === 400) {\n                        swallErr('Ой..', 'Пользователя не существует');\n                        set_I_Border_L('2px solid red');\n                        set_I_Border_P('2px solid red');\n                        setDisabled('submit');\n                    } else {\n                        setDisabled('submit');\n                    }\n                }\n            });\n        }\n    };\n\n    return (\n        <LogIn className=\"LogIn container d-flex align-items-center justify-content-center\">\n            <form\n                onSubmit={FormSubmit}\n                key={'form1'} className=\"col-md-8 col-12\">\n                <fieldset>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">{message}</label>\n                        <InputBorder_L_Style\n                            required\n                            onChange={(e) => {\n                                valueChangeL = e.target.value\n                            }}\n                            defaultValue={valueLogin} autoComplete=\"current-password\" type=\"name\"\n                            className=\"form-control\" name='login' id=\"exampleInputEmail1\"/>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Пароль</label>\n                        <InputBorder_P_Style\n                            required\n                            onChange={(e) => {\n                                valueChangeP = e.target.value\n                            }}\n                            defaultValue={valuePassword} autoComplete=\"current-password\" type={`${eye.type}`}\n                            className=\"form-control\" name=\"password\" id=\"exampleInputPassword1\"/>\n                        <div className=\"password-control\">\n                            <div className=\"d-flex justify-content-end\">\n                                <i onClick={showPassword} className={`bi ${eye.icons}`}\n                                   style={{fontSize: '28px', color: '#F5896C'}}></i>\n                            </div>\n                        </div>\n                    </div>\n                    <Button\n                        type={disabled} className=\"btn\">Войти\n                    </Button>\n                </fieldset>\n            </form>\n        </LogIn>\n    );\n};\n\nexport default FormlogIn;","import {RestrictionMessage} from './../../alert/alert'\r\nimport localStorage_change from './../../#localStorage_change';\r\nimport {swallErr} from \"../../alert/alert\";\r\n\r\nconst errorHandler = (onFunction, error, ...additionalActions) => {\r\n    if (error.response) {\r\n        additionalActions.forEach(fnc => {fnc()})\r\n        RestrictionMessage(error.response.status)\r\n        let {status, data} = error.response;\r\n\r\n        if (data.message === 'Bad Request') {\r\n            swallErr('Не возможно удалить воронку в которой есть ученик');\r\n        } else if (status == 404) {\r\n            swallErr('Сервер не найден');\r\n        } else if (status == 401) {\r\n\r\n            if (data.message == 'TOKEN_EXPIRED') {\r\n\r\n                localStorage_change(data.token);\r\n                onFunction();\r\n            } else {\r\n                localStorage.removeItem('tokenID');\r\n                window.location.replace(\"/\");\r\n            }\r\n        } else if (status == 500) {\r\n            swallErr('Ошибка сервера');\r\n        } else if (status == 400) {\r\n            swallErr('Не верно введены данные');\r\n        }\r\n    }\r\n}\r\n\r\nexport default errorHandler","import errorHandler from './../error-handler/error-handler'\r\nimport Url from './../../url/url'\r\nconst axios = require(\"axios\");\r\n\r\nexport const serverRequest = (setData, localUrl, tutorid = '', functionsONsuccess = []) => {\r\n\r\n    axios({\r\n        method: 'get',\r\n        url: `${Url}/CRM/Search/autocompletion?query=${localUrl}${tutorid}`,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        }\r\n    })\r\n        .then((res) => {\r\n            functionsONsuccess.forEach(fnc => {\r\n                fnc()\r\n            })\r\n            setData(res.data.body.hits.hits)\r\n        })\r\n        .catch((error) => {\r\n            errorHandler(serverRequest, error)\r\n        })\r\n}","import React, {useState, useEffect} from 'react';\nimport {serverRequest} from './server-request'\n\nimport {Link} from \"react-router-dom\";\n\nimport {Input, AutoComplete} from 'antd';\n\nimport styled from '@emotion/styled';\n\nconst Box = styled.div({\n    height: '30px',\n    input: {\n        height: '30px'\n    },\n    '.ant-input-search-button': {\n        paddingBottom: 'none'\n    }\n})\n\nconst renderItem = (title, obj) => {\n\n    let url = `/student/${obj.id}`\n\n    if (obj.type == 'pupil') {\n        url = `/student/${obj.id}`\n    } else {\n        url = `/group/${obj.id}`\n    }\n\n    return ({\n        value: title,\n        label: (\n            <Link\n                className=\"link-info\"\n                to={url}\n                style={{\n                    display: 'flex',\n                    justifyContent: 'space-between'\n                }}>\n\n                {title}\n            </Link>\n        ),\n    })\n};\n\nconst SearchAll = ({tutorid = ''}) => {\n\n    const [Data, setData] = useState([])\n    const [Value, setValue] = useState('')\n\n    useEffect(() => {\n        document.getElementById('Search').focus();\n    });\n\n    const onSearch = (value) => {\n\n        let localUrl = encodeURI(value)\n\n        serverRequest(setData, localUrl, tutorid, [() => {\n            setValue(value)\n        }])\n    }\n\n    const renderTitle = (title) => (\n        <span>\n      {title}\n    </span>\n    );\n\n    const options = [\n        {\n            label: renderTitle('Ученики'),\n            options: [],\n        },\n        {\n            label: renderTitle('Группы'),\n            options: [],\n        }\n    ];\n\n    Data.forEach(item => {\n\n        if (item._source.type == 'pupil') {\n\n            let {surname, name, midname} = item._source\n            options[0].options.push(renderItem(`${surname} ${name} ${midname}`, item._source))\n\n        } else {\n            let {group_name} = item._source\n            options[1].options.push(renderItem(group_name, item._source))\n        }\n    })\n\n    let typingTimer                //timer identifier\n    let doneTypingInterval = 500  //time in ms (5 seconds)\n\n    const onSearchInput = (text) => {\n        clearTimeout(typingTimer)\n        if (text) {\n            typingTimer = setTimeout(() => {\n                onSearch(text)\n            }, doneTypingInterval);\n\n        } else {\n            setValue('')\n            setData([])\n        }\n    }\n\n\n    return (\n        <Box>\n            <AutoComplete\n                dropdownClassName=\"certain-category-search-dropdown\"\n                dropdownMatchSelectWidth={500}\n                // style={{ width: 250 }}\n                options={options}\n                defaultOpen={() => {\n                    if (Value) {\n                        return true\n                    } else {\n                        return false\n                    }\n                }} // открывает поиск при рендеринге\n                defaultValue={`${Value}`}\n                onSearch={(text) => {\n                    onSearchInput(text)\n                }}\n                id='Search'>\n\n                <Input size=\"large\" placeholder=\"Поиск по CRM\"/>\n            </AutoComplete>\n        </Box>\n    );\n}\n\nexport default SearchAll","import moment from 'moment';\n\nconst ReturnAge = (data) => {\n\n    let year = moment(data).format('YYYY-MM-DD') // , 'YYYY-MM-DD'\n\n    let dateOfBirth = moment().diff(year, 'years')\n\n    return dateOfBirth ? dateOfBirth : 'Не указан';\n}\n\nexport default ReturnAge","const getLimit = Math.round(document.documentElement.clientHeight / 55) - 2\r\nexport default getLimit","import React from \"react\"\r\n\r\nimport { Pagination } from \"antd\"\r\nimport \"antd/dist/antd.css\"\r\nimport getLimit from \"./../../#more-functions/getLimit/getLimit.js\"\r\n\r\n// Style\r\nimport styled from \"@emotion/styled\"\r\n\r\nconst PaginationG = ({offset, setOffset, getItem, count}) => {\r\n\r\n\tconst PaginationI = styled.div({\r\n\t\tmargin: '3px 3px 20px 3px',\r\n\t\t'.ant-pagination-item-link': {\r\n\t\t\theight: '34px'\r\n\t\t}\r\n\t})\r\n\r\n\tconsole.log(offset / getLimit + 1)\r\n\r\n\treturn (\r\n\t\t<PaginationI>\r\n\t\t\t<Pagination \r\n\t\t\t\tdefaultPageSize={getLimit}\r\n\t\t\t\tdefaultCurrent={offset / getLimit + 1} \r\n\t\t\t\ttotal={count} \r\n\t\t\t\tshowSizeChanger={false} \r\n\t\t\t\tonChange={(i) => {\r\n\t\t\t\t\tsetOffset((i-1) * getLimit)\r\n\t\t\t\t\tgetItem((i-1) * getLimit)\r\n\t\t\t\t}}/>\r\n\t\t</PaginationI>\r\n\t)\r\n}\r\n\r\nexport default PaginationG","import {axiosGetFunnelSteps} from \"../../sales-funnel/helpers/axios-requests\";\r\nimport Url from \"../../../../url/url\";\r\nimport axios from \"axios\";\r\nimport getLimit from \"../../#more-functions/getLimit/getLimit\";\r\nimport errorHandler from \"../../../error-handler/error-handler\";\r\n\r\nconst getFunnel = async (set) => {\r\n    let box = await axiosGetFunnelSteps(Url, 8)\r\n\r\n    set(prev => prev = box)\r\n}\r\n\r\nconst update = (offset = 0, param = {}, filtersGroups = {}, setUsers = () => {}, setCount = () => {}) => {\r\n\r\n    let filtersLocal = {}\r\n\r\n    for (let key in filtersGroups) {\r\n\r\n        if (filtersLocal.groups) {\r\n            filtersLocal.groups.push(key)\r\n        } else {\r\n            filtersLocal.groups = []\r\n            filtersLocal.groups.push(key)\r\n        }\r\n    }\r\n\r\n    for (let key in param) {\r\n        if (param[key][0]) {\r\n            if (key == 'surname' || key == 'name' || key == 'midname' || key == 'dateOfBirth') {\r\n                filtersLocal[`${key}s`] = param[key]\r\n            } else {\r\n                filtersLocal[`${key}`] = param[key]\r\n            }\r\n        }\r\n    }\r\n\r\n    if (filtersLocal.ages) {\r\n        let dateOfBirth = [...filtersLocal.ages]\r\n        filtersLocal.ages = []\r\n        dateOfBirth.forEach(dateOfBirth => {\r\n            filtersLocal.ages.push(+dateOfBirth)\r\n        })\r\n    }\r\n\r\n    if (filtersLocal.balance) {\r\n        let balance = [...filtersLocal.balance]\r\n        if (balance[0] == 1 & !balance[1]) {\r\n            filtersLocal.balance = {$gte: 0}\r\n        } else if (balance[0] == 2 & !balance[1]) {\r\n            filtersLocal.balance = {$lt: 0}\r\n        } else if (balance[1]) {\r\n            filtersLocal.balance = {$gte: 0, $lte: 0}\r\n        }\r\n    }\r\n\r\n    let p = {\r\n        filters: filtersLocal\r\n    }\r\n\r\n    axios({\r\n        method: 'post',\r\n        url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`, // ${10 + offset}\r\n        headers: {\r\n            'Content-Type': 'application/jsoncharset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        },\r\n        data: p\r\n    })\r\n    .then((res) => {\r\n\r\n        let {data, headers} = res\r\n        setUsers(data)\r\n        setCount(headers.count)\r\n    })\r\n    .catch((error) => {\r\n        errorHandler(update, error)\r\n    })\r\n}\r\n\r\nconst trashUser = async (item, update, offsetG, setUsers, setCount) => {\r\n\r\n    axios({\r\n        method: 'DELETE',\r\n        url: `${Url}/CRM/Pupils/${item._id}`,\r\n        headers: {\r\n            'Content-Type': 'application/jsoncharset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        }\r\n    })\r\n    .then((res) => {\r\n        update(offsetG, {}, {}, setUsers, setCount)\r\n    })\r\n    .catch((error) => {\r\n        errorHandler(trashUser, error)\r\n    })\r\n}\r\n\r\nexport {\r\n    getFunnel,\r\n    update,\r\n    trashUser\r\n}","import React, {useState, useEffect} from 'react'\nimport {Table, Tag} from 'antd'\n\nimport Url from '../../../url/url.js'\nimport ReturnAge from './../return-age/returnAge.js' // Определяет возраст\nimport Pagination from './../#more-functions/pagination/pagination.js' // Pagination\nimport {SalesFunnelModal} from './../sales-funnel/sales-funnel-modal'\nimport {getFunnel, update, trashUser} from \"./service-student/service-student\";\n\n// Библиотеки\nimport './student.css'\n\nimport {Link} from \"react-router-dom\"\n\nimport styled from '@emotion/styled'\n\nconst mq = [1020, 700].map(\n    bp => `@media (max-width: ${bp}px)`\n)\n\nconst TableL = styled.div({\n    padding: '0 30px',\n    [mq[1]]: {\n        padding: '0 0',\n    },\n    '.log_h2': {},\n    td: {\n        paddingTop: '1px',\n        paddingBottom: '4px'\n    },\n    'th, td': {\n        whiteSpace: 'nowrap'\n    }\n})\n\nconst Student = () => {\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(0)\n    const [funnel, setFunnel] = useState([{_id: ''}])\n\n    const [users, setUsers] = useState([\n        {\n            _id: '45343235456645',\n            surname: \"Список пуст...\",\n            name: \"\",\n            midname: \"\",\n            dateOfBirth: \"2004-12-07\",\n            gender: \"\",\n            phoneNumber: \"\",\n            parentPhoneNumber: \"\",\n            discordNickname: \"\",\n            groups: [],\n            parentFullname: '',\n            statuses: []\n        }\n    ])\n\n    useEffect(() => {\n        update(0, {}, {}, setUsers, setCount)\n        getFunnel(setFunnel)\n    }, [])\n\n    useEffect(() => {\n        document.querySelectorAll(\"input\").forEach((item) => {\n            item.value = ''\n        })\n        document.querySelectorAll('select').forEach((item) => {\n            item.value = ''\n        })\n    })\n\n    const dataSource = []\n\n    users.forEach((item) => {\n\n        let {_id, parentFullname, statuses, surname, name, midname, dateOfBirth, gender, phone, balance, parentPhone, discord, groups} = item\n\n        dataSource.push({\n            key: _id,\n            trash: () => {trashUser(item, update, offsetG, setUsers, setCount)},\n            surname: () => (\n                <Link\n                    className=\"link-info\"\n                    to={`/student/${_id}`}>\n                    {surname}\n                </Link>\n            ),\n            name,\n            midname,\n            dateOfBirth: ReturnAge(dateOfBirth),\n            gender,\n            phoneNumber: phone,\n            tutor: '',\n            parentPhoneNumber: parentPhone,\n            parentFullname,\n            balance: `${balance}`,\n            groups: groups ? groups : [],\n            discordNickname: discord,\n            statuses\n        })\n    })\n\n    const getColumn = (title, dataIndex) => ({\n        title: title,\n        dataIndex: dataIndex,\n        key: dataIndex\n    })\n\n    const columns = [\n        {\n            title: \"\",\n            dataIndex: \"trash\",\n            key: \"trash\",\n            render: (trash) => {\n                if (trash) {\n                    return (\n                        <i\n                            onClick={trash}\n                            className=\"bi bi-trash\"\n                            style={{\n                                fontSize: \"30px\",\n                                color: \"#F56767\",\n                                cursor: \"pointer\",\n                            }}\n                        />\n                    );\n                }\n            },\n        },\n        {\n            ...getColumn(\"Фамилия\", \"surname\"),\n            render: (surname) => {\n                if (typeof surname == \"function\") {\n                    return surname();\n                }\n            }\n        },\n        {\n            ...getColumn(\"Имя\", \"name\")\n        },\n        {\n            ...getColumn(\"Отчество\", \"midname\")\n        },\n        {\n            ...getColumn(\"Возраст\", \"dateOfBirth\")\n        },\n        {\n            ...getColumn(\"Пол\", \"gender\")\n        },\n        {\n            ...getColumn('Статусы', 'statuses'),\n            render: (statuses) => {\n                if (statuses) {\n                    return (\n                        statuses.map(status => {\n                            const {color, _id, name} = status\n                            return (\n                                <Tag color={color} key={_id}>{name}</Tag>\n                            )\n                        })\n                    )\n                }\n            }\n        },\n        {\n            ...getColumn('ФИО Родителя', 'parentFullname')\n        },\n        {\n            ...getColumn(\n                \"Номер телефона\",\n                \"phoneNumber\"\n            )\n        },\n        {\n            ...getColumn(\"Номер телефона родителя\", \"parentPhoneNumber\")\n        },\n        {\n            ...getColumn(\"Баланс\", \"balance\")\n        },\n        {\n            ...getColumn(\"Группы\", \"groups\"),\n            render: (groups) => {\n                if (typeof groups.map == \"function\") {\n                    return (\n                        <>\n                            {groups.map((item) => (\n                                <Tag\n                                    color=\"blue\"\n                                    key={`${item._id}`}\n                                >\n                                    {item.group_name}\n                                </Tag>\n                            ))}\n                        </>\n                    );\n                }\n            }\n        },\n        {\n            ...getColumn(\"Дискорд никнейм\", \"discordNickname\")\n        },\n    ]\n\n    return (\n        <>\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\n                <div className=\"container-fluid d-flex\">\n                    <div className=\"collapse d-flex flex-row h3-person\">\n                        <div className=\"d-flex plus-box\">\n                            <div>\n                                <h3>Ученики</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </nav>\n\n            <TableL className=''>\n                <div>\n                    <div className={`table_user`}>\n                        <Table\n                            pagination={false}\n                            dataSource={dataSource}\n                            columns={columns}\n                            scroll={{x: 0}}>\n                        </Table>\n                    </div>\n                    <Pagination getItem={(offset) => {update(offset, {}, {}, setUsers, setCount)}} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n                </div>\n            </TableL>\n            <SalesFunnelModal\n                loader={{\n                    loaded: true, setLoaded: () => {}\n                }}\n                status={1}\n                funnel={funnel[0]? funnel : [{_id: ''}]}\n                pageSize={8}\n                Url={Url}\n                pupils={{\n                    pupilsList: [], setPupilsList: () => {}\n                }}\n                bigIcon={true}\n                update={() => {update(0, {}, {}, setUsers, setCount)}}\n                defaultValueOptionFunnel={(<option value='' defaultValue></option>)}\n            />\n        </>\n    )\n}\n\nexport default Student","import Url from './../../../url/url.js';\nimport {swallErr} from './../../../alert/alert.js';\nimport errorHandler from \"../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst Change_Balance = (sym, pupil_id, updeteStudent, Change = () => {}, subscription, group_id, returnBalance) => {\n\n\tlet urlLocal = subscription? `/CRM/Pupils/${pupil_id}/Payment?amount=${+sym}&subscription=${subscription}&group_id=${group_id}` : `/CRM/Pupils/${pupil_id}/Payment?amount=${+sym}`\n\n\taxios({\n\t\tmethod: \"post\",\n\t\turl: `${Url}${urlLocal}`, // amount&subscription&group_id\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json;charset=utf-8\",\n\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n\t\t},\n\t})\n\t.then((res) => {\n\t\tChange();\n\t\tupdeteStudent();\n\t})\n\t.catch((error) => {\n\t\terrorHandler(\n\t\t\t() => {},\n\t\t\terror,\n\t\t\treturnBalance,\n\t\t\tupdeteStudent,\n\t\t\t() => {swallErr(\"Не удалось пополнить баланс\", \"Попробуйте снова\")}\n\t\t)\n\t});\n\n}\n\nexport default Change_Balance;","import React, {useState, useEffect} from 'react';\r\nimport {Menu, Dropdown, Popover} from 'antd';\r\n\r\nimport Url from './../../../../../url/url.js';\r\nimport localStorage_change from './../../../../../#localStorage_change.js';\r\nimport {swallErr} from './../../../../../alert/alert.js';\r\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\r\n\r\nimport Change_Balance from './../../../change-balance/changeBalance.js';\r\n\r\nimport moment from 'moment';\r\nimport {Link} from \"react-router-dom\";\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst PupilsSandTime = ({itemG, dataGroup, getGroup_Id, setData, surname, name, pageInfo, type}) => {\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    const [visibleNumber, setVisibleNumber] = useState('-1')\r\n    // const [trigger, setTrigger] = useState('click')\r\n\r\n    const [fixedSchedule, setFixedSchedule] = useState(['fixedSchedule-H', '', 'bi-plus-circle']);\r\n\r\n    let ScheduleItem = itemG.localSchedule[`${dataGroup}`] ? itemG.localSchedule[`${dataGroup}`] : []\r\n\r\n    const [dataS, setDataS] = useState(ScheduleItem);\r\n    // const [dataS, setDataS] = useState([]);\r\n\r\n\r\n    const revers = () => {\r\n        if (fixedSchedule[0] == 'fixedSchedule-H') {\r\n            setFixedSchedule(['scheblueFixet', ' global-fon3000', 'bi-x-circle']);\r\n        } else {\r\n            setFixedSchedule(['fixedSchedule-H', '', 'bi-plus-circle']);\r\n        }\r\n    }\r\n\r\n    const addNotes = (name, axiosPut = () => {\r\n    }) => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Pupils/${itemG._id}/Notes`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: {\r\n                text: name\r\n            }\r\n        })\r\n        .then(() => {\r\n            // getGroup_Id()\r\n            axiosPut()\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                getGroup_Id()\r\n            }\r\n        })\r\n    }\r\n\r\n    const [Abic, setAbic] = useState([]);\r\n\r\n    const getAbic = () => {\r\n        axios({\r\n            method: \"get\",\r\n            url: `${Url}/CRM/Subscriptions`,\r\n            headers: {\r\n                \"Content-Type\": \"application/json;charset=utf-8\",\r\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n            },\r\n        })\r\n        .then((res) => {\r\n            setAbic(res.data);\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data, statusText} = error.response;\r\n\r\n                if (status == 404) {\r\n                    swallErr(\"Error 404\", \"Сервер не найден\");\r\n                } else if (status == 401) {\r\n                    if (data.message == \"TOKEN_EXPIRED\") {\r\n                        localStorage_change(error.response.data.token);\r\n                        getGroup_Id();\r\n                    } else {\r\n                        localStorage.removeItem(\"tokenID\");\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const axiosPut = (mass, ChangeBalic = () => {\r\n    }) => {\r\n        axios({\r\n            method: 'put',\r\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}/Schedule`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: mass\r\n        })\r\n        .then((res) => {\r\n            ChangeBalic()\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data, statusText} = error.response;\r\n\r\n                if (status == 404) {\r\n\r\n                    swallErr('Error 404', 'Сервер не найден');\r\n\r\n                } else if (status == 401) {\r\n\r\n                    if (data.message == 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(error.response.data.token);\r\n                        getGroup_Id();\r\n                    } else {\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const liAbic = Abic.map((abic, i) => {\r\n\r\n        const PaySubscription = () => {\r\n            let arr = [...dataS];\r\n\r\n            let n = 0,\r\n                index = 0;\r\n            while (n < abic.hoursCount) {\r\n                if (!arr[index].paid) {\r\n                    arr[index].paid = true;\r\n                    n++;\r\n                }\r\n                index++;\r\n            }\r\n\r\n            let updete = () => {\r\n            }; // Не обращяй внимание.\r\n\r\n            axiosPut(arr, () => {\r\n                Change_Balance(`-${abic.price}`, itemG._id, updete, getGroup_Id, abic._id, dataGroup, () => {\r\n                    axiosPut(arr)\r\n                })\r\n            });\r\n            setDataS(arr);\r\n        }\r\n        return (\r\n            <Menu.Item key={i} className=\"li\">\r\n\t\t\t\t<span\r\n                    onClick={PaySubscription}\r\n                    className=\"dropdown-item bg-info text-light\"\r\n                    href=\"#\">\r\n\t\t\t\t\t{abic.name}\r\n\t\t\t\t</span>\r\n            </Menu.Item>);\r\n    });\r\n\r\n    const menu = (\r\n        <Menu>\r\n            {liAbic}\r\n        </Menu>\r\n    )\r\n\r\n    useEffect(() => {\r\n        getAbic();\r\n    }, []);\r\n\r\n    const breakpoints = [780, 1380, 2002], // 619, 1238, 1857, > 2476\r\n        mq = breakpoints.map(\r\n            bp => `@media (max-width: ${bp}px)`\r\n        ),\r\n        mqMin = breakpoints.map(\r\n            bp => `@media (min-width: ${bp}px)`\r\n        );\r\n\r\n\r\n    const Div_box = styled.div({\r\n        borderBottom: '1px solid #91A8B0',\r\n        paddingBottom: '5px',\r\n        marginBottom: '5px',\r\n        i: {\r\n            color: '#17a2b8',\r\n            fontSize: '26px',\r\n            cursor: 'pointer',\r\n            paddingTop: '10px'\r\n        },\r\n        '.global-fon3000': {\r\n            position: 'fixed',\r\n            top: '0',\r\n            left: '0',\r\n            zIndex: '99',\r\n            height: '100vh',\r\n            background: 'rgba(0, 0, 0, 0.6)',\r\n            overflowY: 'scroll',\r\n            i: {\r\n                position: 'fixed',\r\n                top: '3px',\r\n                left: '7px',\r\n                color: '#fff'\r\n            },\r\n            '.bi-trash': {\r\n                display: 'none'\r\n            }\r\n        },\r\n        h4: {\r\n            display: 'inline-block',\r\n            marginRight: '10px',\r\n            marginBottom: '19px'\r\n        },\r\n        '.fixedSchedule-H': {\r\n            maxHeight: '81px',\r\n            overflow: 'hidden'\r\n        },\r\n\r\n        '.scheblueFixet': {\r\n            margin: '0 auto',\r\n            marginTop: '50px',\r\n            width: '86%'\r\n        },\r\n        '.fixedSchedule-H, .scheblueFixet': {\r\n            overflow: 'hidden',\r\n            width: '2476px',\r\n            [mq[2]]: {\r\n                width: '1857px'\r\n            },\r\n            [mq[1]]: {\r\n                width: '1238px'\r\n            },\r\n            [mq[0]]: {\r\n                width: '619px'\r\n            },\r\n        },\r\n        '.boxDay': {\r\n            overflowX: 'auto',\r\n            padding: '0 0 10px 0',\r\n            '&::-webkit-scrollbar': {\r\n                height: '10px',\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                borderRadius: '10px'\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n                backgroundColor: '#17a2b8',\r\n                borderRadius: '10px'\r\n            }\r\n        }\r\n    });\r\n\r\n    let Span = styled.div({ // День из расписания ученика.\r\n        margin: '0 3px 0 0',\r\n        position: 'initial',\r\n        button: {\r\n            fontSize: '15px',\r\n            fontWeight: '600',\r\n            padding: '1px 7px',\r\n            width: '71px'\r\n        },\r\n        '.btnAbic': {\r\n            width: '100%'\r\n        },\r\n        ul: {\r\n            border: 'none',\r\n            background: 'rgba(0, 0, 0, 0.3)',\r\n            padding: '6px'\r\n        },\r\n        '.li': {\r\n            border: 'none',\r\n            background: 'rgba(0, 0, 0, 0)',\r\n            span: {\r\n                borderRadius: '6px',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n            },\r\n            '.input-group-text': {\r\n                margin: '0',\r\n                borderRadius: '6px 0 0 6px'\r\n            },\r\n            textarea: {\r\n                padding: '2px 7px',\r\n                fontWeight: '500'\r\n            }\r\n        }\r\n    });\r\n\r\n    let SchedulePupils;\r\n\r\n    let index = 1;\r\n\r\n    SchedulePupils = dataS.map((item, i) => {\r\n        let marginRight = 0;\r\n        if (index == 8) {\r\n            marginRight = 27;\r\n            index = 1;\r\n        } else {\r\n            index++;\r\n        }\r\n\r\n        let day = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\r\n\r\n        let color = '#f8f9fa',\r\n            opacity = '1';\r\n\r\n        let time = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\r\n            time_day = moment().diff(time, 'day');\r\n\r\n        if (item.paid & item.status != 3 & time_day <= 0) {\r\n            color = '#17a2b8';\r\n        } else if (item.status == 3 & time_day <= 0) {\r\n            color = '#6c757d'\r\n        } else if (item.status == 3 & item.paid) {\r\n            color = '#dc3545';\r\n        } else if (time_day > 0 & item.paid) {\r\n            color = '#28a745';\r\n        } else if (time_day > 0 & !item.paid & item.status != 3) {\r\n            color = '#28a745';\r\n            opacity = '0.5';\r\n        } else if (time_day > 0 & !item.paid & item.status == 3) {\r\n            color = '#dc3545';\r\n            opacity = '0.5';\r\n        }\r\n\r\n        const changeDayIndex = (index) => {\r\n            let arr = [...dataS];\r\n\r\n            if (index == 2 & arr[i].status == 3) {\r\n                arr[i].status = index;\r\n\r\n                axiosPut(arr);\r\n                setDataS(arr);\r\n\r\n            } else if (index == 3 & time_day < 0) {\r\n                arr[i].status = index;\r\n\r\n                axiosPut(arr);\r\n                setDataS(arr);\r\n            } else if (index !== 3 & index !== 2) {\r\n                arr[i].title = index;\r\n                addNotes(index, () => {\r\n                    axiosPut(arr)\r\n                })\r\n                // changeSchedule(arr);\r\n                setDataS(arr);\r\n            } else {\r\n                swallErr('Не возможно установить статус');\r\n            }\r\n        };\r\n\r\n        const Item = styled.span({\r\n            marginRight: `${marginRight}px`\r\n        })\r\n        let title = '';\r\n        let colorTitle = '';\r\n        if (item.title) {\r\n            colorTitle = '#ffc107';\r\n        }\r\n\r\n        const menuItem = (\r\n            <Menu key={day}>\r\n                <Menu.Item key={`${day}1`}>\r\n                    <span onClick={() => {\r\n                        changeDayIndex('3')\r\n                    }} className=\"dropdown-item bg-secondary text-light\" href=\"#\">Пропустил</span>\r\n                </Menu.Item>\r\n                <Menu.Item key={`${day}2`}>\r\n                    <span onClick={() => {\r\n                        changeDayIndex('2')\r\n                    }} className=\"dropdown-item bg-success text-light\" href=\"#\">Урок пройден</span>\r\n                </Menu.Item>\r\n                <Menu.Item key={`${day}3`}>\r\n                    <div className=\"input-group\">\r\n\t\t\t\t\t\t\t\t<span\r\n                                    onClick={() => {\r\n                                        changeDayIndex(title)\r\n                                        setVisibleNumber('')\r\n                                    }}\r\n                                    className=\"input-group-text bg-info text-light\"\r\n                                >\r\n\t\t\t\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t\t\t\t</span>\r\n                        <textarea\r\n                            placeholder='Оставьте заметку...'\r\n                            defaultValue={item.title}\r\n                            onChange={(e) => {\r\n                                title = e.target.value\r\n                            }}\r\n                            className=\"form-control\" aria-label=\"With textarea\"\r\n                        ></textarea>\r\n                    </div>\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n\r\n        let visibleLocal = false\r\n\r\n        if (visibleNumber === i) {\r\n            visibleLocal = true\r\n        } else if (visibleNumber === '') {\r\n            visibleLocal = false\r\n        }\r\n\r\n        return (\r\n            <Item key={`${day}${i}`}>\r\n                <Span className=\"btn-group\">\r\n                    <Dropdown\r\n                        onVisibleChange={(s) => {}}\r\n                        overlay={menuItem}\r\n                        visible={visibleLocal}\r\n                        trigger={['click']}\r\n                    >\r\n                        <button\r\n                            type=\"button\"\r\n                            style={{color: `${colorTitle}`, background: `${color}`, opacity: `${opacity}`}}\r\n                            className={`btn dropdown-toggle`}\r\n                            onClick={() => {\r\n                                if (visibleNumber === i) {\r\n                                    setVisibleNumber('')\r\n                                } else {\r\n                                    setVisibleNumber(i)\r\n                                }\r\n                            }}\r\n                        >\r\n                            {day}\r\n                        </button>\r\n                    </Dropdown>\r\n                </Span>\r\n            </Item>\r\n        );\r\n    });\r\n\r\n    let urlPage = itemG._id,\r\n        page = 'student';\r\n    if (pageInfo) {\r\n        page = pageInfo;\r\n        urlPage = dataGroup;\r\n    }\r\n    let LinkItem = (\r\n        <Link\r\n            to={`/${page}/${urlPage}`}>\r\n            <h4>{`${surname} ${name}`}</h4>\r\n        </Link>\r\n    );\r\n\r\n    let oplata = ''\r\n\r\n    let jwt = require('jsonwebtoken');\r\n    if (jwt.decode(localStorage.getItem('tokenID')).accountType != 'teacher') {\r\n        oplata = (\r\n            <span>\r\n\t\t\t\t\t<Span className=\"btn-group\">\r\n\t\t\t\t\t\t<Dropdown overlay={menu} trigger={['click']}>\r\n\t\t\t\t\t\t\t<button\r\n                                type=\"button\"\r\n                                className={`btn btn-success dropdown-toggle btnAbic`}\r\n                            >\r\n\t\t\t\t\t\t\t\tОплатить\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</Span>\r\n\t\t\t\t</span>\r\n        )\r\n    }\r\n\r\n    const deletePupils = () => {\r\n\r\n        axios({\r\n            method: 'delete',\r\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then(res => {\r\n\r\n            let {group, pupil} = res.data\r\n\r\n            if (type == 'group') {\r\n                setData(group)\r\n            } else if (type == 'pupil') {\r\n                setData(pupil)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Div_box key={itemG._id} className=\"table\">\r\n            <div className=\"pupils-item row\">\r\n                <div className=\"col-12\">\r\n                    {LinkItem}\r\n                    {oplata}\r\n                </div>\r\n                <div className={`col-12${fixedSchedule[1]}`}>\r\n                    <div className=\"boxDay\">\r\n                        <div className={`${fixedSchedule[0]}`}>\r\n                            {SchedulePupils}\r\n                        </div>\r\n                    </div>\r\n                    <i onClick={() => {\r\n                        revers()\r\n                    }} className={`bi ${fixedSchedule[2]}`}></i>\r\n                    <Popover\r\n                        title={'Внимание'}\r\n                        content={'Удаление ученика из группы'}\r\n                        placement=\"right\"\r\n                        trigger={'hover'}\r\n                    >\r\n                        <i\r\n                            onClick={deletePupils}\r\n                            className='bi bi-trash'\r\n                            style={{color: 'rgb(245, 103, 10', marginLeft: '10px'}}></i>\r\n                    </Popover>\r\n                </div>\r\n            </div>\r\n        </Div_box>\r\n    );\r\n};\r\n\r\nPupilsSandTime.defaultProps = {\r\n    surname: ''\r\n}\r\n\r\nexport default PupilsSandTime;","export const setStudent = (pupil, addedStudents, addStudent, setValue) => {\r\n\r\n    let permitted = true\r\n\r\n    addedStudents.forEach(item => {\r\n        if (item.id === pupil.id) {\r\n            permitted = false\r\n        }\r\n    })\r\n\r\n    if (permitted) {\r\n        addStudent([...addedStudents, pupil])\r\n        setValue('')\r\n    }\r\n}\r\n\r\nexport const removeStudent = (id, addedStudents, addStudent, setValue) => {\r\n    const newStydent = addedStudents.filter(item => (item.id !== id))\r\n    addStudent(newStydent)\r\n    setValue('')\r\n}\r\n\r\nexport const sortingSearchResponses = (data, setArrayEligibleStudents, index = \"pupils\") => {\r\n    let arrPupils = []\r\n\r\n    data.forEach(item => {\r\n        if (item._index === index) {\r\n            arrPupils.push(item._source)\r\n        }\r\n    })\r\n    setArrayEligibleStudents(arrPupils)\r\n}","import axios from \"axios\";\r\nimport Url from \"../../../../../url/url\";\r\nimport errorHandler from \"../../../../error-handler/error-handler\";\r\n\r\nexport const requestAddStudentGroup = (groupId, studentId, set, callBefore = () => {}) => {\r\n    callBefore()\r\n    axios({\r\n        method: 'post',\r\n        url: `${Url}/CRM/Groups/${groupId}/Pupils`,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        },\r\n        data: {\r\n            ids: [studentId]\r\n        }\r\n    })\r\n        .then((res) => {\r\n            set(res.data)\r\n        })\r\n        .catch((error) => {\r\n            errorHandler(requestAddStudentGroup, error)\r\n        })\r\n}","import React, {useState} from \"react\";\r\nimport {Input, Modal} from 'antd'\r\nimport {showModal, handleOk, handleCancel} from './add-student-group-logic'\r\nimport {\r\n    AppstoreAddOutlined\r\n} from '@ant-design/icons'\r\nimport {serverRequest} from \"../../../../search/server-request\";\r\nimport {sortingSearchResponses} from \"../../../group/group-logic\";\r\nimport {requestAddStudentGroup} from \"./request-add-student-group\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {loading, swallGood} from \"../../../../../alert/alert\";\r\n\r\nconst AddStudentGroup = ({data, getStudent_Id}) => {\r\n\r\n    const studentId = useParams().id\r\n    const {groups} = data\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [value, setValue] = useState('')\r\n    const [ArrayEligibleGroups, setArrayEligibleGroups] = useState([])\r\n\r\n    const SuitableGroups = ArrayEligibleGroups.map(item => {\r\n\r\n        const {group_name, id} = item\r\n\r\n        return (\r\n            <li\r\n                style={{fontSize: '18px'}}\r\n                onClick={() => {\r\n                    requestAddStudentGroup(\r\n                        id,\r\n                        studentId,\r\n                        (resData) => {\r\n                            setIsModalVisible(false)\r\n                            console.log(resData)\r\n                            console.log({...data, groups: [...groups, resData]})\r\n                            console.log(data)\r\n                            getStudent_Id(() => {swallGood('Ученик добавлен в группу')})\r\n                        },\r\n                        loading\r\n                        )\r\n                }}\r\n                key={id}\r\n                className=\"list-group-item\">\r\n                <span className=\"badge bg-warning text-dark\">{`${group_name}`}</span>\r\n            </li>\r\n        )\r\n    })\r\n\r\n    let spanGroup = groups.map((item) => {\r\n        return <span key={item._id} className={`badge bg-light text-dark`}>{item.group_name}</span>;\r\n    });\r\n\r\n    return (\r\n        <>\r\n            {spanGroup}\r\n            <AppstoreAddOutlined\r\n                onClick={() => {\r\n                    showModal(setIsModalVisible)\r\n                }}\r\n                style={{color: 'rgb(23, 162, 184)', fontSize: '23px'}}\r\n            />\r\n            <Modal\r\n                title=\"Добавить группу\"\r\n                visible={isModalVisible}\r\n                onOk={() => {\r\n                    handleOk(setIsModalVisible)\r\n                }}\r\n                onCancel={() => {\r\n                    handleCancel(setIsModalVisible)\r\n                }}\r\n            >\r\n                <div>\r\n                    <div className=\"row addPUPILS\">\r\n                        <div className=\"input-group\">\r\n                            <Input\r\n                                placeholder={'Найти группы...'}\r\n                                onChange={(e) => {\r\n                                    setValue(e.target.value)\r\n                                    serverRequest((data) => {\r\n                                        sortingSearchResponses(data, setArrayEligibleGroups, 'groups')\r\n                                    }, encodeURI(e.target.value))\r\n                                }}\r\n                                value={value}\r\n                            />\r\n\r\n                            <ul className=\"list-group list-group-flush\">\r\n                                {SuitableGroups}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddStudentGroup","export const showModal = (setIsModalVisible) => {\r\n    setIsModalVisible(true);\r\n};\r\n\r\nexport const handleOk = (setIsModalVisible) => {\r\n    setIsModalVisible(false);\r\n};\r\n\r\nexport const handleCancel = (setIsModalVisible) => {\r\n    setIsModalVisible(false);\r\n};","import React, {useState} from 'react';\nimport {DatePicker, Dropdown, Menu} from 'antd';\n\nimport Url from './../../../../../url/url.js';\nimport ReturnAge from './../../../return-age/returnAge.js';\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\n\nimport InputMask from 'react-input-mask';\n\nimport {loading, Swalclose, Toast} from '../../../../../alert/alert';\n\n// Style\nimport styled from '@emotion/styled';\nimport AddStudentGroup from \"../add-student-group-/add-student-group-\";\n\nconst InfoTable = ({getStudent_Id, dataStudent, updetePage}) => {\n\n    let newInfo = {};\n\n    const axios = require('axios'); // AJAX\n\n    const [visible, setVisible] = useState('')\n\n    const {\n        name,\n        surname,\n        midname,\n        gender,\n        parentFullname,\n        dateOfBirth,\n        phone,\n        parentPhone,\n        discord,\n        _id\n    } = dataStudent;\n\n    const onChangeInfoItem = () => {\n\n        loading('Изменения загружаются', 'Пожалуйста подождите');\n\n        axios({\n            method: 'patch',\n            url: `${Url}/CRM/Pupils/${_id}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: newInfo\n        })\n            .then((res) => {\n                updetePage(res.data)\n                Swalclose();\n                Toast.fire({\n                    icon: 'success',\n                    title: 'Изменения сохранены'\n                });\n            })\n            .catch((error) => {\n                if (error.response) {\n                    RestrictionMessage(error.response.status)\n                }\n            })\n    }\n\n    const InfoTable = styled.ul({\n        '.ant-picker': {\n            span: {\n                margin: '0'\n            }\n        },\n        '.ant-picker-input': {\n            input: {\n                width: '127px'\n            }\n        }\n    })\n\n    const menuSurname = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Поменять фамилию\"\n                    onChange={(e) => {\n                        newInfo = {surname: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        setVisible('')\n                        onChangeInfoItem()\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuName = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Новое имя\"\n                    onChange={(e) => {\n                        newInfo = {name: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        setVisible('')\n                        onChangeInfoItem()\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuMidname = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Изменить поле...\"\n                    onChange={(e) => {\n                        newInfo = {midname: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuParentPhone = (\n        <Menu>\n            <Menu.Item>\n                <InputMask\n                    mask='+9 (999) 999-99-99'\n                    placeholder=\"Новый номер\"\n                    onChange={(e) => {\n                        newInfo = {parentPhone: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t\t    <span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuPhone = (\n        <Menu>\n            <Menu.Item>\n                <InputMask\n                    mask='+9 (999) 999-99-99'\n                    placeholder=\"Новый номер\"\n                    onChange={(e) => {\n                        newInfo = {phone: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t    \t<span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n    const menuDiscord = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Изменить NickName\"\n                    onChange={(e) => {\n                        newInfo = {discord: `${e.target.value}`}\n                    }}\n                    type=\"name\" className=\"text-dark form-control col-12\"/>\n            </Menu.Item>\n            <Menu.Item>\n\t\t    \t<span\n                    onClick={() => {\n                        onChangeInfoItem()\n                        setVisible('')\n                    }}\n                    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n            </Menu.Item>\n        </Menu>\n    )\n\n    return (\n        <InfoTable className=\"list-group list-group-flush\">\n            <li className=\"list-group-item\">Фамилия: <span className=\"badge bg-warning text-dark\">{surname}</span>\n                <div className={`btn-group`}>\n                    <Dropdown overlay={menuSurname} visible={() => {\n                        if (visible === 'Surname') {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }} trigger={['click']}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'Surname') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('Surname')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n                        ></i>\n                    </Dropdown>\n                </div>\n            </li>\n            <li className=\"list-group-item\">Имя: <span className=\"badge bg-warning text-dark\">{name}</span>\n                <div className={`btn-group`}>\n                    <Dropdown overlay={menuName} visible={() => {\n                        if (visible === 'Name') {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }} trigger={['hover']}>\n                        <i onClick={() => {\n                            if (visible === 'Name') {\n                                setVisible('')\n                            } else {\n                                setVisible('Name')\n                            }\n                        }}\n                           className=\"bi bi-pencil\"\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </li>\n            <li className=\"list-group-item\">Отчество: <span className=\"badge bg-warning text-dark\">{midname}</span>\n                <div className={`btn-group`}>\n                    <Dropdown overlay={menuMidname} visible={() => {\n                        if (visible === 'Midname') {\n                            return true\n                        } else {\n                            return false\n                        }\n                    }} trigger={['hover']}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'Midname') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('Midname')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </li>\n            <li className=\"list-group-item\">\n                Возраст:\n                <span className=\"badge bg-success text-light\">{ReturnAge(dateOfBirth)}</span>\n                <DatePicker\n                    onChange={(data) => {\n                        newInfo = {dateOfBirth: data._d.toISOString()}\n                        onChangeInfoItem()\n                    }}\n                    placeholder='Изменить возраст'\n                />\n            </li>\n            <li className=\"list-group-item\">\n                Пол:\n                <span className=\"badge bg-success text-light\">{gender}</span>\n            </li>\n            <li className=\"list-group-item\">\n                ФИО Родителя:\n                <span className=\"badge bg-success text-light\">{parentFullname}</span>\n            </li>\n            <li className=\"list-group-item\">Номер родителя: <span\n                className=\"badge bg-info text-light\">{parentPhone}</span>\n                <div className={`btn-group`}>\n                    <Dropdown\n                        overlay={menuParentPhone}\n                        visible={() => {\n                            if (visible === 'ParentPhone') {\n                                return true\n                            } else {\n                                return false\n                            }\n                        }}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'ParentPhone') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('ParentPhone')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </li>\n            <li className=\"list-group-item\">Номер ученика: <span className=\"badge bg-warning text-dark\">{phone}</span>\n                <div className={`btn-group`}>\n                    <Dropdown\n                        overlay={menuPhone}\n                        visible={() => {\n                            if (visible === 'Phone') {\n                                return true\n                            } else {\n                                return false\n                            }\n                        }}>\n                        <i className=\"bi bi-pencil\"\n                           onClick={() => {\n                               if (visible === 'Phone') {\n                                   setVisible('')\n                               } else {\n                                   setVisible('Phone')\n                               }\n                           }}\n                           style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n                    </Dropdown>\n                </div>\n            </li>\n            <li className=\"list-group-item\">Discord: <span className=\"badge bg-light text-dark\">{discord}</span>\n                <div className={`btn-group`}>\n                    <Dropdown\n                        className='Discord'\n                        overlay={menuDiscord}\n                        visible={() => {\n                            return visible === 'Discord';\n                        }}>\n                        <i\n                            className=\"bi bi-pencil\"\n                            onClick={() => {\n                                if (visible === 'Discord') {\n                                    setVisible('')\n                                } else {\n                                    setVisible('Discord')\n                                }\n                            }}\n                            style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n                        ></i>\n                    </Dropdown>\n                </div>\n            </li>\n            <li\n                className=\"list-group-item\">\n                Группы: <AddStudentGroup getStudent_Id={getStudent_Id} data={dataStudent}/>\n            </li>\n        </InfoTable>\n    );\n}\n\nexport default InfoTable;","import React from 'react';\n\n// Style\nimport styled from '@emotion/styled';\n\nconst PayHistory = ({pay_History}) => {\n\n\tlet pay_HistoryLocal = pay_History? pay_History : []\n\n\tlet liInc = [];\n\tpay_HistoryLocal.forEach((item, i) => {\n\t\tif (item.type == 0) {\n\t\t\tliInc.unshift(\n\t\t\t\t<li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\n\t\t\t);\t\t\n\t\t}\n\t})\n\n\tlet liDec = [];\n\tpay_HistoryLocal.forEach((item, i) => {\n\t\tif (item.type == 1) {\n\t\t\tliDec.unshift(\n\t\t\t\t<li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\n\t\t\t);\n\t\t}\n\t})\n\n\tconst PayHistory = styled.div({\n\t\tmargin: '0',\n\t\tpadding: '0',\n\t\t'.colona': {\n\t\t\tpadding: '0 3px',\n\t\t\tmarginBottom: '15px',\n\t\t\th3: {\n\t\t\t\tfontSize: '16px'\n\t\t\t},\n\t\t\tul: {\n\t\t\t\tborderRadius: '5px',\n\t\t\t\toverflow: 'auto',\n\t\t\t\tmaxHeight: '268px',\n\t\t\t\t'&::-webkit-scrollbar': {\n\t\t\t\t\twidth: '10px',\n\t\t\t\t\tbackgroundColor:'rgba(0, 0, 0, 0.5)',\n\t\t\t\t\tborderRadius: '10px'\n\t\t\t\t},\n\t\t\t\t'&::-webkit-scrollbar-thumb': {\n\t\t\t\t\tbackgroundColor: '#17a2b8',\n\t\t\t\t\tborderRadius: '10px'\n\t\t\t\t}\n\t\t\t},\n\t\t\tli: {\n\t\t\t\tspan: {\n\t\t\t\t\tfontSize: '17px',\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'.colona-1': {\n\t\t\tul: {\n\t\t\t\tborder: '1px solid #28a745'\n\t\t\t},\n\t\t\tli: {\n\t\t\t\tspan: {\n\t\t\t\t\tcolor: '#28a745',\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'.colona-2': {\n\t\t\tul: {\n\t\t\t\tborder: '1px solid #f27474'\n\t\t\t},\n\t\t\tli: {\n\t\t\t\tspan: {\n\t\t\t\t\tcolor: '#28a745',\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})\n\n\treturn (\n\t\t<PayHistory className='col-12 row'>\n\t\t\t<div className=\"colona colona-1 col-6\">\n\t\t\t<h3 className=\"badge bg-success text-light\">Пополнение</h3>\n\t\t\t<ul className=\"list-group\">\n\t\t\t  {liInc}\n\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"colona colona-2 col-6\">\n\t\t\t<h3 className=\"badge bg-danger text-light\">Оплата</h3>\n\t\t\t<ul className=\"list-group\">\n\t\t\t  {liDec}\n\t\t\t</ul>\n\t\t\t</div>\n\t\t</PayHistory>\n\t);\n}\n\nexport default PayHistory;","import React, {useEffect, useState} from 'react'\nimport {Button, Comment, Form, Input} from 'antd';\nimport Url from '../../../../../../url/url.js';\nimport moment from 'moment';\nimport {swallErr} from '../../../../../../alert/alert'\nimport localStorage_change from './../../../../../../#localStorage_change.js'\nimport RestrictionMessage from '../../../../../restriction-message/restriction-message.js'\nimport errorHandler from \"../../../../../error-handler/error-handler\";\n\nconst {TextArea} = Input;\nconst axios = require('axios'); // AJAX\n\nconst Chat = ({_id, commentsObj}) => {\n\n    useEffect(() => {\n        document.querySelector('.ant-input').value = ''\n        let block = document.querySelector('.ant-drawer-body')\n        block.scrollTop = block.scrollHeight\n    })\n\n    // ===========================================================================================================================\n\n    let {surname, name, midname} = require('jsonwebtoken').decode(localStorage.getItem('tokenID'))\n\n    let UserName = `${surname} ${name} ${midname}`\n\n    const {comments, setComments} = commentsObj\n    const [submitting, setSubmitting] = useState(false)\n    let value = ''\n\n    const handleSubmit = () => {\n        if (!value) {\n            return;\n        }\n\n        setSubmitting(true)\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/${_id}/Notes`,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                text: value\n            }\n        })\n        .then(() => {\n\n            setSubmitting(false)\n            setComments([...comments, {\n                author: UserName,\n                content: <p>{value}</p>,\n                datetime: moment().locale('ru').format(\"dddd, D MMMM YYYY г., HH:MM\"),\n            }])\n            // update()\n        })\n        .catch((error) => {\n            errorHandler(handleSubmit, error)\n        })\n    };\n\n\n    return (\n        <>\n            <Comment\n                content={\n                    <>\n                        <Form.Item>\n                            <TextArea\n                                id='TextArea'\n                                onClick={() => {\n                                    document.querySelector(\"#TextArea\").value = ''\n                                }}\n                                rows={4} onChange={(e) => {\n                                value = e.target.value\n                            }} placeholder='Добавить комментарий'/>\n                        </Form.Item>\n                        <Form.Item>\n                            <Button htmlType=\"submit\" loading={submitting} onClick={handleSubmit} type=\"primary\">\n                                Добавить комментарий\n                            </Button>\n                        </Form.Item>\n                    </>\n                }\n            />\n        </>\n    );\n}\n\nexport default Chat","import {Comment, List} from \"antd\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\n\r\nexport const CommentList = ({comments}) => {\r\n    return (\r\n        <List\r\n            dataSource={comments}\r\n            header={`Всего сообщений: ${comments.length}`}\r\n            itemLayout=\"horizontal\"\r\n            renderItem={props => {\r\n                console.log(props)\r\n                let body = {...props}\r\n                body.datetime = moment(props.datetime).locale('ru').format(\"dddd, D MMMM YYYY г., HH:MM\")\r\n                if (body.datetime === 'Invalid date') {\r\n                    body.datetime = props.datetime\r\n                }\r\n                return <Comment {...body} />\r\n            }}/>\r\n    )\r\n};","import styled from \"@emotion/styled\"\r\n\r\nexport const DivDrawerStyles = styled.div`\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  \r\n  .ant-list-items {\r\n    overflow: hidden auto;\r\n    max-height: 250px;\r\n  }\r\n  .specialList .ant-list-items {\r\n    max-height: 400px;\r\n  }\r\n  .tasks {\r\n    font-family: \"MontLight\";\r\n  }\r\n`\r\n","import styled from \"@emotion/styled\"\r\n\r\nexport const WrapperTasks = styled.div`\r\n  position: fixed;\r\n  transition: all .5s ease;\r\n  z-index: 10;\r\n  right: 24px;\r\n  bottom: ${props => props.opened ? \"0px\": props.type === 2 ? \"-470px\" : \"-455px\"};\r\n  width: 352px;\r\n  border-radius: 10px 10px 0 0;\r\n  background: #1890FF;\r\n  border: 1px solid #1890FF;\r\n  padding: 0 10px;\r\n  \r\n  > .buttonUp {\r\n    position: relative;\r\n    top: -13px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    > button {\r\n      display: flex;\r\n      align-items: center;\r\n      border-radius: 4px;\r\n      border: 1px solid #1890FF;\r\n      background: #1890FF;\r\n      color: white;\r\n      transition: all .2s ease;\r\n      width: min-content;\r\n      &:hover {\r\n        background: white;\r\n        color: #1890FF;\r\n      }\r\n      .anticon-double-left {\r\n        margin: 0 5px 0 2.5px;\r\n        transform: rotate(${props => props.opened ? -90 : 90}deg);\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const CreateTask = styled.div`\r\n  display: flex;\r\n  overflow: hidden auto;\r\n  flex-direction: column;\r\n  .ant-picker {\r\n    cursor: pointer;\r\n    width: 100%;\r\n    background: transparent;\r\n    border: none;\r\n    .ant-picker-suffix {\r\n      color: white;\r\n    }\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n  .data {\r\n    padding: 5px 0;\r\n    border-bottom: 1px solid rgba(255, 255, 255, 0.9);\r\n  }\r\n  input {\r\n    color: white;\r\n    background: transparent;\r\n    border: none;\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n  input::-webkit-input-placeholder {\r\n    color: rgba(255, 255, 255, 0.7);\r\n  }\r\n  textarea {\r\n    resize: none;\r\n    width: 100%;\r\n    color: white;\r\n    background: transparent;\r\n    border: none;\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n  textarea::-webkit-input-placeholder {\r\n    color: rgba(255, 255, 255, 0.7);\r\n  }\r\n  .type__select {\r\n    color: white;\r\n    justify-content: space-between;\r\n    > select:first-of-type {\r\n      cursor: pointer;\r\n      width: 100%;\r\n      border: none;\r\n      color: white;\r\n      background: transparent;\r\n      > option {\r\n        color: black;\r\n      }\r\n      &:focus {\r\n        outline: none;\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const SelectResponsible = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: white;\r\n  .black {\r\n    color: black;\r\n  }\r\n  input {\r\n    border-bottom: 1px solid white;\r\n    margin: 0 0 5px 0;\r\n  }\r\n  p {\r\n    margin: 0;\r\n  }\r\n  div:first-of-type {\r\n    height: 85px;\r\n  }\r\n  div {\r\n    overflow: hidden auto;\r\n    padding: 0;\r\n    margin: 0;\r\n    background: white;\r\n    > p {\r\n      position: relative;\r\n      cursor: pointer;\r\n      background: #1890FF;\r\n      margin: 2.5px;\r\n      padding: 0 30px 0 5px;\r\n      font-size: 13px;\r\n      border: 1px solid #1890FF;\r\n      border-radius: 4px;\r\n      transition: all .2s ease;\r\n      &:hover {\r\n        background: transparent;\r\n        color: #1890FF;\r\n      }\r\n    }\r\n  }\r\n  > div:last-of-type {\r\n    margin: 5px 0 0 0;\r\n  }\r\n`\r\nexport const AccountTypeSpan = styled.span`\r\n  position: absolute;\r\n  right: 5px;\r\n  top: 0;\r\n  margin: 0;\r\n  padding: 0;\r\n  color: #FFC700;\r\n  font-family: \"MontBold\";\r\n`\r\nexport const SubmitButton = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  > button {\r\n    color: #1890FF;\r\n    border: none;\r\n    padding: 2.5px 15px;\r\n    background: white;\r\n    margin: 10px 0 5px 0;\r\n    transition: all .2s ease;\r\n    &:hover {\r\n      background: lightgray;\r\n    }\r\n  }\r\n`\r\nexport const OpacityParagraph = styled.p`\r\n  opacity: 0.8;\r\n  width: 95%;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`\r\nexport const DeleteButton = styled.button`\r\n  border: none;\r\n  background: transparent;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  > span {\r\n    color: gray;\r\n    transition: all .2s ease;\r\n    &:hover {\r\n      color: lightgray;\r\n    }\r\n  }\r\n`\r\nexport const WrapperTaskComponent = styled.div`\r\n  padding: 0 45px 0 0;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  > div > p:first-of-type {\r\n    font-weight: bold;\r\n  }\r\n  > .done {\r\n    text-decoration: ${props => props.done ? \"line-through\" : \"none\"};\r\n  }\r\n  p {\r\n    margin: 0;\r\n  }\r\n`\r\nexport const CheckboxContainer = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  right: 5px;\r\n`\r\n","import axios from \"axios\"\r\n\r\nexport const getResponsibles = async (url, query = \"\") => {\r\n  let result\r\n\r\n  await axios.get(`${url}/CRM/Search/CRMUsers?query=${query}`, {\r\n    headers: {\r\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\r\n    }\r\n  }).then (res => result = res.data)\r\n\r\n  return result\r\n}","import axios from \"axios\"\r\n\r\nexport const createTask = async (url, newTask) => {\r\n  let taskFromServer\r\n\r\n  await axios.post(`${url}/CRM/Tasks`, newTask, {\r\n    headers: {\r\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\r\n    }\r\n  }).then(response => taskFromServer = response.data)\r\n\r\n  return taskFromServer\r\n}","import React, {useCallback, useEffect, useState} from \"react\"\r\nimport {DoubleLeftOutlined} from \"@ant-design/icons\"\r\nimport {DatePicker} from \"antd\"\r\nimport moment from \"moment\"\r\n\r\nimport {AccountTypeSpan, CreateTask, SelectResponsible, SubmitButton, WrapperTasks} from \"./task.styled\"\r\nimport {getResponsibles} from \"./requests/getResponsibles\"\r\nimport Url from \"../../../../../../url/url\"\r\nimport {swallErr} from \"../../../../../../alert/alert\"\r\nimport {createTask} from \"./requests/createTask\"\r\n\r\nexport const CreateTaskComponent = ({_id, fio, setRelTasks}) => {\r\n\r\n  // data\r\n  const {name, surname} = fio\r\n  const dateFormat = [\"DD/MM/YYYY | HH:mm\"]\r\n  // data\r\n\r\n  // useState\r\n  const [responsibles, setResponsibles] = useState([])\r\n  const [selectedResponsible, setSelectedResponsible] = useState(\"\")\r\n  const [search, setSearch] = useState(\"\")\r\n  const [opened, setOpened] = useState(false)\r\n  const [title, setTitle] = useState(\"\")\r\n  const [text, setText] = useState(\"\")\r\n  const [deadline, setDeadline] = useState(moment().get())\r\n  const [type, setType] = useState(0)\r\n  // useState\r\n\r\n  // useCallback\r\n  const getResponsiblesCallback = useCallback(async () => {\r\n    const responsiblesFromReq = await getResponsibles(Url, search)\r\n    setResponsibles(prev => prev = responsiblesFromReq.body.hits.hits)\r\n  }, [search])\r\n  // useCallback\r\n\r\n  // useEffect\r\n  useEffect(() => {\r\n    getResponsiblesCallback()\r\n  }, [getResponsiblesCallback])\r\n  // useEffect\r\n\r\n  // methods\r\n  const selectType = (typeNumber) => {\r\n    if (typeNumber === 0) return \"Связаться\"\r\n    if (typeNumber === 1) return \"Созвониться\"\r\n  }\r\n  const onCreateTaskClearForm = () => {\r\n    setTitle(prev => prev = \"\")\r\n    setText(prev => prev = \"\")\r\n    setType(prev => prev = 0)\r\n    setSearch(prev => prev = \"\")\r\n    setDeadline(prev => prev = moment().get())\r\n    setSelectedResponsible(prev => prev = \"\")\r\n  }\r\n  const onChangeTitle = (ev) => {\r\n    setTitle(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeText = (ev) => {\r\n    setText(prev => prev = ev.target.value)\r\n  }\r\n  const onChangeDate = (ev) => {\r\n    setDeadline(prev => prev = ev)\r\n  }\r\n  const onChangeType = (ev) => {\r\n    setType(prev => prev = Number(ev.target.value))\r\n  }\r\n  const onChangeSearch = (ev) => {\r\n    setSearch(prev => prev = ev.target.value)\r\n  }\r\n  const onClickSelectResponsible = (responsible) => {\r\n    setSelectedResponsible(prev => prev = responsible)\r\n  }\r\n  const onClickDeleteResponsible = (deletedResponsible) => {\r\n    setSelectedResponsible(prev => prev = \"\")\r\n  }\r\n  const onClickSubmit = async () => {\r\n    const taskName = type !== 2 ? `${selectType(type)} с ${name} ${surname}` : title\r\n    const newTask = {\r\n      name: taskName,\r\n      text,\r\n      deadline: deadline.toISOString(),\r\n      responsible: selectedResponsible._id,\r\n      type, //delete\r\n      for: _id\r\n    }\r\n    if (taskName.replaceAll(\" \", \"\").length === 0) {\r\n      return swallErr(\"Ошибка!\", \"Название пустое\")\r\n    }\r\n    if (deadline && deadline.isBefore(moment().get())) {\r\n      return swallErr(\"Ошибка!\", \"Окончательный срок не может быть раньше сегодняшней даты\")\r\n    }\r\n    if (selectedResponsible === \"\") {\r\n      return swallErr(\"Ошибка!\", \"Ответсвенный не выбран\")\r\n    }\r\n    const createdTask = await createTask(Url, newTask)\r\n    setRelTasks(prev => prev = [...prev, createdTask])\r\n    onCreateTaskClearForm()\r\n    setOpened(prev => prev = false)\r\n  }\r\n  const onClickOpenCreateTaskMenu = () => {\r\n    setOpened(prev => prev = !prev)\r\n  }\r\n  // methods\r\n\r\n  return (\r\n    <>\r\n      <WrapperTasks opened={opened} type={type}>\r\n        <div className=\"buttonUp\">\r\n          <button onClick={onClickOpenCreateTaskMenu}>\r\n            <DoubleLeftOutlined/>\r\n            Создать\r\n          </button>\r\n        </div>\r\n        <CreateTask>\r\n          <div className=\"type__select data\">\r\n            <select value={type} onChange={onChangeType}>\r\n              <option value=\"0\" defaultChecked>Связаться</option>\r\n              <option value=\"1\">Созвониться</option>\r\n              <option value=\"2\">Другое</option>\r\n            </select>\r\n          </div>\r\n          {type === 2 ? <div className=\"input__title data\">\r\n            <input placeholder=\"Название\" type=\"text\" name=\"title\" value={title} onChange={onChangeTitle}/>\r\n          </div> : <p></p>}\r\n          <div className=\"textarea__text data\">\r\n            <textarea placeholder=\"Задача\" name=\"text\" rows={5} value={text} onChange={onChangeText}/>\r\n          </div>\r\n          <div className=\"datepicker__deadline data\">\r\n            <DatePicker showTime value={deadline} placeholder=\"Конечный срок\" format={dateFormat}\r\n                        onChange={onChangeDate}/>\r\n          </div>\r\n          <SelectResponsible>\r\n            <p>Ответственный:</p>\r\n            <input type=\"text\" name=\"search\" value={search} onChange={onChangeSearch} placeholder=\"Поиск\"/>\r\n            <div>\r\n              {responsibles.length > 0 ? responsibles.map(el => (\r\n                <p key={el._id}\r\n                   onClick={() => onClickSelectResponsible(el)}>{el._source.surname} {el._source.name} {el._source.midname}\r\n                  <AccountTypeSpan>{el._source.accountType}</AccountTypeSpan></p>\r\n              )) : <span className=\"black\">Ничего не найдено</span>}\r\n            </div>\r\n            <p>Выбран:</p>\r\n            <div>\r\n              {selectedResponsible ? <p\r\n                  onClick={() => onClickDeleteResponsible(selectedResponsible)}>{selectedResponsible._source.surname} {selectedResponsible._source.name} {selectedResponsible._source.midname}\r\n                  <AccountTypeSpan>{selectedResponsible._source.accountType}</AccountTypeSpan></p> :\r\n                <span className=\"black\">Не выбран</span>}\r\n            </div>\r\n          </SelectResponsible>\r\n          <SubmitButton>\r\n            <button onClick={onClickSubmit}>Создать</button>\r\n          </SubmitButton>\r\n        </CreateTask>\r\n      </WrapperTasks>\r\n    </>\r\n  )\r\n}","import axios from \"axios\"\r\n\r\nexport const deleteTask = async (url, id) => {\r\n  await axios.delete(`${url}/CRM/Tasks/${id}`, {\r\n    headers: {\r\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\r\n    }\r\n  })\r\n}","import axios from \"axios\"\r\n\r\nexport const editDoneTask = async (url, id, done) => {\r\n  await axios.patch(`${url}/CRM/Tasks/${id}`, done, {\r\n    headers: {\r\n      authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\r\n    }\r\n  })\r\n}","import {useState, useEffect} from \"react\"\r\nimport React from \"react\"\r\nimport {List, Checkbox} from \"antd\"\r\nimport moment from \"moment\"\r\nimport {CloseOutlined} from  \"@ant-design/icons\"\r\n\r\nimport {DeleteButton, OpacityParagraph, CheckboxContainer, WrapperTaskComponent} from \"./task.styled\"\r\nimport {deleteTask} from \"./requests/deleteTask\"\r\nimport Url from \"../../../../../../url/url\"\r\nimport {editDoneTask} from \"./requests/editDoneTask\"\r\n\r\nexport const TaskComponent = ({task, index, setRelTasks}) => {\r\n\r\n  // useState\r\n  const [done, setDone] = useState(task.done)\r\n  // useState\r\n\r\n  // methods\r\n  const resFIO = (key) => {\r\n    if (Array.isArray(task.responsible)) {\r\n      return task.responsible[0][key]\r\n    }\r\n    if (!Array.isArray(task.responsible) && task.responsible instanceof Object) {\r\n      return task.responsible[key]\r\n    }\r\n    return \"...\"\r\n  }\r\n  const onClickDeleteTask = async (id) => {\r\n    try {\r\n      await deleteTask(Url, id)\r\n      setRelTasks(prev => prev.filter(task => task._id !== id))\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  const onChangeEditDone = async (id, ev) => {\r\n    const checked = ev.target.checked\r\n    await editDoneTask(Url, id, {done: checked})\r\n    setDone(prev => prev = checked)\r\n  }\r\n  // methods\r\n\r\n  return (\r\n    <List.Item>\r\n      <WrapperTaskComponent done={done}>\r\n        <div>\r\n          <OpacityParagraph>{task.name}</OpacityParagraph>\r\n          <OpacityParagraph>Срок до: {moment(task.deadline).format(\"DD/MM/YYYY | HH:mm\")}</OpacityParagraph>\r\n          <OpacityParagraph>\r\n            Ответственнен: {resFIO(\"midname\")} {resFIO(\"name\")} {resFIO(\"surname\")}\r\n          </OpacityParagraph>\r\n          <DeleteButton onClick={() => onClickDeleteTask(task._id)}><CloseOutlined /></DeleteButton>\r\n        </div>\r\n        <p className=\"done\">{task.text}</p>\r\n        <CheckboxContainer>\r\n          <Checkbox checked={done} onChange={(ev) => onChangeEditDone(task._id, ev)} />\r\n        </CheckboxContainer>\r\n      </WrapperTaskComponent>\r\n    </List.Item>\r\n  );\r\n};","import React, {useState} from \"react\"\r\n\r\nimport {CreateTaskComponent} from \"./CreateTask\"\r\nimport {List} from \"antd\";\r\nimport {TaskComponent} from \"./TaskComponent\";\r\n\r\nexport const Tasks = ({_id, fio, tasks}) => {\r\n\r\n  // useState\r\n  const [relTasks, setRelTasks] = useState(tasks)\r\n  // useState\r\n\r\n  return (\r\n    <>\r\n      <CreateTaskComponent setRelTasks={setRelTasks} _id={_id} fio={fio}/>\r\n      <List className=\"specialList\" header={`Всего задач: ${Array.isArray(relTasks) ? relTasks.length : 0}`}\r\n            itemLayout=\"horizontal\" dataSource={relTasks} renderItem={(task, idx) => (\r\n        <TaskComponent key={task._id} task={task} setRelTasks={setRelTasks} index={idx}/>\r\n      )}/>\r\n    </>\r\n  )\r\n}","import React, {useState} from 'react'\nimport {Button, Drawer} from 'antd'\nimport styled from '@emotion/styled'\n\nimport ChatItem from './chat-item/chat.js'\nimport {CommentList} from \"./chat-item/CommentList\"\nimport {DivDrawerStyles} from \"./styled\";\nimport {Tasks} from \"./task-item/Tasks\";\n\nconst DrawerChat = ({notes, update, _id, fio, tasks}) => {\n\n  // useState\n  const [visible, setVisible] = useState(false);\n  const [comments, setComments] = useState(notes)\n  // useState\n\n  // data\n  let notesLocal = [...notes]\n  let notesGlobal = []\n  // data\n\n\n  // methods\n  const showDrawer = () => {\n    setVisible(true);\n  };\n  const onClose = () => {\n    if (visible) {\n      update()\n      setComments([])\n    }\n    setVisible(false);\n  };\n  const COMEN = styled.div({\n    '.ant-comment-content-detail': {\n      borderBottom: '1px solid #f0f0f0'\n    }\n  })\n  // methods\n\n  // util\n  notesLocal.forEach(item => {\n\n    let {author, date, text} = item\n\n    notesGlobal.push(\n      {\n        author: author,\n        content: <p>{text}</p>,\n        datetime: date,\n      }\n    )\n  })\n  notesGlobal.push(...comments)\n  // util\n\n\n  return (\n    <React.Fragment>\n      <Button className='Button-Drawer' type=\"primary\" onClick={showDrawer}>\n        Открыть коментарии\n      </Button>\n      <Drawer\n        style={{padding: \"0 24px 0 24px\"}}\n        width={'400px'}\n        placement=\"right\"\n        closable={false}\n        onClose={onClose}\n        visible={visible}\n      >\n        <DivDrawerStyles>\n          <div>\n            <CommentList comments={notesGlobal}/>\n            <ChatItem commentsObj={{comments, setComments}} update={update} _id={_id}/>\n          </div>\n          <COMEN>\n            <Tasks tasks={tasks} _id={_id} fio={fio}/>\n          </COMEN>\n        </DivDrawerStyles>\n      </Drawer>\n    </React.Fragment>\n  );\n};\n\nexport default DrawerChat","import React, {useState} from 'react';\nimport {Dropdown, Menu} from 'antd';\n\nimport Change_Balance from './../../../change-balance/changeBalance.js';\n// Style\nimport styled from '@emotion/styled';\n\nconst Balance = ({balance_item, pageStudent_id, updeteStudent}) => {\n\n    const [visible, setVisible] = useState(false)\n    const [balance, setBalance] = useState(+balance_item ? +balance_item : 0);\n\n    let incBalance = 0;\n\n    const returnBalance = () => {\n        setBalance(balance)\n    }\n\n    const ChangeBalance = () => {\n        let sum = +balance + +incBalance\n        setBalance(sum);\n\n        Change_Balance(incBalance, pageStudent_id, updeteStudent, undefined, undefined, undefined, returnBalance);\n    }\n\n    const Span = styled.span({\n        borderRadius: '6px',\n        fontWeight: '500',\n        cursor: 'pointer',\n        fontSize: '14px'\n    });\n\n    const menu = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Пополнить\"\n                    onChange={(e) => {\n                        incBalance = e.target.value\n                    }}\n                    type=\"number\" className=\"text-info form-control col-12\"\n                />\n            </Menu.Item>\n            <Menu.Item>\n                <Span\n                    onClick={() => {\n                        setVisible(!visible)\n                        ChangeBalance()\n                    }}\n                    className=\"badge bg-warning text-dark\">\n                    Сохранить\n                </Span>\n            </Menu.Item>\n        </Menu>\n    );\n\n    return (\n        <div className=\"balance\">\n            <h6 className=\"calendar badge bg-success text-light\">\n                {balance}\n                <span>₽</span>\n            </h6>\n            <Dropdown overlay={menu} visible={visible} trigger={['click']}>\n                <i id=\"dropdownMenuReference\"\n                   className=\"bi bi-plus\"\n                   onClick={() => {\n                       setVisible(!visible)\n                   }}\n                   style={{fontSize: \"30px\", color: '#17a2b8', cursor: 'pointer'}}\n                />\n            </Dropdown>\n        </div>\n    );\n}\n\nexport default Balance;","import axios from \"axios\";\r\nimport Url from \"../../../../url/url\";\r\nimport errorHandler from \"../../../error-handler/error-handler\";\r\n\r\nlet colors = ['magenta', 'red', 'volcano', 'orange', 'gold', 'lime', 'green', 'cyan', 'blue', 'geekblue', 'purple']\r\n\r\nexport const updateStatuses = (set, setLoading) => {\r\n\r\n    setLoading(true)\r\n\r\n    axios({\r\n        method: 'get',\r\n        url: `${Url}/CRM/Statuses`,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        }\r\n    })\r\n        .then(res => {\r\n            set(res.data)\r\n            setLoading(false)\r\n        })\r\n        .catch(error => {\r\n            errorHandler(updateStatuses, error, () => {\r\n                setLoading(false)\r\n            })\r\n        })\r\n}\r\n\r\nexport const createStatus = (setStatuses, setLoading, setValue, value, Statuses) => {\r\n    if (value) {\r\n        let idx = Math.floor(Math.random() * (10))\r\n\r\n        setLoading(true)\r\n        setValue('')\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Statuses`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: {\r\n                name: value,\r\n                color: colors[idx]\r\n            }\r\n        })\r\n            .then(res => {\r\n                setStatuses([...Statuses, res.data])\r\n                setLoading(false)\r\n            })\r\n            .catch(error => {\r\n                errorHandler(createStatus, error, () => {\r\n                    setLoading(false)\r\n                })\r\n            })\r\n    }\r\n}\r\n\r\nexport const onDelete = (_id, setStatuses, Statuses, setLoading) => {\r\n    let box = Statuses.filter(item => item._id !== _id)\r\n\r\n    setLoading(true)\r\n\r\n    axios({\r\n        method: 'delete',\r\n        url: `${Url}/CRM/Statuses/${_id}`,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        }\r\n    })\r\n        .then(() => {\r\n            setStatuses(box)\r\n            setLoading(false)\r\n        })\r\n        .catch(error => {\r\n            errorHandler(onDelete, error, () => {\r\n                setLoading(false)\r\n            })\r\n        })\r\n}\r\n\r\nexport const attachStatus = (statuses_id, setLoading, updateStudent, student_id,) => {\r\n\r\n    setLoading(true)\r\n\r\n    axios({\r\n        method: 'patch',\r\n        url: `${Url}/CRM/Pupils/${student_id}`,\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8',\r\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        },\r\n        data: {\r\n            statuses: statuses_id\r\n        }\r\n    })\r\n        .then(res => {\r\n            setLoading(false)\r\n            updateStudent(res.data)\r\n        })\r\n        .catch(error => {\r\n            errorHandler(attachStatus, error, () => {\r\n                setLoading(false)\r\n            })\r\n        })\r\n}","import React, {useState} from \"react\";\r\nimport {Button, Checkbox, Input, Menu, Space} from \"antd\";\r\nimport {\r\n    DeleteOutlined\r\n} from '@ant-design/icons'\r\nimport {createStatus, onDelete, attachStatus} from './logic-statuses'\r\nimport {useParams} from \"react-router-dom\";\r\n\r\nconst CreatingStatuses = ({studentStatuses, updateStudent, globalStatuses}) => {\r\n\r\n    const student_id = useParams().id\r\n    let statuses_id = studentStatuses.map(status => status._id)\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [Statuses, setStatuses] = useState(globalStatuses)\r\n    const [value, setValue] = useState('')\r\n\r\n    return (\r\n        <>\r\n            <div style={{padding: 8, background: '#fff'}}>\r\n                <Input\r\n                    autoComplete={'off'}\r\n                    value={value}\r\n                    id={'creating-statuses'}\r\n                    placeholder={`Статус...`}\r\n                    onChange={(e) => {\r\n                        setValue(e.target.value)\r\n                    }}\r\n                    onPressEnter={() => {\r\n                        createStatus(setStatuses, setLoading, setValue, value, Statuses)\r\n                    }}\r\n                    style={{marginBottom: 8, display: \"block\"}}\r\n                />\r\n                <Space>\r\n                    <Button\r\n                        loading={loading}\r\n                        type=\"primary\"\r\n                        onClick={() => {\r\n                            createStatus(setStatuses, setLoading, setValue, value, Statuses)\r\n                        }}\r\n                        size=\"small\"\r\n                    >\r\n                        Добавить новый статус\r\n                    </Button>\r\n                </Space>\r\n                <Menu>\r\n                    {\r\n                        Statuses.map(item => {\r\n\r\n                            let checked = false\r\n\r\n\r\n                            studentStatuses.forEach(status_statuses => {\r\n                                if (status_statuses._id === item._id) {\r\n                                    checked = true\r\n                                }\r\n                            })\r\n\r\n                            return (\r\n                                <Menu.Item key={item._id}>\r\n                                    <Checkbox\r\n                                        defaultChecked={checked}\r\n                                        onChange={(e) => {\r\n\r\n                                            if (e.target.checked) {\r\n                                                statuses_id.push(item._id)\r\n                                            } else {\r\n                                                statuses_id = statuses_id.filter(status_id => (status_id !== item._id))\r\n                                            }\r\n                                        }}>\r\n                                        {item.name}\r\n                                        <DeleteOutlined\r\n                                            onClick={() => {\r\n                                                onDelete(item._id, setStatuses, Statuses, setLoading)\r\n                                            }}\r\n                                            style={{\r\n                                                position: 'absolute',\r\n                                                right: '10px',\r\n                                                top: '14px',\r\n                                                color: 'red'\r\n                                            }}\r\n                                        />\r\n                                    </Checkbox>\r\n                                </Menu.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n                <Button\r\n                    loading={loading}\r\n                    type=\"primary\"\r\n                    size=\"small\"\r\n                    onClick={() => {\r\n                        attachStatus(statuses_id, setLoading, updateStudent, student_id)\r\n                    }}\r\n                    style={{marginTop: 10}}\r\n                >\r\n                    Применить изменения\r\n                </Button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreatingStatuses","import React, {useEffect, useState} from \"react\";\r\nimport {Dropdown} from \"antd\";\r\nimport CreatingStatuses from \"./creating-statuses\";\r\nimport {\r\n    DownOutlined\r\n} from \"@ant-design/icons\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Skeleton} from 'antd'\r\nimport {updateStatuses} from \"./logic-statuses\";\r\n\r\nconst StudentStatuses = ({studentStatusesGlobal, updateStudent}) => {\r\n\r\n    const [globalStatuses, setGlobalStatuses] = useState(false)\r\n\r\n    useEffect(() => {\r\n        updateStatuses(setGlobalStatuses, () => {})\r\n    }, [])\r\n\r\n    if (!globalStatuses) {\r\n        return (\r\n            <div style={{padding: '12px 0'}}>\r\n                <Skeleton.Button active={true} style={{height: 25}}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Dropdown\r\n            overlay={<CreatingStatuses updateStudent={updateStudent}\r\n                                       studentStatuses={studentStatusesGlobal}\r\n                                       globalStatuses={globalStatuses}/>}\r\n            trigger={['click']}\r\n            // visible={true}\r\n        >\r\n            <Link\r\n                to={'#'}\r\n                style={{\r\n                    paddingLeft: '5px',\r\n                    lineHeight: '47px',\r\n                    overflow: 'hidden',\r\n                    width: '127px'\r\n                }}\r\n            >\r\n                Добавить статус <DownOutlined/>\r\n            </Link>\r\n        </Dropdown>\r\n    )\r\n}\r\n\r\nexport default StudentStatuses","import React from \"react\";\r\nimport {Tag} from \"antd\";\r\nimport styled from \"@emotion/styled\";\r\n\r\n// let colors = ['magenta', 'red', 'volcano', 'orange', 'gold', 'lime', 'green', 'cyan', 'blue', 'geekblue', 'purple']\r\nconst Box = styled.div`\r\n  height: 47px;\r\n  display: flex;\r\n  line-height: 47px;\r\n  overflow: auto;\r\n\r\n  &::-webkit-scrollbar {\r\n    height: 2px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #5c636a;\r\n  }\r\n`\r\n\r\nconst ListStatuses = ({items}) => {\r\n\r\n    return (\r\n        <Box>\r\n            {\r\n                items.map((status) => {\r\n\r\n                    // let idx = Math.floor(Math.random() * (10))\r\n                    // if (i > colors.length - 1) {\r\n                    //     idx = 0\r\n                    // } else {\r\n                    //     idx += 1\r\n                    // }\r\n\r\n                    return (\r\n                        <div key={status._id}>\r\n                            <Tag color={status.color}>{status.name}</Tag>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default ListStatuses","import React, {useEffect, useState} from 'react';\nimport {useParams} from \"react-router-dom\";\n\nimport Url from './../../../../url/url.js';\nimport localStorage_change from './../../../../#localStorage_change.js';\nimport {swallErr} from './../../../../alert/alert.js'\n\nimport PupilsSandTime from './../../group/group-page/PupilsSandTime/PupilsSandTime.js';\nimport InfoTable from './Info-table/InfoTable.js';\nimport PayHistory from './payment-history/paymentHistory.js';\nimport DrawerChat from './chat/drawer-chat.js'\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\n// Block\nimport Balance from './balance/balance.js';\n\n// Style\nimport styled from '@emotion/styled';\nimport StudentStatuses from \"../student-statuses/student-statuses\";\nimport ListStatuses from \"../student-statuses/list-statuses\";\n\nconst breakpoints = [767],\n    mq = breakpoints.map(\n        bp => `@media (max-width: ${bp}px)`\n    );\n\nconst StudentPage = styled.div({\n    marginTop: '0px',\n    margin: '0 auto',\n    '.pad': {\n        padding: '0px',\n        paddingRight: '10px',\n        [mq[0]]: {\n            paddingRight: '0px'\n        }\n    },\n    '.infoLog': {\n        marginBottom: '10px',\n        padding: '0',\n        [mq[0]]: {\n            paddingBottom: '10px'\n        },\n        '.calendar': {\n            margin: 'auto 0',\n            marginRight: '10px',\n            fontSize: '20px',\n            span: {\n                paddingLeft: '6px'\n            }\n        }\n    },\n    '.group-name': {\n        borderBottom: '1px solid #0dcaf0',\n        padding: '0px',\n        [mq[0]]: {\n            borderRight: 'none'\n        }\n    },\n    '.balance': {\n        display: 'flex',\n        h5: {\n            fontSize: '1.25rem'\n        }\n    },\n    '.Button-Drawer': {\n        position: 'absolute',\n        right: '0',\n        top: '8px'\n    },\n    '.ulBox': {\n        borderRadius: '15px',\n        padding: '0px',\n    },\n    '.editing': {\n        background: '#fff',\n        borderRadius: '10px 10px 0 0',\n        i: {\n            marginLeft: '95%',\n            cursor: 'pointer'\n        }\n    },\n    li: {\n        backgroundColor: 'none',\n        span: {\n            fontSize: '16px',\n            margin: '0 5px 5px 0'\n        }\n    }\n});\n\nconst TablePupils = styled.div({\n    background: '#fff',\n    margin: '10px 0',\n    padding: '10px',\n    borderRadius: '15px',\n    '& > h3': {\n        fontSize: '22px'\n    }\n});\n\nconst PageStudent = () => {\n\n    let pageStudent_id = useParams().id\n\n    const [dataStudent, setDataS] = useState({\n        _id: \"60ba505dc12d3b9783c51d0f\",\n        name: \"Загрузка...\",\n        surname: \"\",\n        midname: \"\",\n        gender: \"\",\n        dateOfBirth: \"2004-12-07\",\n        phone: \"\",\n        parentPhone: \"\",\n        discord: \"\",\n        balance: 0,\n        localSchedule: {},\n        groups: [],\n        paymentHistory: [\n            {type: 1, date: \"\", amount: 0, issuer: \"\", subscription: null},\n            {type: 0, date: \"\", amount: 0, issuer: \"\", subscription: null}\n        ],\n        notes: [],\n        statuses: []\n    });\n\n    console.log(dataStudent)\n\n    const {notes, groups, name, balance, localSchedule, paymentHistory, tasks} = dataStudent;\n\n    const axios = require('axios'); // AJAX\n\n    const getStudent_Id = (onSuccess = () => {}) => {\n        axios({\n            method: 'get',\n            url: `${Url}/CRM/Pupils/${pageStudent_id}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n            .then((res) => {\n                setDataS(res.data);\n                onSuccess()\n            })\n            .catch((error) => {\n                if (error.response) {\n                    RestrictionMessage(error.response.status)\n                    let {status, data} = error.response;\n\n                    if (status == 404) {\n                        swallErr('404', 'Сервер не найден')\n                    } else if (status == 401) {\n\n                        if (data.message == 'TOKEN_EXPIRED') {\n\n                            localStorage_change(data.token);\n                            getStudent_Id();\n                        } else {\n                            localStorage.removeItem('tokenID');\n                            window.location.replace(\"/\");\n                        }\n                    }\n                }\n            })\n    }\n\n    useEffect(() => {\n        getStudent_Id();\n    }, [useParams().id]);\n\n    let arrIdSch = [];\n    for (let key in localSchedule) {\n        arrIdSch.push(key);\n    }\n\n    let groups_id = [];\n\n    groups.forEach((item) => {\n        groups_id.push(item.group_name);\n    });\n\n    let PupilsSandTimeGroup = arrIdSch.map((id, i) => {\n\n        if (i < groups_id.length) {\n            return <PupilsSandTime key={id} pageInfo={'group'} itemG={dataStudent} dataGroup={id}\n                                   getGroup_Id={getStudent_Id} setData={setDataS} name={groups_id[i]} type='pupil'/>\n        }\n\n    });\n\n    return (\n        <StudentPage className=\"container row col-12\">\n            <div className=\"col-12 col-md-6 pad\">\n                <div className=\"infoLog align-self-start col-md-12 col-12\">\n                    <div className=\"group-name col-12 col-lg-12\">\n                        <h3>{name}</h3>\n                        <DrawerChat tasks={tasks} notes={notes} fio={{\n                            name: dataStudent.name,\n                            midname: dataStudent.midname,\n                            surname: dataStudent.surname\n                        }} update={getStudent_Id} _id={pageStudent_id}/>\n                    </div>\n                    <div style={{display: 'flex', height: '47px'}}>\n                        <Balance\n                            balance_item={balance}\n                            pageStudent_id={pageStudent_id}\n                            updeteStudent={getStudent_Id}/>\n                        <ListStatuses items={dataStudent.statuses ? dataStudent.statuses : []}/>\n                        <StudentStatuses updateStudent={setDataS}\n                                         studentStatusesGlobal={dataStudent.statuses ? dataStudent.statuses : []}/>\n                    </div>\n                </div>\n                <PayHistory pay_History={paymentHistory}/>\n            </div>\n            <div className=\"col-md-6 ulBox\">\n                <InfoTable getStudent_Id={getStudent_Id} dataStudent={dataStudent} updetePage={setDataS}/>\n            </div>\n            <TablePupils className=\"container col-12\">\n                <h3 className=\"badge bg-warning\">Группы:</h3>\n                {PupilsSandTimeGroup}\n            </TablePupils>\n        </StudentPage>\n    );\n};\n\nexport default PageStudent;\n","import React, {useState} from \"react\";\r\nimport {Input} from \"antd\";\r\nimport {setStudent, removeStudent, sortingSearchResponses} from './group-logic'\r\nimport {serverRequest} from \"../../search/server-request\";\r\n\r\nconst AddingStudentsToGroup = ({addStudent, addedStudents}) => {\r\n\r\n    const [ArrayEligibleStudents, setArrayEligibleStudents] = useState([])\r\n    const [value, setValue] = useState('')\r\n\r\n    const SuitableStudents = ArrayEligibleStudents.map(item => {\r\n\r\n        const {name, surname, midname, id} = item\r\n\r\n        return (\r\n            <li\r\n                onClick={() => {\r\n                    setStudent(item, addedStudents, addStudent, setValue)\r\n                }}\r\n                key={id}\r\n                className=\"list-group-item\">\r\n                <span className=\"badge bg-warning text-dark\">{`${surname} ${name} ${midname}`}</span>\r\n            </li>\r\n        )\r\n    })\r\n\r\n    const AddedStudentButton = addedStudents.map(item => {\r\n\r\n        const {name, surname, midname, id} = item\r\n\r\n        return (\r\n            <button\r\n                onClick={() => {\r\n                    removeStudent(id, addedStudents, addStudent, setValue)\r\n                }}\r\n                key={id}\r\n                type=\"button\"\r\n                className=\"btn btn-info\">\r\n                {`${surname} ${name} ${midname}`}\r\n                <i className=\"bi bi-x\" style={{fontSize: '15px'}}></i>\r\n            </button>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"mb-3\">\r\n            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Добавить\r\n                учеников</label>\r\n            <div className=\"row addPUPILS\">\r\n                <div className=\"col-sm-6 input-group\">\r\n                    <Input\r\n                        placeholder={'Найти...'}\r\n                        onChange={(e) => {\r\n                            setValue(e.target.value)\r\n                            serverRequest((data) => {sortingSearchResponses(data, setArrayEligibleStudents)}, encodeURI(e.target.value), '')\r\n                        }}\r\n                        value={value}\r\n                    />\r\n\r\n                    <ul className=\"col-12 list-group list-group-flush\">\r\n                        {SuitableStudents}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-sm-6 boxPUPILS\">\r\n                    {AddedStudentButton}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddingStudentsToGroup","import styled from \"@emotion/styled\";\r\n\r\nconst breakpoints = [1020, 700],\r\n    mq = breakpoints.map(\r\n        bp => `@media (max-width: ${bp}px)`\r\n    );\r\nexport const Table = styled.div({\r\n    padding: '0 30px',\r\n    [mq[1]]: {\r\n        padding: '0 0',\r\n    },\r\n    '.table_user': {\r\n        overflowX: 'auto',\r\n        '&::-webkit-scrollbar': {\r\n            height: '10px',\r\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n            borderRadius: '10px'\r\n        },\r\n        '&::-webkit-scrollbar-thumb': {\r\n            backgroundColor: '#17a2b8',\r\n            borderRadius: '10px'\r\n        },\r\n    },\r\n    '.log_h2': {},\r\n    td: {\r\n        paddingTop: '1px',\r\n        paddingBottom: '4px'\r\n    },\r\n    'th, td': {\r\n        whiteSpace: 'nowrap'\r\n    }\r\n});\r\nexport const Form = styled.form({\r\n    '.addPUPILS': {\r\n        '.input-group': {\r\n            ul: {\r\n                overflowY: 'scroll',\r\n                height: '100px'\r\n            },\r\n            li: {\r\n                cursor: 'pointer',\r\n                padding: '5px',\r\n                span: {\r\n                    fontSize: '11px'\r\n                }\r\n            }\r\n        }\r\n    }\r\n});","import React, {useState, useEffect} from 'react';\nimport Url from './../../../url/url.js';\nimport {swallGood, swallErr} from '../../../alert/alert';\nimport Pagination from './../#more-functions/pagination/pagination.js'\nimport RestrictionMessage from '../../restriction-message/restriction-message.js'\nimport AddingStudentsToGroup from './adding-students-to-group'\n\nimport {Link} from \"react-router-dom\";\nimport {Modal, Button} from 'antd';\n\n// Style\nimport './group.css';\nimport {Table, Form} from './group-style'\nimport errorHandler from \"../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst Group = () => {\n\n    // Modal\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [loading, setLoading] = useState(false)\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    // /Modal\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(1)\n\n    const [availableStudents, setAvailableStudents] = useState(['Пусто...']);\n    const [PUPILS_search, setPUPILS_search] = useState([]);\n    const [availableTutor, setAvailableTutor] = useState([]);\n\n    const [groups, setGroups] = useState([]);\n\n    // Получить учеников\n    const getPupils = () => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/find?limit=150&offset=0`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let arr = [];\n            res.data.forEach((item) => {\n                arr.push([`${item.surname} ${item.name}`, item._id]);\n            });\n            setAvailableStudents(arr);\n            setPUPILS_search(arr);\n        })\n        .catch((error) => {\n            errorHandler(update, error)\n        });\n    }\n\n    // Получить группы\n    const getGroup = (offset = 0) => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/find?limit=10&offset=${offset}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data, headers} = res\n            setGroups(data)\n            setCount(headers.count)\n        })\n        .catch((error) => {\n            errorHandler(update, error)\n        })\n    }\n\n    const getTUTOR = (offset = 0) => {\n        axios({\n            method: 'get',\n            url: `${Url}/AdminPanel/CRMAccounts?limit=10&offset=${offset}&accountType=teacher`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            setAvailableTutor(data)\n        })\n        .catch((error) => {\n            errorHandler(getTUTOR, error)\n        })\n    }\n\n    const update = () => {\n        getTUTOR();\n        getPupils();\n        getGroup(offsetG);\n    };\n\n    useEffect(() => {\n        update();\n    }, []);\n\n    let A_Tutor = availableTutor.map((item, i) => {\n        let {name, surname, midname, _id} = item\n        return (\n            <option key={name + i} value={_id}>{surname} {name} {midname}</option>\n        );\n    });\n\n    const [pupils, setPupils] = useState([]);\n\n    const [group_name, setGROUP_NAME] = useState(''),\n        [places, setPLACES] = useState(''),\n        [tutor, setTUTOR] = useState(''),\n        [level, setLEVEL] = useState('');\n\n    let dataInput = {\n        group_name,\n        places,\n        tutor,\n        level\n    };\n\n    const addingStudentSafely = (newArr) => {\n\n        const {group_name, places, tutor, level} = dataInput\n\n        setGROUP_NAME(group_name)\n        setPLACES(places)\n        setTUTOR(tutor)\n        setLEVEL(level)\n        setPupils(newArr)\n    }\n\n    let tableGroup = groups.map((item) => {\n\n        const trashGroup = () => {\n\n            let i = document.getElementById(item._id);\n            i.style.opacity = '0.3';\n\n            axios({\n                method: \"DELETE\",\n                url: `${Url}/CRM/Groups/${item._id}`,\n                headers: {\n                    \"Content-Type\": \"application/json;charset=utf-8\",\n                    Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n                },\n            })\n            .then((res) => {\n                getGroup(offsetG);\n                i.style.opacity = '1';\n            })\n            .catch((error) => {\n                errorHandler(trashGroup, error)\n            });\n        };\n\n        const {group_name, tutor, level, places, pupils, global_schedule, _id} = item;\n\n        let PUPILS01 = pupils? pupils : []\n\n        let tutorText = 'Учитель не добавлен...',\n            time = '-'\n\n        if (global_schedule) {\n            if (global_schedule[0]) {\n\n                let {duration} = global_schedule[0]\n\n                time = `с ${duration[0]} до ${duration[1]}`\n            }\n        }\n\n        if (tutor) {\n            let {surname, name, midname} = tutor\n            tutorText = `${surname} ${name} ${midname}`\n        }\n\n        return (\n            <tr key={`${_id}`}>\n                <td className=\"td-trash\" scope=\"row\">\n                    <i id={_id} onClick={trashGroup} className=\"bi bi-trash\"\n                       style={{fontSize: '30px', color: '#F56767'}}></i>\n                </td>\n                <td className=\"align-middle td-use\">\n                    <Link\n                        className=\"link-info\"\n                        to={`/group/${_id}`}>\n                        {group_name}\n                    </Link>\n                </td>\n                <td className=\"align-middle td-use\">{tutorText}</td>\n                <td className=\"align-middle td-use\">{level} класс</td>\n                <td className=\"align-middle td-use\">{places}</td>\n                <td className=\"align-middle td-use\">{places - PUPILS01.length}</td>\n                <td className=\"align-middle td-use\">{time}</td>\n            </tr>\n        );\n\n    });\n\n    const formSubmit = () => {\n\n        let {group_name, places, tutor, level} = dataInput; // + pupils\n\n        let PUPILS_ID = [];\n        pupils.forEach((item) => {\n            PUPILS_ID.push(item.id);\n        });\n\n        setLoading(true)\n\n        axios({\n            method: \"POST\",\n            url: `${Url}/CRM/Groups`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n            },\n            data: {\n                group_name: group_name,\n                tutor: tutor || undefined,\n                level: +level,\n                places: +places,\n                pupils: PUPILS_ID\n            }\n        })\n        .then((res) => {\n            setLoading(false)\n            swallGood('Группа создана', 'Теперь добавьте расписание');\n            setIsModalVisible(false)\n            getGroup();\n            setGROUP_NAME('')\n            setPupils([])\n            setPLACES('')\n            setTUTOR('')\n            setLEVEL('')\n\n        })\n        .catch((error) => {\n            setLoading(false)\n            if (error.response) {\n                RestrictionMessage(error.response.status)\n                let {status} = error.response;\n\n                if (status == 400) {\n                    if (+places < PUPILS_ID.length) {\n                        swallErr('Ой...', 'Мест для учеников не хватает');\n                    } else {\n                        swallErr('Ой...', 'Заполните поля правильно');\n                    }\n                } else if (status == 401) {\n                    swallErr('Ой...', 'Где токен ?');\n                } else if (status == 500) {\n                    swallErr('Произошла поломка сервера', 'Сообщите об ошибке владельцу сервиса')\n                }\n            }\n        });\n    };\n\n    return (\n        <>\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\n                <div className=\"container-fluid d-flex\">\n                    <div className=\"collapse d-flex flex-row h3-person\">\n                        <div className=\"d-flex plus-box\">\n                            <div>\n                                <h3>Группы</h3>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"collapse d-flex flex-row-reverse\" id=\"navbarScroll\">\n                        <div className=\"d-flex plus-box\">\n                            <div className=\"nav-item plus\" onClick={showModal}>\n                                <i className=\"bi bi-people\" style={{fontSize: '38px', color: '#F56767'}}></i>\n                                <i className=\"bi bi-plus\" style={{fontSize: '30px', color: '#F56767'}}></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </nav>\n\n            <Table className=''>\n                <div>\n                    <div className={`table_user`}>\n                        <table className=\"table table-striped\">\n                            <thead>\n                            <tr>\n                                <th className=\"th-h\" scope=\"col\"></th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Группы</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Учитель</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Уровень</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Количество мест</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Свободных мест</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Время занятий</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {tableGroup}\n                            </tbody>\n                        </table>\n                    </div>\n                    <Pagination getItem={getGroup} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n                </div>\n            </Table>\n\n            <Modal\n                title=\"Добавить группу\"\n                visible={isModalVisible}\n                onCancel={handleCancel}\n                width={1000}\n                footer={[\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\n                        Отмена\n                    </Button>,\n                    <Button\n                        key=\"onOk1\"\n                        onClick={formSubmit}\n                        loading={loading}\n                        type=\"primary\"\n                    >\n                        Сохранить\n                    </Button>\n                ]}\n            >\n                <Form>\n                    <div className=\"modal-body\">\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputName\" className=\"fs-5 col-sm-4 col-form-label\">Имя группы</label>\n                            <div className=\"col-sm-8\">\n                                <input defaultValue={dataInput.group_name} autoComplete='off' onChange={(e) => {\n                                    dataInput.group_name = e.target.value\n                                }} required type=\"name\" name=\"group_name\" className={`form-control`} id=\"group_name\"/>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputMidname\" className=\"fs-5 col-sm-4 col-form-label\">Количество\n                                мест</label>\n                            <div className=\"col-sm-8\">\n                                <input defaultValue={dataInput.places} autoComplete='off' onChange={(e) => {\n                                    dataInput.places = e.target.value\n                                }} required type=\"number\" name=\"places\" className={`form-control`} id=\"places\"/>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Уровень\n                                подготовки</label>\n                            <div className=\"col-sm-8 input-group\">\n                                <select defaultValue={dataInput.level} onChange={(e) => {\n                                    dataInput.level = e.target.value\n                                }} required className=\"form-control\" id=\"inputGroupSelect01\">\n                                    <option defaultValue></option>\n                                    <option value=\"1\">1 класс</option>\n                                    <option value=\"2\">2 класс</option>\n                                    <option value=\"3\">3 класс</option>\n                                    <option value=\"4\">4 класс</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label className=\"fs-5 col-sm-4 col-form-label\">Учитель</label>\n                            <div className=\"col-sm-8 input-group\">\n                                <select defaultValue={dataInput.tutor} onChange={(e) => {\n                                    dataInput.tutor = e.target.value\n                                }} className=\"form-control\">\n                                    <option defaultValue></option>\n                                    {A_Tutor}\n                                </select>\n                            </div>\n                        </div>\n                        <AddingStudentsToGroup addStudent={addingStudentSafely} addedStudents={pupils}/>\n                    </div>\n                </Form>\n            </Modal>\n        </>\n    );\n};\n\nexport default Group;"," import React from 'react';\n\nimport moment from 'moment';\n\n// Style \nimport styled from '@emotion/styled';\n\n const SchedulE = styled.div({\n\t padding: '0',\n\t marginBottom: '15px',\n\t '.boxS': {\n\t\t overflow:'auto',\n\t\t maxHeight: '200px',\n\t },\n\t '.dataNumber': {\n\t\t margin: '0 3px 0 0',\n\t\t fontSize: '15px',\n\t\t fontWeight: '600',\n\t\t width: '48px'\n\t }\n });\n\nconst Schedule = ({global_schedule}) => {\n\n\tif (!global_schedule[0]) {\n\t\treturn (\n\t\t\t<SchedulE  className=\"col-12\">\n\t\t\t\t<h5>Расписания нет...</h5>\n\t\t\t</SchedulE>\n\t\t);\n\t}\n\n\tlet SpanDay = global_schedule.map((item) => {\n\n\t\tlet date = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\n\n\t\treturn (\n\t\t\t<span key={item.date} className=\"badge bg-light text-dark dataNumber\">{date}</span>\n\t\t);\n\t});\n\n\treturn (\n\t\t<SchedulE className=\"col-12\">\n\t\t\t<h5>{global_schedule[0].duration[0]} до {global_schedule[0].duration[1]}</h5>\n\t\t\t<div className=\"boxS\">\n\t\t\t\t{SpanDay}\n\t\t\t</div>\n\t\t</SchedulE>\n\t);\n};\n\nexport default Schedule;","import React, {useState, useEffect} from 'react';\nimport Url from './../../../../url/url.js';\nimport {swallGood} from './../../../../alert/alert.js';\n\nimport moment from 'moment';\nimport { Modal, Button } from 'antd';\n\n// Style\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\nconst axios = require('axios'); // AJAX\n\nconst ScheduleForm = ({updateGroup, groupID}) => {\n\n\t// Modal\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\n\tconst [loading, setLoading] = useState(false)\n\n\tconst showModal = () => {\n\t\tsetIsModalVisible(true);\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetIsModalVisible(false);\n\t};\n\t// /Modal\n\n\tlet dataInputs = {\n\t\tstartDate: '',\n\t\tendDate: '',\n\t\tduration_Start: '',\n\t\tduration_End: '',\n\t\tweekDay: []\n\t};\n\n\tlet weekDay = {\n\t\tone: [],\n\t\ttwo: [],\n\t\tthree: [],\n\t\tfour: [],\n\t\tfive: [],\n\t\tsix: [],\n\t\tzero: []\n\t};\n\n\tlet schedule = [];\n\n\tconst FindNeedle = () => {\n\t\tlet {startDate, duration_Start, duration_End, endDate} = dataInputs\n\t\tlet academicHours = (moment(`2000-01-01, ${duration_End}`).diff(`2000-01-01, ${duration_Start}`, 'hours'))\n\n\t\tlet dayNumber = moment(startDate).day();\n\n\t\tlet day_end = moment(endDate).format('DD.MM.YYYY');\n\n\t\tlet day = moment(startDate).format('DD.MM.YYYY'),\n\t\t\tday_number = moment(day, 'DD.MM.YYYY').day(),\n\t\t    inc = 1;\n\n\t\tconst PushDay = () => {\n\t\t\tdataInputs.weekDay.forEach((item) => {\n\t\t\t\tif (item == day_number) {\n\n\t\t\t\t\t\tlet scheduleItem = {\n\t\t\t\t\t\t\tdate: day,\n\t\t\t\t\t\t\tduration: [duration_Start, duration_End],\n\t\t\t\t\t\t\tstatus: '',\n\t\t\t\t\t\t\ttutor: '',\n\t\t\t\t\t\t\tpaid: false,\n\t\t\t\t\t\t\ttitle: ''\n\t\t\t\t\t\t};\n\t\t\t\t\tfor (let i = 0; i < academicHours; i++) {\n\t\t\t\t\t\tschedule.push(scheduleItem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tPushDay();\n\n\t\tdo {\n\t\t\tday = moment(dataInputs.startDate).day(dayNumber + inc).format('DD.MM.YYYY');\n\t\t\tday_number = moment(day, 'DD.MM.YYYY').day();\n\n\t\t\tPushDay();\n\n\t\t\tinc++;\n\t\t} while (day != day_end);\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${Url}/CRM/Groups/${groupID}/Schedule`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t},\n\t\t\tdata: schedule\n\t\t})\n\t\t.then((res) => {\n\n\t\t\tdocument.querySelectorAll(\"input\").forEach((item) => {item.value = ''});\n\t\t\tsetLoading(false)\n\t\t\tsetIsModalVisible(false)\n\t\t\tswallGood('Расписание создано', '');\n\t    \tfor (let key in weekDay) {\n\t\t\t\tweekDay[key] = [];\n\t\t\t}\n\t\t\tupdateGroup(); // Обновить группу.\n\t\t})\n\t\t.catch((error) => {\n\t\t\terrorHandler(FindNeedle, error)\n\t\t})\n\n\t\tconsole.log(schedule);\n\t};\n\n\n\tconst FormChance = () => {\n\t\tsetLoading(true)\n\n\t\tfor (let key in weekDay) {\n\t\t\tif (weekDay[key][0]) {\n\t\t\t\tdataInputs.weekDay.push(weekDay[key][1]);\n\t\t\t}\n\t\t}\n\t\n\t\tFindNeedle();\n\t};\n\n\tconst ScheduleForm = styled.div({\n\t\t'.form-check': {\n\t\t\tmarginRight: '12px',\n\t\t\tpaddingLeft: '100px'\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<i onClick={showModal}\n\t\t\t\t\t  className=\"bi bi-calendar2-plus\" \n\t\t\t\t\t  style={{fontSize: \"26px\", color: '#17a2b8', cursor: 'pointer'}}\n\t\t\t\t\t  ></i>\n\n\t\t\t<Modal \n\t\t\t\ttitle=\"Добавить расписание\" \n\t\t\t\tvisible={isModalVisible} \n\t\t\t\tonCancel={handleCancel}\n\t\t\t\twidth={1000}\n\t\t\t\tfooter={[\n\t\t\t\t\t<Button key=\"onCancel1\" onClick={handleCancel}>\n\t\t\t\t\t\tОтмена\n\t\t\t\t\t</Button>,\n\t\t\t\t\t<Button \n\t\t\t\t\t\tkey=\"onOk1\" \n\t\t\t\t\t\tonClick={FormChance}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tСохранить\n\t\t\t\t\t</Button>\n\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t<ScheduleForm>\n\t\t\t\t\t<form className=\"row g-3\">\n\t\t\t        \t<div className=\"col-md-6\">\n\t\t\t\t\t\t    <label className=\"form-label\">Период:</label>\n\t\t\t\t\t\t    <div className=\"row periud\">\n\t\t\t\t\t\t    \t<input\n\t\t\t\t\t\t    \t\tonChange={(e) => {dataInputs.startDate = e.target.value}} \n\t\t\t\t\t\t    \t\ttype=\"date\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t\t    <div className=\"input-group-text\">до</div>\n\t      \t\t\t\t\t\t<input\n\t      \t\t\t\t\t\t\tonChange={(e) => {dataInputs.endDate = e.target.value}} \n\t      \t\t\t\t\t\t\ttype=\"date\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t    <label className=\"form-label\">Время занятия:</label>\n\t\t\t\t\t\t    <div className=\"row periud\">\n\t\t\t\t\t\t    \t<input\n\t\t\t\t\t\t    \t\tonChange={(e) => {dataInputs.duration_Start = e.target.value}} \n\t\t\t\t\t\t    \t\ttype=\"time\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t\t    <div className=\"input-group-text\">до</div>\n\t      \t\t\t\t\t\t<input\n\t      \t\t\t\t\t\t\tonChange={(e) => {dataInputs.duration_End = e.target.value}} \n\t      \t\t\t\t\t\t\ttype=\"time\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<label className=\"form-label\">Дни недели:</label>\n\t\t\t\t\t\t    <div className=\"row col-12\">\n\t\t\t\t\t\t    \t<div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.one = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}} \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='1' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tПн\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.two = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='2' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tВт\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.three = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='3' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tСр\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.four = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='4' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tЧт\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.five = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}} \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='5' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tПт\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.six = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='6' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tСб\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input \n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.zero = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}} \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='0' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tВс\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t        </form>\n\t\t\t    </ScheduleForm>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default ScheduleForm;","import React, {useState} from 'react';\nimport {Modal, Button} from 'antd';\n\nimport Url from './../../../../url/url.js';\n\nimport {loading, Swalclose} from '../../../../alert/alert';\n\nimport moment from 'moment';\n\n//Style\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\nimport {serverRequest} from \"../../../search/server-request\";\nimport {sortingSearchResponses} from \"../../group/group-logic\";\n\nconst axios = require('axios'); // AJAX\n\nconst Li = styled.li({\n    span: {\n        cursor: 'pointer'\n    }\n});\nconst Span = styled.span({\n    cursor: 'pointer'\n});\n\nconst AddStydent_Group = ({title, pageId, update, schedule}) => {\n\n    // Modal\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    // /Modal\n\n    const [pupils, setPupils] = useState([]);\n\n    const changeSchedulePupil = (idPupil) => {\n\n        let newSchedule = [];\n\n        schedule.forEach((item) => {\n\n            let day = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\n                time_day = moment().diff(day, 'day');\n\n            if (time_day <= 0) {\n                newSchedule.push(item);\n            }\n        })\n\n        axios({\n            method: 'put',\n            url: `${Url}/CRM/Groups/${pageId}/Pupils/${idPupil}/Schedule`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: newSchedule\n        })\n        .then((res) => {\n            update();\n            Swalclose();\n        })\n        .catch(error => {\n            errorHandler(changeSchedulePupil, error)\n        })\n    }\n    const addPUPILS_Group = (data, idPupil) => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/${pageId}/Pupils`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                ids: data\n            }\n        })\n        .then(() => {\n            changeSchedulePupil(idPupil);\n        })\n        .catch((error) => {\n            errorHandler(addPUPILS_Group, error)\n        })\n    }\n\n    let PUPILS_search_Li = pupils.map((item, i) => {\n\n        const choice = () => {\n            loading('Ученик добавляется', 'Пожалуйста подождите');\n            addPUPILS_Group([item.id], item.id);\n        };\n\n        return (\n            <Li key={item.id}\n                onClick={choice}\n                className=\"list-group-item\">\n                <span className=\"badge bg-warning text-dark\">{item.surname} {item.name} {item.midname}</span>\n            </Li>\n        );\n    });\n\n    return (\n        <>\n            <Span\n                className=\"btn \"\n                onClick={showModal}\n            >\n                <i className=\"bi bi-person-plus-fill\" style={{color: '#ffc107', fontSize: '24px'}}></i>\n            </Span>\n\n            <Modal\n                title={`Добавить ${title}`}\n                visible={isModalVisible}\n                onCancel={handleCancel}\n                width={600}\n                footer={[\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\n                        Отмена\n                    </Button>\n                ]}\n            >\n                <div className=\"row addPUPILS\">\n                    <div className=\"col-12 input-group\">\n                        <input\n                            id=\"fort\"\n                            onChange={(e) => {\n                                serverRequest((data) => {sortingSearchResponses(data, setPupils)}, encodeURI(e.target.value))\n                            }}\n                            autoComplete=\"off\"\n                            type=\"search\"\n                            className=\"form-control\"\n                            name=\"q\"\n                            placeholder=\"Найти ученика...\"\n                        />\n\n                        <ul className=\"col-12 list-group list-group-flush\">\n                            {PUPILS_search_Li}\n                        </ul>\n                    </div>\n                </div>\n            </Modal>\n        </>\n    );\n\n};\n\nexport default AddStydent_Group;","import React, {useState, useEffect} from 'react';\nimport { Menu, Dropdown } from 'antd';\n\nimport Url from './../../../../../url/url.js';\nimport localStorage_change from './../../../../../#localStorage_change.js';\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\n\nimport {Toast, loading, Swalclose} from './../../../../../alert/alert.js';\n\n// Style\nimport styled from '@emotion/styled';\n\nconst InfoTable = ({Data_ALL, updetePage}) => {\n\n\tlet newInfo = {};\n\n\tconst axios = require('axios'); // AJAX\n\n\tconst [visible, setVisible] = useState('')\n\n\tconst {group_name, tutor, level, places, pupils, _id} = Data_ALL;\n\n\tlet PUPILS0 = pupils? pupils : ''\n\n\tlet tutorText = 'Учитель не добавлен...'\n\n\tif (tutor) {\n\t\tlet { surname, name, midname } = tutor\n\t\ttutorText = `${surname} ${name} ${midname}`\n\t}\t  \n\n\tconst [AllTutor, setAllTutor] = useState([{\n\t\tname: 'Учителей не обнаруженно...',\n\t\tsurname: '',\n\t\tmidname: '',\n\t\t_id: '546456'\n\t}]);\n\n\tconst getTUTOR = (offset = 0) => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/AdminPanel/CRMAccounts?limit=20&offset=${offset}&accountType=teacher`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tlet {data} = res\n\t\t\tconsole.log(data)\n\t\t\tsetAllTutor(data)\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t\tif (error.response.status == 401) {\n\n\t\t\t\t\tif (error.response.data.message == 'TOKEN_EXPIRED') {\n\n\t\t\t\t\t\tlocalStorage_change(error.response.data.token);\n\t\t\t\t\t\tgetTUTOR();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlocalStorage.removeItem('tokenID');\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}\n\t\t})\n\t}\n\n\tconst onChangeInfo = () => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tupdetePage(res.data);\n\t\t\tconsole.log(newInfo);\n\t\t\t\n\t\t\tSwalclose();\n\t\t\tToast.fire({\n\t\t\t\ticon: 'success',\n\t\t\t\ttitle: 'Изменения сохранены'\n\t\t\t});\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tconst onAddTutur = (id) => {\n\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${Url}/CRM/Groups/${_id}/Teacher?tutorID=${id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then(() => {\n\t\t\tonChangeInfo()\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tlet A_Tutor = AllTutor.map((item, i) => {\n\t\tlet {name, surname, midname} = item\n\n\t\treturn (\n\t\t\t<option key={item._id} value={item._id}>{surname} {name} {midname}</option>\n\t\t\t);\n\t});\n\n\tuseEffect(() => {\n\t\tgetTUTOR()\n\t}, [])\n\n\tconst onChangeInfoItem = () => {\n\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\n\n\t\taxios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t},\n\t\t\tdata: newInfo\n\t\t})\n\t\t.then(() => {\n\t\t\tonChangeInfo();\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\t// const UL = styled.ul({\n\t// \twidth: '318px',\n\t// \tpadding: '10px',\n\t// \tbackground: 'rgba(0, 0, 0, 0.5)',\n\t// \t'.save': {\n\t// \t\tmarginTop: '16px',\n\t// \t\tcursor: 'pointer'\n\t// \t},\n\t// \tli: {\n\t// \t\tborder: 'none'\n\t// \t}\n\t// })\n\n\tconst Box = styled.span({\n\t\tfontSize: '13px'\n\t})\n\t// +^\n\tconst menuGROUP_NAME = (\n\t    <Menu>\n\t        <Menu.Item>\n\t            <input\n\t                placeholder='Изменить название'\n\t                onChange={(e) => {\n\t                    newInfo = { group_name: `${e.target.value}` };\n\t                }}\n\t                type=\"name\"\n\t                className=\"text-dark form-control col-12\"\n\t            />\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuTutor = (\n\t    <Menu>\n\t        <Menu.Item>\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t    <select\n\t\t\t\t        onChange={(e) => {\n\t\t\t\t            onAddTutur(e.target.value);\n\t\t\t\t        }}\n\t\t\t\t        className=\"form-control\"\n\t\t\t\t    >\n\t\t\t\t        <option></option>\n\t\t\t\t        {A_Tutor}\n\t\t\t\t    </select>\n\t\t\t\t</div>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuLEVEL = (\n\t    <Menu>\n\t        <Menu.Item>\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t    <select\n\t\t\t\t        onChange={(e) => {\n\t\t\t\t            newInfo = { level: +e.target.value };\n\t\t\t\t        }}\n\t\t\t\t        className=\"form-control\"\n\t\t\t\t    >\n\t\t\t\t        <option></option>\n\t\t\t\t        <option value=\"1\">1 класс</option>\n\t\t\t\t        <option value=\"2\">2 класс</option>\n\t\t\t\t        <option value=\"3\">3 класс</option>\n\t\t\t\t        <option value=\"4\">4 класс</option>\n\t\t\t\t    </select>\n\t\t\t\t</div>\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuPLACES = (\n\t\t<Menu>\n\t        <Menu.Item>\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"Изменить колличество мест\"\n\t\t\t\t\tonChange={(e) => {newInfo = {places: +e.target.value}}}\n\t\t\t\t\ttype=\"number\" className=\"text-dark form-control col-12\"/>\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\n\tconst changeData = (menu, data_name) => {\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t    overlay={menu}\n\t\t\t    visible={() => {\n\t\t\t        if (visible === data_name) {\n\t\t\t            return true;\n\t\t\t        } else {\n\t\t\t            return false;\n\t\t\t        }\n\t\t\t    }}\n\t\t\t    trigger={[\"click\"]}\n\t\t\t>\n\t\t\t    <i  className=\"bi bi-pencil\" \n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tif (visible === data_name) {\n\t\t\t\t    \t\tsetVisible('')\n\t\t\t\t    \t} else {\n\t\t\t\t    \t\tsetVisible(data_name)\n\t\t\t\t    \t}\n\t\t\t\t    }}\n\t\t\t\t    style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n\t\t\t\t    ></i>\n\t\t\t</Dropdown>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"list-group-item\">Название: <span className=\"badge bg-info text-light\">{group_name}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t    {changeData(menuGROUP_NAME,'group_name')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Учитель: <span className=\"badge bg-warning text-dark\">{tutorText}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuTutor,'tutor')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Класс: <span className=\"badge bg-success\">{level}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuLEVEL,'level')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Mест в группе: <span className=\"badge bg-info text-dark\">{places}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuPLACES,'places')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Свободных мест: <span className=\"badge bg-light text-dark\">{places - PUPILS0.length}</span></li>\n\t\t</>\n\t);\n}\n\nexport default InfoTable;","import React, {useState, useEffect} from 'react';\nimport {useParams} from \"react-router-dom\";\n\nimport Schedule from './../../#schedule/schedule.js';\nimport ScheduleForm from './../../#schedule/form/scheduleForm.js';\nimport PupilsSandTime from './../group-page/PupilsSandTime/PupilsSandTime.js';\nimport AddStydentGroup from './../../#more-functions/add-student_group/add-Student_Group.js';\nimport InfoTable from './Info-table/InfoTable.js';\n\nimport Url from './../../../../url/url.js';\n// Style \nimport './group-page.css';\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst GroupPage = () => {\n\n    let dataGroup = useParams().id\n\n    let localSchedule = {};\n    const [DataALL, setDataALL] = useState({\n        pupils: [\n            {\n                _id: '564564',\n                localSchedule: localSchedule\n            }\n        ],\n        group_name: \"Загрузка...\",\n        tutor: \"\",\n        level: '',\n        places: '',\n        global_schedule: [\n            {\n                duration: ['--:--', '--:--']\n            }\n        ],\n        _id: '6456'\n    });\n\n    const {group_name, pupils, global_schedule, _id} = DataALL;\n\n    let arrPayHistory = [];\n    if (pupils) {\n        pupils.forEach((item) => {\n\n            if (item.paymentHistory) {\n                item.paymentHistory.forEach((itemLocal) => {\n                    if (itemLocal.group_id == _id) {\n                        arrPayHistory.push(itemLocal);\n                    }\n                });\n            }\n        });\n    }\n\n    const axios = require('axios'); // AJAX\n\n    const getGroup_Id = () => {\n        axios({\n            method: 'get',\n            url: `${Url}/CRM/Groups/${dataGroup}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            setDataALL(res.data);\n        })\n        .catch((error) => {\n            errorHandler(getGroup_Id, error)\n        });\n    }\n\n    useEffect(() => {\n        getGroup_Id();\n    }, [useParams().id]);\n\n    const breakpoints = [767],\n        mq = breakpoints.map(\n            bp => `@media (max-width: ${bp}px)`\n        );\n\n    const GroupPage = styled.div({\n        marginTop: '0px',\n        margin: '0 auto',\n        '.pad': {\n            padding: '0px',\n            paddingRight: '10px',\n            [mq[0]]: {\n                paddingRight: '0px'\n            }\n        },\n        '.infoLog': {\n            marginBottom: '10px',\n            padding: '0',\n            [mq[0]]: {\n                paddingBottom: '10px'\n            },\n            '.calendar': {\n                margin: '9px 0',\n                marginRight: '10px',\n                fontSize: '15px'\n            }\n        },\n        '.group-name': {\n            padding: '0',\n            borderBottom: '1px solid #0dcaf0',\n            [mq[0]]: {\n                borderRight: 'none'\n            }\n        },\n        '.time': {\n            margin: '0',\n            padding: '0',\n            h5: {\n                fontSize: '1.25rem'\n            }\n        },\n        '.ulBox': {\n            borderRadius: '15px',\n            padding: '0px'\n        },\n        '.editing': {\n            background: '#fff',\n            borderRadius: '10px 10px 0 0',\n            i: {\n                marginLeft: '95%',\n                cursor: 'pointer'\n            }\n        },\n        li: {\n            backgroundColor: 'none',\n            span: {\n                fontSize: '16px',\n                margin: '0 5px 5px 0'\n            }\n        }\n    });\n    const TablePupils = styled.div({\n        background: '#fff',\n        margin: '10px 0',\n        padding: '10px',\n        borderRadius: '15px',\n        '& > h3': {\n            fontSize: '22px'\n        }\n    });\n\n    let PUPILS_List = ''\n\n    if (pupils) {\n        PUPILS_List = pupils.map((item) => {\n            return (\n                <span key={item._id} className=\"badge bg-info text-dark\">{`${item.name} ${item.surname}`}</span>\n            );\n        });\n    }\n\n    let PUPILSandTIME = ''\n\n    if (pupils) {\n        PUPILSandTIME = pupils.map((itemG) => {\n            return <PupilsSandTime key={itemG._id} itemG={itemG} dataGroup={dataGroup}\n                                   getGroup_Id={getGroup_Id} setData={setDataALL} surname={itemG.surname}\n                                   name={itemG.name} type='group'/>;\n        });\n    }\n\n    let addPupils_g =\n        <AddStydentGroup\n            schedule={global_schedule}\n            update={getGroup_Id}\n            pageId={dataGroup}\n            title='ученика'\n        />\n    return (\n        <>\n            <GroupPage className=\"container row col-12\">\n                <div className=\"col-12 col-md-6 pad\">\n                    <div className=\"infoLog align-self-start col-md-12 col-12\">\n                        <div className=\"group-name col-12 col-lg-12\">\n                            <h3>{group_name}</h3>\n                        </div>\n                        <div className=\"time col-md-12 row\">\n                            <h6 className=\"calendar badge bg-info text-dark\">Расписание: </h6>\n                            {/*{calendarPlus}*/}\n                            <ScheduleForm updateGroup={getGroup_Id} groupID={dataGroup}/>\n                            <Schedule global_schedule={global_schedule ? global_schedule : []}/>\n                        </div>\n                        {/*<PayHistory pay_History={arrPayHistory}/>*/}\n                    </div>\n                </div>\n                <div className=\"col-md-6 ulBox\">\n                    <ul className=\"list-group list-group-flush\">\n                        <InfoTable Data_ALL={DataALL} updetePage={setDataALL}/>\n                        <li className=\"list-group-item\">Ученики: {PUPILS_List} {addPupils_g}</li>\n                    </ul>\n                </div>\n                <TablePupils className=\"container col-12\">\n                    <h3 className=\"badge bg-warning\">Ученики:</h3>\n                    {PUPILSandTIME}\n                </TablePupils>\n            </GroupPage>\n        </>\n    );\n};\nexport default GroupPage;\n// useParams()","import React from 'react';\n\nimport {Upload, Button} from 'antd';\n\nimport 'antd/dist/antd.css';\n\nimport Url from './../../../url/url.js'\nimport {Toast} from '../../../alert/alert.js'\n\nimport styled from '@emotion/styled'\nimport RestrictionMessage from \"../../restriction-message/restriction-message\";\n\nconst Box = styled.div({\n    '.ButtonUpload': {\n        padding: 0,\n        background: 'rgba(0, 0, 0, 0)',\n        border: 'none',\n        color: '#a6adb4',\n        '&:hover': {\n            color: '#fff'\n        }\n    },\n    '.ant-upload-list': {\n        display: 'none'\n    }\n})\n\nconst UploadPupils = () => {\n\n    const props = {\n        name: 'file',\n        action: `${Url}/CRM/Pupils/uploadFile`,\n        accept: '.csv,.xlsx',\n        headers: {\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        onChange(info) {\n\n            if (info.file.status === 'done') {\n\n                Toast.fire({\n                    icon: 'success',\n                    title: `Фаил ${info.file.name}, успешно загружен`\n                })\n            } else if (info.file.status === 'error') {\n\n                if (info.file.response.statusCode === 403) {\n                    RestrictionMessage(403)\n                } else {\n                    Toast.fire({\n                        icon: 'error',\n                        title: `В ${info.file.name}, ошибки на строках: ${info.file.response.message.join(\", \")}`\n                    })\n                }\n            }\n        }\n    };\n\n    return (\n        <Box>\n            <Upload {...props}>\n                <Button className={'ButtonUpload'}>Загрузите файлы c учениками</Button>\n            </Upload>\n        </Box>\n    )\n}\n\nexport default UploadPupils","import React from \"react\"\r\nimport { Table } from \"antd\"\r\n\r\n\r\nimport styled from \"@emotion/styled\"\r\n\r\nconst TableGroups = ({ \r\n\tdataSource = [], \r\n\tcolumns = [], \r\n\tsetParamFilrers, \r\n\tparamFilrers, \r\n\tupdate = () => {} }) => {\r\n\r\n\tconst Box = styled.div({\r\n\t\t// [mq[1]]: {\r\n\t\t// \tpadding: '0 0',\r\n\t\t// },\r\n\t\t'.log_h2': {\r\n\r\n\t\t},\r\n\t\ttd: {\r\n\t\t\tpaddingTop: '1px',\r\n\t\t\tpaddingBottom: '4px'\r\n\t\t},\r\n\t\t'th, td': {\r\n\t\t\tpadding: '16px 11px',\r\n\t\t\twhiteSpace: 'nowrap'\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Table\r\n\t\t\t    pagination={false}\r\n\t\t\t    dataSource={dataSource}\r\n\t\t\t    columns={columns}\r\n\t\t\t    scroll={{ x: 0 }}\r\n\t\t\t    onChange={(pagination, filters, sorter, extra) => {\r\n\t\t\t    \tconsole.log(filters)\r\n\t\t\t    \tlet box = {...paramFilrers}\r\n\t\t\t    \tfor (let key in filters) {\r\n\t\t\t    \t\tif (filters[key]) {\r\n\t\t\t    \t\t\tconsole.log(filters[key])\r\n\t\t\t    \t\t\tbox[key] = filters[key]\r\n\t\t\t    \t\t} else if (key != 'GROUP_NAME') {\r\n\t\t\t    \t\t\tbox[key] = []\r\n\t\t\t    \t\t}\r\n\t\t\t    \t}\r\n\t\t\t    \tupdate(0, box)\r\n\t\t\t    \tsetParamFilrers(box)\r\n\t\t\t    }}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default TableGroups","import React from 'react';\nimport {MenuFoldOutlined} from '@ant-design/icons';\n\nexport const getColumn = (con, fnc, title, dataIndex) => ({\n    title: () => (\n        <>\n            <MenuFoldOutlined\n                onClick={() => {\n                    if (con[1]) {\n                        fnc([\"\", \"\"]);\n                    } else {\n                        fnc([\n                            <span style={{paddingLeft: \"7px\"}}>{title}</span>,\n                            dataIndex,\n                        ]);\n                    }\n                }}\n            />\n            {con[0]}\n        </>\n    ),\n    dataIndex: `${con[1]}`,\n    key: `${con[1]}`\n})","import React, {useState, useEffect} from 'react';\nimport {Link} from \"react-router-dom\"\nimport {Table, Button, Tag, Input, Space, Checkbox, Menu} from 'antd';\nimport {SearchOutlined, CloseCircleOutlined, FilterFilled, MenuFoldOutlined} from '@ant-design/icons';\n\nimport TableGroups from './../../../table-groups/table-groups.js'\nimport {getColumn} from './../change-column/change-column.js'\nimport Pagination from './../pagination/pagination.js'\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\n\nimport localStorage_change from './../../../../#localStorage_change.js'\n// Style\nimport styled from '@emotion/styled';\n\n\nimport Url from './../../../../url/url.js'\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst Create_Columns_Rows_Groups = () => {\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(1)\n\n    const [dataObj, setDataObj] = useState([])\n\n    // Filters\n    const [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\n    const [filterDropdownVisible, setFilterDropdownVisible] = useState({\n        group_name: false,\n    })\n    // /Filters\n\n    // Change colums\n    const [g, setG] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Группа</span>,\n        \"group_name\",\n    ])\n    const [l, setL] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Уровень группы</span>,\n        \"level\",\n    ])\n    const [p, setP] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Количество мест</span>,\n        \"places\",\n    ])\n    const [o, setO] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Свободных мест</span>,\n        \"occupied\",\n    ])\n    const [n, setN] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Число учеников</span>,\n        \"NUMBER_PUPILS\",\n    ])\n    const [t, setT] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Учитель</span>,\n        \"tutor\",\n    ])\n    // /Change colums\n\n    const axios = require('axios'); // AJAX\n\n    const [Tutors, setTutors] = useState([])\n\n    const addTUTOR = () => {\n        axios({\n            method: 'get',\n            url: `${Url}/AdminPanel/CRMAccounts?limit=100&offset=0&accountType=teacher`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            setTutors(data)\n        })\n        .catch(error => {\n            errorHandler(addTUTOR, error)\n        })\n    }\n\n    const update = (offset = 0, filters = {}) => { // console.log(filters)\n\n        setLoadingButtomFilrer(true)\n\n        let box = {}\n\n        for (let key in filters) {\n            if (key != 'occupied' & filters[key][0] != undefined) {\n                console.log(filters[key], 1)\n                box[`${key}s`] = filters[key]\n            } else if (filters[key].length) {\n                console.log(filters[key], 2)\n                box[key] = filters[key][0]\n            }\n        }\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/find?limit=${getLimit}&offset=${offset}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                filters: box\n            }\n        })\n        .then(res => {\n            let {data, headers} = res\n            setDataObj(data)\n            setFilterDropdownVisible({group_name: false})\n            setLoadingButtomFilrer(false)\n            setCount(headers.count);\n        })\n        .catch((error) => {\n            errorHandler(update, error, () => {\n                setLoadingButtomFilrer(false)\n            })\n        })\n    }\n\n    useEffect(() => {\n        addTUTOR()\n        update()\n    }, [])\n\n    // Filrers\n    const [paramFilrers, setParamFilrers] = useState({ // paramFilrers\n        group_name: [],\n        level: [],\n        tutor: [],\n        occupied: []\n    });\n\n    let CheckboxValue = {\n        group_name: {}\n    };\n\n    for (let key in CheckboxValue) {\n        paramFilrers[key].forEach((item) => {\n            CheckboxValue[key][item] = true;\n        });\n    }\n\n    const [globalFilters, setGlobalFilters] = useState({\n        group_name: []\n    });\n\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\n\n        if (selectedKeys[0]) {\n            let FiltersLocal = {...globalFilters};\n\n            FiltersLocal[dataIndex].push({\n                text: selectedKeys[0],\n                value: selectedKeys[0],\n            });\n\n            setGlobalFilters(FiltersLocal);\n            selectedKeys[0] = ''\n        }\n    };\n\n    let DataSource = dataObj.map(item => {\n\n        let {group_name, level, places, pupils, tutor, _id} = item\n\n        return ({\n            key: _id,\n            group_name: [group_name, _id],\n            level,\n            places,\n            NUMBER_PUPILS: pupils ? pupils.length : '',\n            tutor: tutor ? `${tutor.surname} ${tutor.name} ${tutor.midname}` : '-',\n            occupied: pupils ? places - pupils.length : ''\n        })\n    })\n\n    const BoxButtom = styled.div({\n        marginTop: \"10px\",\n        svg: {\n            marginBottom: \"3px\",\n        },\n    });\n\n    const getColumnSearchProps = (dataIndex) => ({\n        filterDropdown: ({\n                             setSelectedKeys,\n                             selectedKeys,\n                             confirm,\n                             clearFilters,\n                         }) => (\n            <div style={{padding: 8}}>\n                <Input\n                    placeholder={`Создать фильтр ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={(e) =>\n                        setSelectedKeys(e.target.value ? [e.target.value] : [])\n                    }\n                    onPressEnter={() =>\n                        handleSearch(selectedKeys, confirm, dataIndex)\n                    }\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            handleSearch(selectedKeys, confirm, dataIndex);\n                        }}\n                        size=\"small\"\n                        style={{width: 140}}\n                    >\n                        Добавить в фильтр\n                    </Button>\n                    <Button\n                        type=\"link\"\n                        size=\"small\"\n                        onClick={() => {\n                            let filters = {...globalFilters};\n                            filters[dataIndex] = [];\n                            setGlobalFilters(filters)\n\n                            let dataFilters = {...paramFilrers};\n                            dataFilters[dataIndex] = [];\n\n                            setParamFilrers(dataFilters)\n\n                            update(0, dataFilters);\n                        }}\n                    >\n                        Очистить фильтр\n                    </Button>\n                </Space>\n                <Menu>\n                    {globalFilters[dataIndex].map((item, i) => {\n                        let checked = false;\n                        paramFilrers[dataIndex].forEach((param) => {\n                            if (param == item.text) {\n                                checked = true;\n                            }\n                        });\n\n                        return (\n                            <Menu.Item key={`${item.text}${i}`}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n                                        if (e.target.checked) {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = true;\n                                        } else {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = false;\n                                        }\n                                    }}\n                                >\n                                    {item.text}\n                                </Checkbox>\n                            </Menu.Item>\n                        );\n                    })}\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n                            let paramLocal = [];\n\n                            for (let key in CheckboxValue[dataIndex]) {\n                                if (CheckboxValue[dataIndex][key]) {\n                                    paramLocal.push(key);\n                                }\n                            }\n                            let data = {...paramFilrers};\n                            data[dataIndex] = paramLocal;\n\n                            setParamFilrers(data)\n                            setGlobalFilters(globalFilters)\n\n                            update(0, data);\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        filterIcon: () => {\n            let color = undefined;\n            if (paramFilrers[dataIndex][0]) {\n                color = \"#1890ff\";\n            }\n\n            if (filterDropdownVisible[dataIndex]) {\n                return <CloseCircleOutlined/>;\n            } else {\n                return (\n                    <>\n                        <SearchOutlined style={{color: color}}/>\n                    </>\n                )\n            }\n        },\n        onFilterDropdownVisibleChange: (Visible) => {\n            let per = {...filterDropdownVisible};\n            per[dataIndex] = Visible;\n            setFilterDropdownVisible(per);\n\n            if (!Visible) {\n                setParamFilrers(paramFilrers)\n                setGlobalFilters(globalFilters)\n            }\n        },\n        filterDropdownVisible: filterDropdownVisible[dataIndex],\n    });\n    // /Filrers\n\n    let filtersTutors = Tutors.map(item => ({\n        text: `${item.surname} ${item.name}`,\n        value: item._id\n    }))\n\n    let Columns = [\n        {\n            ...getColumn(g, setG, 'Группа', 'group_name'),\n            render: (group_name) => {\n                if (group_name) {\n                    return <Link to={`/group/${group_name[1]}`}>{group_name[0]}</Link>\n                }\n            },\n            ...getColumnSearchProps(\"group_name\")\n        },\n        {\n            ...getColumn(l, setL, 'Уровень группы', 'level'),\n            filters: [\n                {\n                    text: \"1\",\n                    value: 1,\n                },\n                {\n                    text: \"2\",\n                    value: 2,\n                },\n                {\n                    text: \"3\",\n                    value: 3,\n                },\n                {\n                    text: \"4\",\n                    value: 4,\n                }\n            ],\n            defaultFilteredValue: paramFilrers.level.map(item => item + '')\n        },\n        {\n            ...getColumn(p, setP, 'Количество мест', 'places'),\n        },\n        {\n            ...getColumn(o, setO, 'Свободных мест', 'occupied'),\n            filters: [\n                {\n                    text: \"Заполненно\",\n                    value: true,\n                },\n                {\n                    text: \"Свободно\",\n                    value: false,\n                },\n            ],\n            defaultFilteredValue: paramFilrers.occupied.map(item => `${item}`)  // ...paramFilrers.occupied\n        },\n        {\n            ...getColumn(n, setN, 'Число учеников', 'NUMBER_PUPILS'),\n        },\n        {\n            ...getColumn(t, setT, 'Учитель', 'tutor'),\n            filters: filtersTutors,\n            defaultFilteredValue: [...paramFilrers.tutor]\n        }\n    ]\n\n    const Box = styled.div({\n        padding: '0 30px'\n    })\n\n    return (\n        <Box>\n            <TableGroups\n                dataSource={DataSource}\n                columns={Columns}\n                setParamFilrers={setParamFilrers}\n                paramFilrers={paramFilrers}\n                update={update}/>\n            <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n        </Box>\n    )\n}\n\nexport default Create_Columns_Rows_Groups","import React, {useEffect} from 'react';\nimport {Link} from \"react-router-dom\"\nimport {Table} from 'antd';\nimport ReturnAge from './../home-page/return-age/returnAge' // Определяет возраст\n\nimport styled from '@emotion/styled';\n\nconst Box = styled.div({\n    'th, td': {\n        padding: '16px 11px'\n    }\n})\n\nconst Table_Pupils = ({\n                          paramFilrers,\n                          setParamFilrers,\n\n                          dataGroupsChecked,\n\n                          dataSource,\n                          update,\n                          columns,\n\n                          scrollLeft\n                      }) => {\n\n    useEffect(() => {\n        document.querySelector('.ant-table-content').scrollLeft = scrollLeft\n    })\n    let itemPupils = dataSource.map(item => {\n        let {\n            _id,\n            surname,\n            name,\n            midname,\n            dateOfBirth,\n            gender,\n            phone,\n            balance,\n            parentPhone,\n            parentFullname,\n            discord,\n            groups,\n            tutor,\n            statuses\n        } = item\n\n        return ({\n            key: _id,\n            surname: () => (\n                <Link\n                    className=\"link-info\"\n                    to={`/student/${_id}`}>\n\n                    {surname}\n                </Link>\n            ),\n            name,\n            midname,\n            dateOfBirth: ReturnAge(dateOfBirth),\n            gender,\n            phoneNumber: phone,\n            tutor,\n            parentFullname,\n            parentPhoneNumber: parentPhone,\n            balance: `${balance}`,\n            discordNickname: discord,\n            groups,\n            statuses\n        })\n    })\n\n    return (\n        <Box>\n            <Table\n                pagination={false}\n                dataSource={itemPupils}\n                columns={columns}\n                scroll={{x: 0}}\n                onChange={(pagination, filters) => {\n                    let box = {...paramFilrers}\n                    if (filters.gender) {\n                        box.gender = filters.gender\n                    } else {\n                        box.gender = []\n                    }\n\n                    if (filters.balance) {\n                        box.balance = filters.balance\n                    } else {\n                        box.balance = []\n                    }\n\n                    setParamFilrers(box)\n                    update(box, dataGroupsChecked)\n                }}\n            />\n        </Box>\n    )\n}\n\nexport default Table_Pupils","import styled from \"@emotion/styled\";\r\n\r\nconst breakpoints = [1020, 700],\r\n    mq = breakpoints.map(\r\n        bp => `@media (max-width: ${bp}px)`\r\n    )\r\n\r\nexport const TableL = styled.div({\r\n    padding: '0 30px',\r\n    [mq[1]]: {\r\n        padding: '0 0',\r\n    },\r\n    '.log_h2': {},\r\n    td: {\r\n        paddingTop: '1px',\r\n        paddingBottom: '4px'\r\n    },\r\n    'th, td': {\r\n        whiteSpace: 'nowrap'\r\n    }\r\n})\r\n\r\nexport const BoxButtom = styled.div({\r\n    marginTop: \"10px\",\r\n    svg: {\r\n        marginBottom: \"3px\",\r\n    },\r\n});","import {Button, Checkbox, Menu} from \"antd\";\r\nimport {FilterFilled, SearchOutlined} from \"@ant-design/icons\";\r\nimport {BoxButtom} from \"../style-filter\";\r\nimport React from \"react\";\r\n\r\nexport const filterStatuses = (\r\n    dataStatusesCheck,\r\n    setParamFilrers,\r\n    loadingButtomFilrer,\r\n    paramFilrers,\r\n    setFilterAxios\r\n) => {\r\n\r\n    return ({\r\n        filterDropdown: () => (\r\n            <div style={{padding: 8}}>\r\n                <Menu>\r\n\r\n                    {dataStatusesCheck.map(item => {\r\n                        let checked = false\r\n                        let {_id, name} = item\r\n\r\n                        paramFilrers.statuses.forEach(item => {\r\n                            if (_id === item) {\r\n                                checked = true\r\n                            }\r\n                        })\r\n\r\n                        return (\r\n                            <Menu.Item key={_id}>\r\n                                <Checkbox\r\n                                    defaultChecked={checked}\r\n                                    onChange={(e) => {\r\n\r\n                                        let box = [...paramFilrers.statuses]\r\n\r\n                                        if (e.target.checked) {\r\n                                            box.push(_id)\r\n                                        } else {\r\n                                            box = box.filter(item => (item !== _id))\r\n                                        }\r\n                                        setParamFilrers({...paramFilrers, statuses: box})\r\n                                    }}\r\n                                >\r\n                                    {name}\r\n                                </Checkbox>\r\n                            </Menu.Item>\r\n                        )\r\n                    })}\r\n                </Menu>\r\n                <BoxButtom>\r\n                    <Button\r\n                        loading={loadingButtomFilrer}\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        icon={<SearchOutlined/>}\r\n                        onClick={() => {\r\n                            setFilterAxios(paramFilrers, {})\r\n                        }}\r\n                    >\r\n                        Применить фильтр\r\n                    </Button>\r\n                </BoxButtom>\r\n            </div>\r\n        ),\r\n        filterIcon: () => {\r\n            if (Object.keys(paramFilrers.statuses).length) {\r\n                return <FilterFilled style={{color: '#1890ff'}}/>\r\n            } else {\r\n                return <FilterFilled/>\r\n            }\r\n        }\r\n    })\r\n}","import {Button, Checkbox, Menu} from \"antd\";\r\nimport {BoxButtom} from \"../style-filter\";\r\nimport {FilterFilled, SearchOutlined} from \"@ant-design/icons\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst FilterByTeachers = (\r\n    setParamFilrers = () => {},\r\n    loadingButtomFilrer = false,\r\n    paramFilrers = {},\r\n    setFilterAxios = () => {}\r\n) => {\r\n\r\n    const [dataStatusesCheck, setDataStatusesCheck] = useState([])\r\n\r\n    return ({\r\n        filterDropdown: () => (\r\n            <div style={{padding: 8}}>\r\n                <Menu>\r\n\r\n                    {dataStatusesCheck.map(item => {\r\n                        let checked = false\r\n                        let {_id, name} = item\r\n\r\n                        paramFilrers.statuses.forEach(item => {\r\n                            if (_id === item) {\r\n                                checked = true\r\n                            }\r\n                        })\r\n\r\n                        return (\r\n                            <Menu.Item key={_id}>\r\n                                <Checkbox\r\n                                    defaultChecked={checked}\r\n                                    onChange={(e) => {\r\n\r\n                                        let box = [...paramFilrers.statuses]\r\n\r\n                                        if (e.target.checked) {\r\n                                            box.push(_id)\r\n                                        } else {\r\n                                            box = box.filter(item => (item !== _id))\r\n                                        }\r\n                                        setParamFilrers({...paramFilrers, statuses: box})\r\n                                    }}\r\n                                >\r\n                                    {name}\r\n                                </Checkbox>\r\n                            </Menu.Item>\r\n                        )\r\n                    })}\r\n                </Menu>\r\n                <BoxButtom>\r\n                    <Button\r\n                        loading={loadingButtomFilrer}\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        icon={<SearchOutlined/>}\r\n                        onClick={() => {\r\n                            setFilterAxios(paramFilrers, {})\r\n                        }}\r\n                    >\r\n                        Применить фильтр\r\n                    </Button>\r\n                </BoxButtom>\r\n            </div>\r\n        ),\r\n        filterIcon: () => {\r\n            if (Object.keys(paramFilrers.statuses).length) {\r\n                return <FilterFilled style={{color: '#1890ff'}}/>\r\n            } else {\r\n                return <FilterFilled/>\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nexport default FilterByTeachers","import React, {useState, useEffect} from 'react'\nimport {Button, Input, Space, Checkbox, Menu, Tag} from 'antd';\n\nimport Table_Pupils from './../../../table-pupils/table.js'\nimport {getColumn} from '../change-column/change-column'\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\n\nimport {SearchOutlined, CloseCircleOutlined, FilterFilled} from '@ant-design/icons';\n\n// Style\nimport {TableL, BoxButtom} from './style-filter'\n\nimport Url from './../../../../url/url.js'\nimport Pagination from './../../#more-functions/pagination/pagination.js'\nimport errorHandler from \"../../../error-handler/error-handler\";\nimport {filterStatuses} from \"./filter-dropdown/logics-pupils\";\nimport {updateStatuses} from '../../student/student-statuses/logic-statuses'\nimport FilterByTeachers from \"./filter-dropdown/filter-by-teachers\";\n\nconst axios = require('axios'); // AJAX\n\nconst Create_Columns_Rows_Pupils = () => {\n\n    const [ValueGroup, setValueGroup] = useState('')\n    const [dataStatusesCheck, setDataStatusesCheck] = useState([{name: '1', color: 'red', _id: '345'}, {name: '2', color: 'red', _id: '335'}])\n    // const [dataStatusesChecked, setDataStatusesChecked] = useState()\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(0)\n\n    const [objPupils, setObjPupils] = useState([])\n\n    const [scrollLeft, setScrollLeft] = useState(0)\n\n    // Filtered\n    const [paramFilrers, setParamFilrers] = useState({\n        surname: [],\n        name: [],\n        midname: [],\n        age: [],\n        gender: [],\n        groups: [],\n        balance: [],\n        statuses: []\n    })\n    const [emptyAge, setEmptyAge] = useState(false)\n\n    let emptyAgeLocal = false\n\n    const [globalFiltersG, setGlobalFiltersG] = useState({\n        surname: [],\n        name: [],\n        midname: [],\n        age: [],\n        balance: [],\n        statuses: []\n    })\n\n    const [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\n\n    const [filterDropdownVisible, setFilterDropdownVisible] = useState({\n        surname: false,\n        name: false,\n        midname: false,\n        age: false,\n        groups: false,\n        statuses: false\n    })\n\n\n    const [s, setS] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Фамилия</span>,\n        \"surname\",\n    ])\n    const [n, setN] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Имя</span>,\n        \"name\",\n    ])\n    const [m, setM] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Отчество</span>,\n        \"midname\",\n    ])\n    const [a, setA] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Возраст</span>,\n        \"dateOfBirth\",\n    ])\n    const [pF, setPF] = useState([\n        <span style={{paddingLeft: \"7px\"}}>ФИО Родителя</span>,\n        \"parentFullname\",\n    ])\n    const [g, setG] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Пол</span>,\n        \"gender\",\n    ])\n    const [PhoneTitle, setPhoneTitle] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Номер телефона</span>,\n        \"phoneNumber\",\n    ])\n    const [p, setP] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Номер телефона родителя</span>,\n        \"parentPhoneNumber\",\n    ])\n    const [b, setB] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Баланс</span>,\n        \"balance\",\n    ])\n    const [d, setD] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Дискорд никнейм</span>,\n        \"discordNickname\",\n    ])\n    const [gr, setGr] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Группы</span>,\n        \"groups\",\n    ])\n    const [st, setSt] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Статусы</span>,\n        \"statuses\",\n    ])\n    const [t, setT] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Учителя</span>,\n        \"tutors\",\n    ])\n\n    let CheckboxValue = {\n        surname: {},\n        name: {},\n        midname: {},\n        age: {}\n    };\n\n    for (let key in CheckboxValue) {\n        paramFilrers[key].forEach((item) => {\n            CheckboxValue[key][item] = true;\n        });\n    }\n\n    // Groups filter\n    const [dataGroupsChecked, setDataGroupsChecked] = useState({})\n\n    const [GroupsCheckedF, setGroupsCheckedF] = useState({})\n\n    let heapGroups = {...dataGroupsChecked, ...GroupsCheckedF}\n\n    let dataGroupsCheck = []\n\n\n    for (let key in heapGroups) {\n\n        dataGroupsCheck.push({\n            id: key,\n            text: heapGroups[key][0],\n            checked: heapGroups[key][1]\n        })\n    }\n\n    // /Groups filter\n\n    const [globalFilters, setGlobalFilters] = useState(globalFiltersG);\n\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\n\n        if (selectedKeys[0]) {\n            let FiltersLocal = {...globalFilters};\n\n            FiltersLocal[dataIndex].push({\n                text: selectedKeys[0],\n                value: selectedKeys[0],\n            });\n\n            setGlobalFilters(FiltersLocal);\n            selectedKeys[0] = ''\n        }\n    };\n\n    const emptyAgeGet = (dataIndex) => {\n        if (dataIndex == 'age') {\n            return 'block'\n        } else {\n            return ' none'\n        }\n    }\n    const ageGet = (type) => {\n        if (type == 'age') {\n            return 'number'\n        } else {\n            return 'text'\n        }\n    }\n\n    const getColumnSearchProps = (dataIndex) => ({\n        filterDropdown: ({\n                             setSelectedKeys,\n                             selectedKeys,\n                             confirm,\n                             clearFilters,\n                         }) => (\n            <div style={{padding: 8}}>\n                <Input\n                    type={ageGet(dataIndex)}\n                    placeholder={`Создать фильтр ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={(e) =>\n                        setSelectedKeys(e.target.value ? [e.target.value] : [])\n                    }\n                    onPressEnter={() =>\n                        handleSearch(selectedKeys, confirm, dataIndex)\n                    }\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            handleSearch(selectedKeys, confirm, dataIndex);\n                        }}\n                        size=\"small\"\n                        style={{width: 140}}\n                    >\n                        Добавить в фильтр\n                    </Button>\n                </Space>\n                <Menu>\n                    {globalFilters[dataIndex].map((item, i) => {\n                        let checked = false;\n                        paramFilrers[dataIndex].forEach((param) => {\n                            if (param == item.text) {\n                                checked = true;\n                            }\n                        });\n\n                        return (\n                            <Menu.Item key={`${item.text}${i}`}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n                                        if (e.target.checked) {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = true;\n                                        } else {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = false;\n                                        }\n                                    }}\n                                >\n                                    {item.text}\n                                </Checkbox>\n                            </Menu.Item>\n                        );\n                    })}\n                    <Menu.Item\n                        style={{display: emptyAgeGet(dataIndex)}}\n                        key='emptyAge'>\n                        <Checkbox\n                            defaultChecked={emptyAge}\n                            onChange={(e) => {\n                                emptyAgeLocal = e.target.checked\n                            }}>\n                            Возраст не указан\n                        </Checkbox>\n                    </Menu.Item>\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n                            let paramLocal = [];\n\n                            for (let key in CheckboxValue[dataIndex]) {\n                                if (CheckboxValue[dataIndex][key]) {\n                                    paramLocal.push(key);\n                                }\n                            }\n                            let data = {...paramFilrers};\n                            data[dataIndex] = paramLocal;\n\n                            setParamFilrers(data)\n                            setGlobalFiltersG(globalFilters)\n\n                            setFilterAxios(data, dataGroupsChecked);\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        filterIcon: () => {\n            let color = undefined;\n            if (paramFilrers[dataIndex][0]) {\n                color = \"#1890ff\";\n            }\n\n            if (filterDropdownVisible[dataIndex]) {\n                return <CloseCircleOutlined/>;\n            } else {\n                return (\n                    <>\n                        <SearchOutlined style={{color: color}}/>\n                    </>\n                )\n            }\n        },\n        onFilterDropdownVisibleChange: (Visible) => {\n            let per = {...filterDropdownVisible};\n            per[dataIndex] = Visible;\n            setFilterDropdownVisible(per);\n\n            if (!Visible) {\n                setParamFilrers(paramFilrers)\n                setGlobalFiltersG(globalFilters)\n            }\n        },\n        filterDropdownVisible: filterDropdownVisible[dataIndex],\n    });\n\n    const searchGroups = (value) => {\n\n        let localUrl = encodeURI(value);\n\n        axios({\n            method: \"get\",\n            url: `${Url}/CRM/Search/autocompletion?query=${localUrl}`,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n            }\n        })\n        .then((res) => {\n\n            let box = {} //...GroupsCheckedF\n\n            res.data.body.hits.hits.map(item => {\n                let {id, group_name, type} = item._source\n\n                if (type == 'group') {\n                    box[id] = [`${group_name}`, false]\n                }\n            })\n\n            setValueGroup(value)\n\n            setGroupsCheckedF(box)\n        })\n        .catch(error => {\n            errorHandler(searchGroups, error)\n        })\n    }\n\n    let typingTimer; //timer identifier\n    let doneTypingInterval = 500; //time in ms (5 seconds)\n\n    const SearchGroups = (text) => {\n        clearTimeout(typingTimer);\n        if (text) {\n            typingTimer = setTimeout(() => {\n                // setValueGroup(name)\n                searchGroups(text);\n            }, doneTypingInterval);\n        } else {\n            setValueGroup('')\n            setGroupsCheckedF({})\n        }\n    }\n\n    const handleSearchGroup = (selectedKeys, confirm) => {\n\n    }\n\n    const filterGroups = () => ({\n        filterDropdown: ({\n                             setSelectedKeys,\n                             selectedKeys,\n                             confirm,\n                             clearFilters,\n                         }) => (\n            <div style={{padding: 8}}>\n                <Input\n                    // focus={true}\n                    id='inputGroup'\n                    placeholder={`Найти группы`}\n                    defaultValue={ValueGroup}\n                    onChange={(e) => {\n                        SearchGroups(e.target.value)\n                        // setSelectedKeys(e.target.value ? [e.target.value] : [])\n                    }}\n                    onPressEnter={() =>\n                        handleSearchGroup(selectedKeys, confirm)\n                    }\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Menu>\n\n                    {dataGroupsCheck.map(item => {\n                        let {id, text, checked} = item\n\n                        return (\n                            <Menu.Item key={id}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n\n                                        let box = {...dataGroupsChecked}\n\n                                        if (e.target.checked) {\n                                            box[id] = [text, true]\n                                        } else {\n                                            delete box[id]\n                                            // delete obj['gh']\n                                        }\n\n                                        setDataGroupsChecked(box)\n                                        setGroupsCheckedF({})\n                                    }}\n                                >\n                                    {text}\n                                </Checkbox>\n                            </Menu.Item>\n                        )\n                    })}\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n\n                            // setDataGroupsChecked(dataGroupsChecked)\n                            setFilterAxios(paramFilrers, dataGroupsChecked)\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        onFilterDropdownVisibleChange: (Visible) => {\n\n\n            if (Visible) {\n                setScrollLeft(document.querySelector('.ant-table-content').scrollLeft)\n            } else {\n                setScrollLeft(0)\n            }\n\n            let per = {...filterDropdownVisible};\n            per.groups = Visible;\n            setFilterDropdownVisible(per);\n\n            if (!Visible) {\n                // setDataGroupsChecked(dataGroupsChecked)\n                setFilterAxios(paramFilrers, dataGroupsChecked)\n            }\n        },\n        filterDropdownVisible: filterDropdownVisible.groups,\n        filterIcon: () => {\n            if (Object.keys(dataGroupsChecked).length) {\n                return <FilterFilled style={{color: '#1890ff'}}/>\n            } else {\n                return <FilterFilled/>\n            }\n        }\n    })\n\n    // /Filtered\n\n    const [FILTER, SET_FILTER] = useState({\n        filters: {},\n    })\n\n    const update = (offset = 0, p) => {\n        setLoadingButtomFilrer(true);\n\n        axios({\n            method: \"post\",\n            url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`,\n            headers: {\n                \"Content-Type\": \"application/json;charset=utf-8\",\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n            },\n            data: p ? p : FILTER,\n        })\n        .then((res) => {\n            let {data, headers} = res;\n            setObjPupils(data);\n            setCount(headers.count);\n\n            setFilterDropdownVisible({\n                surname: false,\n                name: false,\n                midname: false,\n            });\n            setLoadingButtomFilrer(false);\n        })\n        .catch((error) => {\n            errorHandler(update, error, () => {\n                setLoadingButtomFilrer(false)\n            })\n        });\n    };\n\n    const setFilterAxios = (param = {}, filtersGroups = {}) => {\n        let filtersLocal = {};\n\n        for (let key in filtersGroups) {\n            if (filtersLocal.groups) {\n                filtersLocal.groups.push(key);\n            } else {\n                filtersLocal.groups = [];\n                filtersLocal.groups.push(key);\n            }\n            // filtersLocal.groups = [...filtersLocal.groups]\n        }\n\n        for (let key in param) {\n            if (param[key][0]) {\n                if (\n                    key == \"surname\" ||\n                    key == \"name\" ||\n                    key == \"midname\" ||\n                    key == \"age\"\n                ) {\n                    filtersLocal[`${key}s`] = param[key];\n                } else {\n                    filtersLocal[`${key}`] = param[key];\n                }\n            }\n        }\n\n        if (filtersLocal.ages) {\n            let age = [...filtersLocal.ages];\n            filtersLocal.ages = [];\n            age.forEach((age) => {\n                filtersLocal.ages.push(+age);\n            });\n        }\n\n        if (filtersLocal.balance) {\n            let balance = [...filtersLocal.balance];\n            if ((balance[0] == 1) & !balance[1]) {\n                filtersLocal.balance = {$gte: 0};\n            } else if ((balance[0] == 2) & !balance[1]) {\n                filtersLocal.balance = {$lt: 0};\n            } else if (balance[1]) {\n                filtersLocal.balance = {$gte: 0, $lte: 0};\n            }\n        }\n\n        filtersLocal.emptyAge = emptyAgeLocal\n\n        let p = {\n            filters: filtersLocal,\n        };\n        setEmptyAge(emptyAgeLocal)\n        SET_FILTER(p)\n        update(0, p)\n    }\n\n    useEffect(() => {\n        update();\n        updateStatuses(setDataStatusesCheck, setLoadingButtomFilrer)\n    }, [])\n\n    useEffect(() => {\n        let input = document.getElementById('inputGroup')\n        if (input) {\n            input.focus()\n        }\n    })\n\n    const columns = [\n        {\n            ...getColumn(s, setS, 'Фамилия', 'surname'),\n            render: (surname) => {\n                if (typeof (surname) == 'function') {\n                    return surname()\n                }\n            },\n            ...getColumnSearchProps(\"surname\"),\n        },\n        {\n            ...getColumn(n, setN, 'Имя', 'name'),\n            ...getColumnSearchProps(\"name\"),\n        },\n        {\n            ...getColumn(m, setM, 'Отчество', 'midname'),\n            ...getColumnSearchProps(\"midname\"),\n        },\n        {\n            ...getColumn(a, setA, 'Возраст', 'age'),\n            ...getColumnSearchProps('age')\n        },\n        {\n            ...getColumn(g, setG, 'Пол', 'gender'),\n            filters: [\n                {\n                    text: \"Мужской\",\n                    value: \"Мужской\",\n                },\n                {\n                    text: \"Женский\",\n                    value: \"Женский\",\n                },\n            ],\n            defaultFilteredValue: [...paramFilrers.gender]\n        },\n        {\n            ...getColumn(st, setSt, 'Статусы', 'statuses'),\n            render: (statuses) => {\n                if (statuses && statuses[0]) {\n                    return (\n                        statuses.map(status => {\n                            const {color, _id, name} = status\n                            return (\n                                <Tag color={color} key={_id}>{name}</Tag>\n                            )\n                        })\n                    )\n                }\n            },\n            ...filterStatuses(\n                dataStatusesCheck,\n                setParamFilrers,\n                loadingButtomFilrer,\n                paramFilrers,\n                setFilterAxios)\n        },\n        {\n            ...getColumn(t, setT, 'Учителя', 'tutors'),\n            ...<FilterByTeachers/>\n        },\n        {\n            ...getColumn(PhoneTitle, setPhoneTitle, 'Номер телефона', 'phoneNumber')\n        },\n        {\n            ...getColumn(p, setP, 'Номер телефона родителя', 'parentPhoneNumber')\n        },\n        {\n            ...getColumn(pF, setPF, 'ФИО Родителя', 'parentFullname')\n        },\n        {\n            ...getColumn(b, setB, 'Баланс', 'balance'),\n            filters: [\n                {\n                    text: \"Положительный\",\n                    value: '1',\n                },\n                {\n                    text: \"Отрицательный\",\n                    value: '2',\n                },\n            ],\n            defaultFilteredValue: [...paramFilrers.balance] //...paramFilrers.balance\n        },\n        {\n            ...getColumn(gr, setGr, 'Группы', 'groups'),\n            render: (groups) => {\n                if (groups) {\n                    return (groups.map(group => (\n                        <Tag\n                            color=\"blue\"\n                            key={`${group._id}`}\n                        >\n                            {group.group_name}\n                        </Tag>)))\n                }\n            },\n            ...filterGroups()\n        },\n        {\n            ...getColumn(d, setD, \"Дискорд никнейм\", \"discordNickname\")\n        }\n    ]\n\n    return (\n        <TableL>\n            <Table_Pupils\n                paramFilrers={paramFilrers}\n                setParamFilrers={setParamFilrers}\n                globalFiltersG={globalFilters}\n                setGlobalFiltersG={setGlobalFilters}\n                dataGroupsChecked={dataGroupsChecked}\n                setDataGroupsChecked={setDataGroupsChecked}\n\n                dataSource={objPupils}\n                update={setFilterAxios}\n\n                loadingButtomFilrer={loadingButtomFilrer}\n                setLoadingButtomFilrer={setLoadingButtomFilrer}\n                filterDropdownVisible={filterDropdownVisible}\n                setFilterDropdownVisible={setFilterDropdownVisible}\n                columns={columns}\n\n                scrollLeft={scrollLeft}\n            />\n            <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n        </TableL>\n    )\n}\n\nexport default Create_Columns_Rows_Pupils","import React, {useState, useEffect} from 'react'\nimport {BrowserRouter as Router, Route, Switch, Link} from \"react-router-dom\"\n\nimport {Layout, Menu} from 'antd'\nimport {\n    LogoutOutlined,\n    TeamOutlined,\n    UserOutlined,\n    SearchOutlined,\n    DatabaseOutlined,\n    UploadOutlined,\n    FunnelPlotOutlined\n} from '@ant-design/icons'\n\nimport SearchAll from './../search/search.js'\n\nimport Student from './student/student.js'\nimport StudentPage from './student/pageStudent/pageStudent.js'\n\nimport Group from './group/group.js'\nimport GroupPage from './group/group-page/group-page.js'\n\nimport UploadPupils from './upload-pupils/upload-pupils'\n// Сводные таблицы\nimport Create_Columns_Rows_Groups from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js'\nimport Create_Columns_Rows_Pupils from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js'\n\nimport styled from '@emotion/styled'\n\nconst SalesFunnel = React.lazy(() => import(\"./sales-funnel/sales-funnel\"))\n\nconst {Sider} = Layout;\nconst {SubMenu} = Menu;\n\nconst HomePage = ({logOut}) => {\n\n    const [collapsed, setCollapsed] = useState(false)\n\n    const onCollapse = collapsed => {\n        setCollapsed(collapsed);\n    };\n\n    useEffect(() => {\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '257px'\n    })\n\n    const Vag = styled.div({\n        '.ant-menu': {\n            height: '100vh',\n            position: 'relative',\n            width: collapsed ? '80px' : '257px'\n        },\n        '.vag123': {\n            position: 'absolute',\n            bottom: '48px',\n            width: collapsed ? '80px' : ''\n        },\n        '.site-layout': {\n            padding: '15px'\n        },\n        '& > section': {\n            '& > aside': {\n                position: 'fixed',\n                zIndex: 99\n            },\n            '& > section': {\n                marginLeft: collapsed ? '80px' : '257px'\n            }\n        }\n    })\n\n    const Box = styled.div({\n        overflow: 'auto'\n    })\n\n    return (\n        <>\n            <Router>\n                <Vag>\n                    <Layout style={{minHeight: '100vh'}}>\n                        <Sider\n                            collapsible\n                            collapsed={collapsed}\n                            onCollapse={onCollapse}\n                        >\n                            <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                                <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\n                                    <SearchAll/>\n                                </Menu.Item>\n                                <Menu.Item\n                                    icon={<UploadOutlined\n                                        onClick={() => document.querySelector(\".ButtonUpload\").click()}/>}>\n                                    <UploadPupils/>\n                                </Menu.Item>\n                                <Menu.Item key=\"2\" icon={<UserOutlined/>}>\n                                    <Link to='/student'>\n                                        Ученики\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"3\" icon={<TeamOutlined/>}>\n                                    <Link to='/group'>\n                                        Группы\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"4\" icon={<FunnelPlotOutlined/>}>\n                                    <Link to='/sales-funnel'>\n                                        Воронка продаж\n                                    </Link>\n                                </Menu.Item>\n                                <SubMenu key=\"sub1\" icon={<DatabaseOutlined/>} title=\"Сводные таблицы\">\n                                    <Menu.Item key=\"sub-student\">\n                                        <Link to='/table-pupils'>\n                                            Ученики\n                                        </Link>\n                                    </Menu.Item>\n                                    <Menu.Item key=\"sub-groups\">\n                                        <Link to='/table-groups'>\n                                            Группы\n                                        </Link>\n                                    </Menu.Item>\n                                </SubMenu>\n                                <Menu.Item\n                                    onClick={() => {\n                                        localStorage.removeItem('tokenID');\n                                        logOut()\n                                    }}\n                                    id='LogoutOut'\n                                    key=\"Logout\"\n                                    className='vag123'\n                                    icon={<LogoutOutlined/>}>\n                                    <Link to='/'>\n                                        Выход\n                                    </Link>\n                                </Menu.Item>\n                            </Menu>\n                        </Sider>\n                        <Layout className=\"site-layout\">\n                            <Switch>\n                                <Route exact path='/student'\n                                       component={() => <Student/>}/>\n                                <Route path={`/student/:id`} children={() => <StudentPage/>}/>\n\n                                <Route exact path='/group' component={() => <Group/>}/>\n                                <Route path={`/group/:id`} children={() => <GroupPage/>}/>\n                                <Route path={'/sales-funnel'} component={() => <React.Suspense fallback={<div>Loading...</div>}><SalesFunnel /></React.Suspense>}/>\n                                {/*Сводные таблицы*/}\n                                <Route exact path='/table-groups' component={() => <Create_Columns_Rows_Groups/>}/>\n\n                                <Route exact path='/table-pupils' component={() => (\n                                    <Box>\n                                        <Create_Columns_Rows_Pupils/>\n                                    </Box>)}/>\n\n                                <Route path=\"/student/*\">\n                                    <h2>Странца не найдена</h2>\n                                </Route>\n                            </Switch>\n                        </Layout>\n                    </Layout>\n                </Vag>\n            </Router>\n        </>\n    );\n};\n\nexport default HomePage;","import Url from './../../../../../../url/url.js'\nimport errorHandler from \"../../../../../error-handler/error-handler\";\n\nconst axios = require(\"axios\");\n\nconst writeComment = (pupil_id, value) => {\n    axios({\n        method: 'post',\n        url: `${Url}/CRM/Pupils/${pupil_id}/Notes`,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: {\n            text: value\n        }\n    })\n    .catch((error) => {\n        errorHandler(writeComment, error)\n    });\n}\n\nexport default writeComment","import Url from './../../../../../../url/url.js'\nimport errorHandler from '../../../../../error-handler/error-handler.js'\n\nconst axios = require('axios'); // AJAX\n\nconst changeSchedule = (mass, pupil_id, id, getUser) => {\n    axios({\n        method: 'put',\n        url: `${Url}/CRM/Groups/${id}/Pupils/${pupil_id}/Schedule`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: mass\n    })\n    .then((res) => {\n        getUser('Сохранение')\n    })\n    .catch((error) => {\n        errorHandler(changeSchedule, error)\n    });\n}\n\nexport default changeSchedule","import React, {useState, useEffect} from 'react';\nimport writeComment from './write-сomment/write-comment.js'\nimport changeSchedule from './change-schedule/change-schedule.js'\n\nimport {Table, Tag, Input, Button} from 'antd';\n\nconst {Column, ColumnGroup} = Table\nconst {TextArea} = Input\n\n\nconst TablePupils = ({ID_Group, Group, getUser}) => {\n\n    const [GLOBAL_ARR_PUPILS, set_GLOBAL_ARR_DAY] = useState({})\n    const [GLOBAL_ROW_KEY, set_GLOBAL_ROW_KEY] = useState([])\n\n    let ARR_PUPILS = {...GLOBAL_ARR_PUPILS},\n        RowKeys = [...GLOBAL_ROW_KEY]\n\n    const onRowKeys = () => {\n\n        RowKeys = []\n\n        for (let key in ARR_PUPILS) {\n            if (ARR_PUPILS[key].arr[ID_Group].status == 2) {\n                RowKeys.push(key)\n            }\n        }\n    }\n\n    let Notes = {}\n\n    const onSeveChange = () => {\n        for (let key in ARR_PUPILS) {\n            changeSchedule(ARR_PUPILS[key].arr, key, Group._id, getUser)\n        }\n        for (let key in Notes) {\n            writeComment(key, Notes[key].text)\n        }\n    }\n    console.log(Group)\n\n    const data = Group.pupils.map((item, i) => {\n\n        let {_id, name, surname, midname} = item\n\n        ARR_PUPILS[_id] = {\n            arr: item.localSchedule ? item.localSchedule[Group._id] : [],\n            pupil_id: _id\n        }\n        onRowKeys()\n\n\n        let start = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].start : '',\n            finish = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].finish : ''\n\n        const titleProgresStart = (key, text) => {\n            ARR_PUPILS[_id].arr[ID_Group][key] = text\n        }\n\n        const onChangeStatys = (arr) => {\n            if (ARR_PUPILS[_id]) {\n                ARR_PUPILS[_id].arr = arr\n            } else if (!ARR_PUPILS[_id]) {\n                ARR_PUPILS[_id] = {\n                    arr: arr,\n                    pupil_id: _id\n                }\n            }\n        }\n\n        let changeDayPupil = (index = 3) => {\n            let arr = [...item.localSchedule[Group._id]];\n\n            if (index == 2 & arr[ID_Group].status == 3) {\n                arr[ID_Group].status = index;\n\n                onChangeStatys(arr)\n\n            } else if (index == 3) {\n                arr[ID_Group].status = index;\n\n                onChangeStatys(arr)\n\n            } else if (index != 3 & index != 2) {\n                arr[ID_Group].title = index;\n\n                onChangeStatys(arr)\n            } else {\n                // swallErr('Не возможно установить статус');\n            }\n        };\n\n        let titlePupil = ''\n        if (Group.pupils[i]) {\n            titlePupil = Group.pupils[i].localSchedule[Group._id][ID_Group].title\n        }\n\n        return {\n            key: _id,\n            name: `${surname} ${name} ${midname}`,\n            title: {\n                text: titlePupil,\n                action: changeDayPupil,\n                addNotes: (value) => {\n                    Notes[_id] = {\n                        text: value,\n                        id: _id\n                    }\n                }\n            },\n            progres: {\n                start: start,\n                finish: finish,\n                action: titleProgresStart\n            }\n        }\n    })\n\n    const rowSelection = {\n\n        selectedRowKeys: RowKeys,\n\n        onChange: () => {\n            set_GLOBAL_ARR_DAY(ARR_PUPILS)\n            set_GLOBAL_ROW_KEY(RowKeys)\n        },\n        onSelect: (e) => {\n\n            let i,\n                box = ARR_PUPILS[e.key].arr[ID_Group].status\n            if (box == 2) {\n                i = 3\n            } else {\n                i = 2\n            }\n\n            ARR_PUPILS[e.key].arr[ID_Group].status = i\n\n            onRowKeys()\n        },\n        onSelectAll: (e) => {\n\n            if (e) {\n                for (let key in ARR_PUPILS) {\n                    ARR_PUPILS[key].arr[ID_Group].status = 2\n                }\n            } else if (!e) {\n                for (let key in ARR_PUPILS) {\n                    ARR_PUPILS[key].arr[ID_Group].status = 3\n                }\n            }\n\n            onRowKeys()\n        }\n    };\n\n    return (\n        <>\n            <Table\n                pagination={false}\n                loading={false}\n                rowSelection={rowSelection}\n                scroll={{x: 0}}\n\n                dataSource={data}>\n                <Column\n                    title=\"Ученик\"\n                    dataIndex=\"name\"\n                    key=\"name\"\n                    render={(name) => (\n                        <Tag color=\"blue\">{name}</Tag>\n                    )}/>\n                <ColumnGroup title='Прогресс'>\n                    <Column\n                        title=\"Коментарии\"\n                        dataIndex=\"title\"\n                        key=\"title\"\n                        render={(title) => (\n                            <TextArea\n                                defaultValue={title.text}\n                                placeholder=\"Коментарий ученику\"\n                                onBlur={e => {\n                                    title.action(e.target.value)\n                                    title.addNotes(e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                    <Column\n                        title=\"Начало\"\n                        dataIndex=\"progres\"\n                        key=\"progres\"\n                        render={(progres) => (\n                            <TextArea\n                                defaultValue={progres.start}\n                                placeholder='Старт...'\n                                onBlur={e => {\n                                    progres.action('start', e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                    <Column\n                        title=\"Конец\"\n                        dataIndex=\"progres\"\n                        key=\"progres\"\n                        render={(progres) => (\n                            <TextArea\n                                defaultValue={progres.finish}\n                                placeholder=\"Финиш...\"\n                                onBlur={e => {\n                                    progres.action('finish', e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                </ColumnGroup>\n            </Table>\n            <div className='Button'>\n                <Button\n                    onClick={onSeveChange}\n                    type='primary'\n                >Сохранить</Button>\n            </div>\n        </>\n    )\n}\n\nexport default TablePupils","import React, {useState, useEffect} from 'react';\n\n// import {loading, Swalclose} from './../../../../alert/alert.js'\n// import Url from './../../../../url/url.js'\n// import localStorage_change from './../../../../#localStorage_change.js'\n\nimport TablePupils from './table-pupils/table-pupils.js'\n\nimport { Typography, Space } from 'antd';\n\nimport styled from '@emotion/styled';\n\nconst LessonNowStyle = styled.div({\n\t'.time': {\n\t\t'h5, h6': {\n\t\t\tmargin: 0\n\t\t}\n\t},\n\t'.TablePupils': {\n\t\tmarginTop: '15px',\n\t\t'.ant-tag': {\n\t\t\tfontSize: '13px'\n\t\t},\n\t\ttd: {\n\t\t\tpadding: '16px 3px'\n\t\t}\n\t},\n\t'.Button': {\n\t\tmarginTop: '15px',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end'\n\t}\n})\n\nconst { Text } = Typography;\n\nconst LessonNow = ({rowKey, setRowKey, GROUP, Group, getUser}) => {\n\n\tlet G = Group\n\n\tif (GROUP.group.group_name) {\n\t\tG = GROUP\n\t}\n\n\treturn (\n\t\t<LessonNowStyle className='LessonNow'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<h4><Text type=\"secondary\"> Урок сейчас: </Text> {G.group.group_name} </h4>\n\t\t\t\t</div>\n\t\t\t\t<div className={`col-md-3 time`}>\n\t\t\t\t\t<h6> <Text type=\"secondary\">Начало</Text> </h6>\n\t\t\t\t\t<h5> <Text type=\"warning\">{G.group.global_schedule[G.indexD].date} в {G.group.global_schedule[0].duration[0]}</Text> </h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"TablePupils\">\n\t\t\t\t<TablePupils rowKey={rowKey} getUser={getUser} ID_Group={G.indexD} setRowKey={setRowKey} Group={G.group}/>\n\t\t\t</div>\n\t\t</LessonNowStyle>\n\t)\n}\n\nexport default LessonNow","import React from 'react';\n\nimport {Table, Tag} from 'antd';\n\nconst {Column} = Table\n\n\nconst TableGroups = ({Groups, newGroup, setGROUP, GROUP}) => {\n\n    const data = Groups.map((item, i) => {\n\n        let {_id, group_name, global_schedule} = item.group,\n            color = 'cyan'\n\n        if (GROUP.group) {\n            if (newGroup.group._id == _id & !GROUP.group.group_name) {\n\n                color = 'volcano'\n            } else if (_id == GROUP.group._id) {\n\n                color = 'volcano'\n            }\n        }\n\n        return {\n            key: i,\n            groupName: {\n                group_name: group_name,\n                G: item\n            },\n            date: {\n                date: `${global_schedule[`${item.indexD}`].date} в ${global_schedule[0].duration[0]}`,\n                color: color,\n                G: item\n            }\n        }\n    })\n\n    let pagination = {\n        pageSize: 15,\n        onChange: (i) => {\n            console.log(`Страница: ${i}`)\n        }\n    }\n\n    return (\n        <Table\n            pagination={pagination}\n            loading={false}\n            scroll={{x: 0}}\n\n            dataSource={data}>\n            <Column\n                title=\"Время\"\n                dataIndex=\"date\"\n                key=\"date\"\n                render={(date) => (\n                    <Tag\n                        onClick={() => {\n                            setGROUP(date.G)\n                        }}\n                        style={{cursor: 'pointer'}}\n                        color={date.color}>{date.date}</Tag>\n                )}/>\n\n            <Column\n                title=\"Группа\"\n                dataIndex=\"groupName\"\n                key=\"groupName\"\n                render={(groupName) => (\n                    <Tag\n                        onClick={() => {\n                            setGROUP(groupName.G)\n                            console.log(groupName.G)\n                        }}\n                        style={{cursor: 'pointer'}}\n                        color=\"volcano\">{groupName.group_name}</Tag>\n                )}/>\n        </Table>\n    )\n}\n\n\nTableGroups.defaultProps = {\n    Groups: [{\n        group_name: '',\n        global_schedule: [\n            {date: \"\", duration: ['', '']}\n        ],\n        pupils: []\n    }]\n}\n\nexport default TableGroups","import React from \"react\"\r\n\r\nimport TableGroups from \"./table-groups/table-groups.js\"\r\n\r\nimport styled from \"@emotion/styled\"\r\n\r\nconst AllLesson = ({Groups, newGroup, setGROUP, GROUP}) => {\r\n\r\n\tlet gro = [...Groups]\r\n\r\n\t// if (gro[1]) {\r\n\t// \tgro.splice(0, 1)\r\n\t// }\r\n\r\n\tconst AllLesson = styled.div({\r\n\t\tpadding: '15px',\r\n\t\tborderRadius: '2px',\r\n\t\tbackgroundColor: '#fff'\r\n\t})\r\n\r\n\treturn (\r\n\t\t<AllLesson className='AllLesson'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t\t<h5>Ближайшие уроки</h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"TableGroups\">\r\n\t\t\t\t<TableGroups Groups={gro} newGroup={newGroup} setGROUP={setGROUP} GROUP={GROUP}/>\r\n\t\t\t</div>\r\n\t\t</AllLesson>\r\n\t)\t\r\n}\r\n\r\nexport default AllLesson","import React, {useState, useEffect} from 'react';\nimport { Layout, Breadcrumb } from 'antd';\n\nimport LessonNow from './lesson-now/lesson-now.js'\nimport AllLesson from './all-lesson/all-lesson.js'\n\nimport moment from 'moment'\n\nimport styled from '@emotion/styled';\n\nconst Today = ({rowKey, setRowKey, Groups, GROUP, setGROUP, getUser}) => {\n\n\tlet indexHours = {\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t},\n\tgroupsAll = [{\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t}]\n\n\n\tGroups.forEach((item, i) => {\n\n\t\tlet dataLes_l = []\n\t\tlet indexD = 'f'\n\n\t\tlet GLOBAL_SCHEDULE_Local = item.global_schedule ? item.global_schedule : []\n\n\t\tGLOBAL_SCHEDULE_Local.forEach((itemGL, i) => {\n\n\t\t\tlet time = moment(itemGL.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\n\t\t\ttime_day = moment().diff(time, 'day');\n\n\t\t\tif (time_day <= 0) {\n\n\t\t\t\tif (indexD == 'f') {\n\t\t\t\t\tindexD = i\n\t\t\t\t}\n\n\t\t\t\tdataLes_l.push(`${time} ${itemGL.duration[0]}`)\n\t\t\t}\n\t\t})\n\n\t\tif (dataLes_l[0]) {\n\n\t\t\tif (indexHours.timeN) {\n\n\t\t\t\tlet indexN = moment().diff(dataLes_l[0], 'hours'),\n\t\t\t\t\tposl = moment().diff(indexHours.timeN, 'hours')\n\n\t\t\t\tif (indexN > posl & indexN <= 0) {\n\t\t\t\t\t\n\t\t\t\t\tindexHours = {\n\t\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\t\tgroup: item,\n\t\t\t\t\t\tindexD: indexD\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else if (!indexHours.timeN) {\n\t\t\t\tindexHours = {\n\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\tgroup: item,\n\t\t\t\t\tindexD: indexD\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (dataLes_l[0]) {\n\t\t\t\tgroupsAll.push({\n\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\tgroup: item,\n\t\t\t\t\tindexD: indexD\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n\n\tlet groupCon = [{\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t}]\n\n\tlet indexGroup = []\n\tgroupsAll.forEach(item => {\n\t\tindexGroup.push(moment().diff(item.timeN, 'minutes'))\n\t})\n\n\tindexGroup.sort((a, b) => b - a)\n\n\tindexGroup.forEach(itemIN => {\n\t\tgroupsAll.forEach((item2, i) => {\n\n\t\t\tif (moment().diff(item2.timeN, 'minutes') == itemIN) {\n\n\t\t\t\tgroupCon.push(item2)\n\t\t\t}\n\t\t})\n\t})\n\n\tif (groupCon[1] != undefined) {\n\t\tgroupCon.splice(0, 1)\n\t}\n\n\t// console.log(groupCon)\n\n\tconst Today = styled.div({\n\t\t'.site-layout-background': {\n\t\t\t'.allCol': {\n\t\t\t\tpadding: '0 7.5px'\n\t\t\t},\n\t\t\t'.LessonNow, .AllLesson': {\n\t\t\t\tpadding: '15px',\n\t\t\t\tborderRadius: '2px',\n\t\t\t\tbackgroundColor: '#fff'\n\t\t\t}\n\t\t}\n\t})\n\n\tif (!GROUP) {\n\t\tsetGROUP(groupCon[0])\n\t}\n\n\tconst { Content } = Layout;\n\n\treturn (\n\t\t<Today>\n\t\t\t<Content style={{ margin: '0 16px' }}>\n\t\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\n\t\t\t\t\t<Breadcrumb.Item>Главная</Breadcrumb.Item>\n\t\t\t\t\t<Breadcrumb.Item>Ближайшие уроки</Breadcrumb.Item>\n\t\t\t\t</Breadcrumb>\n\t\t\t\t<div className=\"row site-layout-background\" style={{ padding: '7.5px', minHeight: 360 }}>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"allCol col-8\">\n\t\t\t\t\t\t<LessonNow rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP} Group={indexHours}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"allCol col-4\">\n\t\t\t\t\t\t<AllLesson Groups={groupCon} setGROUP={setGROUP} newGroup={indexHours} GROUP={GROUP}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Content>\n\t\t</Today>\n\t)\n}\n\nexport default Today","import React, {useState, useEffect} from 'react';\nimport {Layout, Breadcrumb, Table, Tag} from 'antd';\n\nimport styled from '@emotion/styled';\n\nimport moment from 'moment';\n\nconst columns = [\n    {\n        title: '',\n        key: 'time',\n        dataIndex: 'time',\n        fixed: 'left',\n        width: 100,\n        render: (time) => <Tag color=\"cyan\">{time}</Tag>,\n    },\n    {title: 'Понедельник', dataIndex: '1', key: '1'},\n    {title: 'Вторник', dataIndex: '2', key: '2'},\n    {title: 'Среда', dataIndex: '3', key: '3'},\n    {title: 'Четверг', dataIndex: '4', key: '4'},\n    {title: 'Пятница', dataIndex: '5', key: '5'},\n    {title: 'Суббота', dataIndex: '6', key: '6'},\n    {title: 'Воскресенье', dataIndex: '0', key: '7'}\n];\n\nconst СalendarStyle = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\nconst GroupsANDpupils = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff',\n    marginBottom: '15px'\n})\n\nconst {Content} = Layout;\n\nconst Сalendar = ({Groups}) => {\n\n    console.log(Groups)\n\n    const columns2 = Groups.map(item => {\n        // let name = `${item._id}`\n        return (\n            {\n                title: () => <Tag key={item._id} color=\"magenta\">{item.group_name}</Tag>,\n                key: item._id,\n                dataIndex: 'pupil',\n                fixed: 'top',\n                width: 100,\n                render: () => {\n                    return (\n                        <>\n                            {\n                                item.pupils.map((itemf, i) => (\n                                    <div key={`${item._id}${i}`}>\n                                        <Tag\n                                            style={{marginBottom: '5px'}}\n                                            color=\"green\">{itemf.surname} {itemf.name} {itemf.midname}</Tag>\n                                    </div>\n                                ))\n                            }\n                        </>\n                    )\n                }\n            }\n        )\n    })\n\n    const data2 = [{\n        key: '777',\n        pupil: ''\n    }]\n\n    console.log(data2)\n\n\n// ==================\n    const data = Groups.map(items => {\n\n        let GLOBAL_SCHEDULE_Local = items.global_schedule ? items.global_schedule : []\n\n        if (GLOBAL_SCHEDULE_Local[0]) {\n            let wekDay = {}\n\n            items.global_schedule.forEach(day => {\n                let wek_day = moment(day.date, 'DD.MM.YYYY').day()\n\n                wekDay[wek_day] = items.group_name\n            })\n\n            return {\n                key: items._id,\n                ...wekDay,\n                time: items.global_schedule[0].duration[0]\n            }\n        } else {\n            return {\n                key: items._id,\n                '1': `Для группы: \"${items.group_name}\" не создано расписание.`,\n                time: ''\n            }\n        }\n    })\n\n    let finalDate = []\n\n    for (let inc = 0; inc <= 24; inc++) {\n        data.forEach(item => {\n\n            let hh = moment(item.time, 'hh:mm').hours()\n            if (hh == inc) {\n                finalDate.push(item)\n            }\n        })\n    }\n    \n    return (\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Расписание уроков</Breadcrumb.Item>\n            </Breadcrumb>\n            <GroupsANDpupils>\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\n                    <h4>Группы</h4>\n                    <Table bordered columns={columns2} dataSource={data2} scroll={{x: 1000}}/>\n                </div>\n            </GroupsANDpupils>\n            <СalendarStyle>\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\n                    <h4>Расписание</h4>\n                    <Table bordered columns={columns} dataSource={finalDate} scroll={{x: 1300}}/>\n                </div>\n            </СalendarStyle>\n        </Content>\n    )\n}\n\nexport default Сalendar","import React from 'react';\nimport {Table, Layout, Breadcrumb} from 'antd';\nimport {Link} from \"react-router-dom\"\n\nimport ReturnAge from './../../home-page/return-age/returnAge.js'\n\nimport styled from '@emotion/styled';\n\nconst AllPupilsBox = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\n\nconst AllPupils = ({AllPupils}) => {\n\n    const {Content} = Layout;\n    const {Column} = Table;\n\n    const data = []\n\n    AllPupils.forEach(item => {\n\n        let {surname, name, midname, dateOfBirth, gender, phone, discord, _id} = item\n\n        let i = true\n\n        data.forEach(item => {\n            if (item.key == _id) {\n                i = false\n            }\n        })\n\n        if (i) {\n            data.push({\n                key: _id,\n                surname: [surname, _id],\n                name: name,\n                midname: midname,\n                dateOfBirth: ReturnAge(dateOfBirth),\n                gender: gender,\n                phone: phone,\n                discord: discord\n            })\n        }\n    })\n\n    return (\n\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Таблица Учеников</Breadcrumb.Item>\n            </Breadcrumb>\n            <div className=\"site-layout-background\" style={{padding: '10px', minHeight: 360}}>\n                <AllPupilsBox>\n                    <Table dataSource={data}>\n                        <Column\n                            title=\"Фамилия\"\n                            dataIndex=\"surname\"\n                            key=\"surname\"\n                            render={(surname) => (\n                                <Link\n                                    className=\"link-info\"\n                                    to={`/student/${surname[1]}`}>\n                                    {surname[0]}\n                                </Link>\n                            )}/>\n                        <Column title=\"Имя\" dataIndex=\"name\" key=\"name\"/>\n                        <Column title=\"Отчество\" dataIndex=\"midname\" key=\"midname\"/>\n                        <Column title=\"Возраст\" dataIndex=\"dateOfBirth\" key=\"dateOfBirth\"/>\n                        <Column title=\"Пол\" dataIndex=\"gender\" key=\"gender\"/>\n                        <Column title=\"Номер телефона\" dataIndex=\"phone\" key=\"phone\"/>\n                        <Column title=\"Дискорд никнейм\" dataIndex=\"discord\" key=\"discord\"/>\n                    </Table>\n                </AllPupilsBox>\n            </div>\n        </Content>\n    )\n}\n\nexport default AllPupils","import React from 'react';\nimport {Table, Layout, Breadcrumb} from 'antd';\nimport {Link} from \"react-router-dom\"\n\nimport styled from '@emotion/styled';\n\nconst AllGroupsBox = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\n\nconst AllGroups = ({AllGroups}) => {\n    const {Content} = Layout;\n    const {Column} = Table;\n\n    const data = AllGroups.map(item => {\n\n        let {group_name, level, places, pupils, _id, global_schedule} = item\n\n        let time = ''\n\n        if (global_schedule) {\n            if (global_schedule[0]) {\n                time = `с ${global_schedule[0].duration[0]} до ${global_schedule[0].duration[1]}`\n            }\n        }\n\n        return ({\n            key: _id,\n            group_name: [group_name, _id],\n            level: level,\n            places: places,\n            free_places: places - pupils.length,\n            time: time\n        })\n    })\n\n    return (\n\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Таблица Групп</Breadcrumb.Item>\n            </Breadcrumb>\n            <div className=\"site-layout-background\" style={{padding: '10px', minHeight: 360}}>\n                <AllGroupsBox>\n                    <Table dataSource={data}>\n                        <Column\n                            title=\"Имя Группы\"\n                            dataIndex=\"group_name\"\n                            key=\"group_name\"\n                            render={(group_name) => (\n                                <Link\n                                    className=\"link-info\"\n                                    to={`/group/${group_name[1]}`}>\n                                    {group_name[0]}\n                                </Link>\n                            )}/>\n                        <Column title=\"Уровень\" dataIndex=\"level\" key=\"level\"/>\n                        <Column title=\"Количество мест\" dataIndex=\"places\" key=\"places\"/>\n                        <Column title=\"Свободных мест\" dataIndex=\"free_places\" key=\"free_places\"/>\n                        <Column title=\"Время занятий\" dataIndex=\"time\" key=\"time\"/>\n                    </Table>\n                </AllGroupsBox>\n            </div>\n        </Content>\n    )\n}\n\nexport default AllGroups","import React, {useState, useEffect} from 'react';\nimport {BrowserRouter as Router, Route, Link, Switch} from \"react-router-dom\";\n\nimport {loading, Swalclose} from './../../alert/alert.js'\nimport Url from './../../url/url.js'\n\nimport Today from './today/today.js'\nimport Сalendar from './calendar/calendar.js'\nimport SearchAll from './../search/search.js'\nimport StudentPage from '../home-page/student/pageStudent/pageStudent.js'\nimport GroupPage from '../home-page/group/group-page/group-page.js'\n\nimport AllPupils from './all-pupils/all-pupils.js'\nimport AllGroups from './all-groups/all-groups.js'\n\nimport {Layout, Menu} from 'antd';\nimport {\n    LogoutOutlined,\n    ClockCircleOutlined,\n    CalendarOutlined,\n    TeamOutlined,\n    SearchOutlined,\n    UserOutlined,\n} from '@ant-design/icons';\n\nimport styled from '@emotion/styled';\nimport errorHandler from \"../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\nlet jwt = require('jsonwebtoken');\n\nconst {Sider} = Layout;\n\nconst HomePageTutor = ({logOut}) => {\n\n    const [collapsed, setCollapsed] = useState(false)\n    const [rowKey, setRowKey] = useState([])\n    const [GROUP, setGROUP] = useState({\n        group: {\n            group_name: '',\n            global_schedule: [\n                {date: \"00\", duration: ['', '']}\n            ],\n            pupils: [],\n            _id: '3443'\n        },\n        indexD: 0\n    })\n    const [user, setUser] = useState({\n        groups: [],\n        login: \"\",\n        midname: \"\",\n        name: \"\",\n        role: \"\",\n        surname: \"\",\n        _id: \"456456\"\n    })\n    const [Groups, setGroups] = useState([])\n\n    let Pupils = []\n    Groups.forEach(item => {\n        Pupils.push(...item.pupils)\n    })\n\n    const getGroups = (l_user) => {\n\n        let mass_id = l_user.groups.map(item => item._id)\n\n        if (mass_id[0]) {\n            axios({\n                method: 'post',\n                url: `${Url}/CRM/Groups/getByIds`,\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8',\n                    'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n                },\n                data: {\n                    ids: mass_id\n                }\n            })\n            .then((res) => {\n                setGroups(res.data)\n                Swalclose()\n            })\n            .catch((error) => {\n                errorHandler(getGroups, error)\n            })\n        } else {\n            Swalclose()\n        }\n    };\n\n    const getUser = (title) => {\n\n        loading(title, '')\n\n        axios({\n            method: 'get',\n            url: `${Url}/CRM/Teachers/${jwt.decode(localStorage.getItem('tokenID')).id}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            if (!data) {\n                localStorage.removeItem('tokenID');\n                window.location.replace(\"/\");\n            }\n\n            setUser(data)\n            getGroups(data)\n        })\n        .catch((error) => {\n            errorHandler(getGroups, error)\n        })\n    };\n\n    useEffect(() => {\n        getUser('Получение данных...')\n    }, [])\n\n    useEffect(() => {\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '250px'\n    })\n\n    const Vag = styled.div({\n        '.ant-menu': {\n            height: '100vh',\n            position: 'relative',\n            width: collapsed ? '80px' : '250px'\n        },\n        '.vag123': {\n            position: 'absolute',\n            bottom: '48px',\n            width: collapsed ? '80px' : ''\n        },\n        '.site-layout': {\n            padding: '15px'\n        },\n        '& > section': {\n            '& > aside': {\n                position: 'fixed',\n                zIndex: 99\n            },\n            '& > section': {\n                marginLeft: collapsed ? '80px' : '250px'\n            }\n        }\n    })\n\n    return (\n        <Router>\n            <Vag>\n                <Layout style={{minHeight: '100vh'}}>\n                    <Sider collapsible collapsed={collapsed} onCollapse={() => setCollapsed(!collapsed)}>\n                        <div className=\"logo\"/>\n                        <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                            <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\n                                <SearchAll tutorid={`&tutorID=${jwt.decode(localStorage.getItem('tokenID')).id}`}/>\n                            </Menu.Item>\n                            <Menu.Item key=\"1\" icon={<ClockCircleOutlined/>}>\n                                <Link to='/'>\n                                    Сегодня\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"2\" icon={<CalendarOutlined/>}>\n                                <Link to='/calendar'>\n                                    Расписание\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"3\" icon={<UserOutlined/>}>\n                                <Link to='/pupils'>\n                                    Ученики\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"4\" icon={<TeamOutlined/>}>\n                                <Link to='/groups'>\n                                    Группы\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item\n                                onClick={() => {\n                                    localStorage.removeItem('tokenID')\n                                    logOut()\n                                }}\n                                key=\"Logout\" className='vag123' icon={<LogoutOutlined/>}>\n                                <Link to='/'>\n                                    Выход: {user.login}\n                                </Link>\n                            </Menu.Item>\n                        </Menu>\n                    </Sider>\n                    <Layout className=\"site-layout\">\n\n                        <div>\n                            <Switch>\n                                <Route exact path='/'>\n                                    <Today rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP}\n                                           setGROUP={setGROUP} Groups={Groups}/>\n                                </Route>\n                                <Route exact path='/calendar'>\n                                    <Сalendar Groups={Groups}/>\n                                </Route>\n                                <Route exact path='/pupils'>\n                                    <AllPupils AllPupils={Pupils}/>\n                                </Route>\n                                <Route exact path='/groups'>\n                                    <AllGroups AllGroups={Groups}/>\n                                </Route>\n\n                                <Route exact path={`/student/:id`} children={() => <StudentPage/>}/>\n                                <Route exact path={`/group/:id`} children={() => <GroupPage/>}/>\n                            </Switch>\n                        </div>\n\n                    </Layout>\n                </Layout>\n            </Vag>\n        </Router>\n    )\n}\n\nexport default HomePageTutor","import React, {useState, useEffect} from 'react'\n\nimport './App.css';\nimport FormlogIn from './form-log-In/form-log-in.js'\nimport HomePage from './home-page/home-page.js'\n\nimport Url from './../url/url.js'\n\nimport HomePageTutor from './home-page-tutor/home-page-tutor.js'\n\nconst App = () => {\n\tconst axios = require('axios'); // AJAX\n\n\tlet jwt = require('jsonwebtoken')\n\n\tconst [User, setUser] = useState('');\n\t\t//localStorage.getItem('tokenID')\n\tlet form = <FormlogIn setUser={setUser}/>;\n\tlet page = localStorage.getItem('tokenID')? <HomePage logOut={setUser}/> : form;\n\n\tuseEffect(() => {\n\t\tif (page !== form) {\n\t\t\taxios({\n\t\t\t\tmethod: \"get\",\n\t\t\t\turl: `${Url}/auth-check`,\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (error.response) {\n\t\t\t\t\tlet {status} = error.response\n\t\t\t\t\tif (status === 401) {\n\t\t\t\t\t\tlocalStorage.removeItem(\"tokenID\");\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [])\n\t\n\tif (localStorage.getItem('tokenID')) {\n\t\tif (jwt.decode(localStorage.getItem('tokenID')).accountType === 'teacher') {\n\t\t\tpage = <HomePageTutor logOut={setUser}/>\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t  \t\t{page}\n\t\t</>\n\t);\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\n// import { DatePicker, Pagination } from 'antd';\n// import 'antd/dist/antd.css';\nReactDOM.render(<App/>,document.getElementById('root'))","import styled from \"@emotion/styled\"\n\nexport const StylesForInputMaskPhoneParentOrChild = {\n  borderRadius: \"2px\"\n}\n\nexport const StylesForUserAddOutlined = {\n  fontSize: \"18px\",\n  color: '#001529',\n  position: \"absolute\",\n  top: \"4px\",\n  right: \"2px\"\n}\n\nexport const BoldSpan = styled.span`\n  font-weight: bold;\n`\n\nexport const VisibilitySpan = styled.span`\n  opacity: 0.8;\n`\n\nexport const Wrapper = styled.div`\n  position: relative;\n`\nexport const FunnelSection = styled.div`\n  ::-webkit-scrollbar {\n    height: 5px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: darkgrey;\n  }\n  overflow: auto hidden;\n  height: auto;\n  min-width: 100%;\n  display: flex;\n  justify-content: ${props => props.jstctn ? \"space-evenly\" : \"flex-start\"};\n  .droppable-container {\n    min-height: 150px;\n    height: 100%;\n  }\n`\nexport const FlexFunnelElement = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n  > p {\n    flex: 1 0 50%;\n    margin: 0;\n    padding: 0;\n  }\n  > Input {\n    flex: 1 0 50%;\n  }\n`\n\n\nexport const FunnelStep = styled.div`\n  overflow: hidden;\n  max-width: 260px;\n  min-width: 260px;\n  margin: 0px 10px;\n  background: white;\n  border-radius: 4px;\n  .ant-pagination.ant-pagination-simple {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 3px;\n  }\n`\nexport const FunnelStepHeader = styled.div`\n  border-bottom: 1px solid ${props => props.background ? props.background : \"#001529\"};\n  max-height: 26px;\n  padding: 2px 5px;\n  background: white;\n  color: black;\n  font-weight: 500;\n`\n\nexport const FunnelStepAbonementSum = styled.div`\n  position: relative;\n  margin: 0;\n  margin-bottom: 8px;\n  padding: 5px 0;\n  text-align: center;\n  background: white;\n  color: black;\n  font-weight: 500;\n  border-bottom: 4px solid ${props => props.background ? props.background : \"#001529\"};\n  &::before {\n    position: absolute;\n    content: \"\";\n    display: inline-block;\n    bottom: -20px;\n    right: calc((260px - (8px + 8px)) / 2);\n    border-top: 8px solid ${props => props.background ? props.background : \"#001529\"};\n    border-right: 8px solid transparent;\n    border-left: 8px solid transparent;\n    border-bottom: 8px solid transparent;\n  }\n`\n\nexport const FunnelStepText = styled.p`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: keep-all;\n  width: ${props => props.width !== '' ? props.width : \"190px\"};\n  height: 25px;\n  margin: 0;\n`\n\nexport const FunnelStepStudent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 8px 3px 8px 8px;\n  margin: 5px 0;\n  border: 1px solid lightgray;\n  border-radius: 1px;\n  background: white;\n  color: black;\n  .funnelStepStudent__first--info {\n    display: flex;\n    flex-direction: column;\n    div:first-of-type {\n      font-weight: bold;\n    }\n    p {\n      margin: 0;\n    }\n    div:last-of-type {\n      margin-bottom: 3px;\n    }\n  }\n  p {\n    margin: 0;\n  }\n`\nexport const StatusesBlock = styled.div`\n  margin: 2.5px 0 0 0;\n  display: flex;\n  max-width: 250px;\n  overflow: auto hidden;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  padding: ${props => props.contains ? \"0 0 5px 0\" : \"0\"};\n  &::-webkit-scrollbar {\n    height: 2px;\n    background: white;\n  }\n  &::-webkit-scrollbar-thumb {\n    border: 3px solid lightgray;\n  }\n`\nexport const HoverTask = styled.p`\n  cursor: pointer;\n  margin: 0 0 2.5px 0;\n  color: #18AEFF;\n  font-weight: 600;\n`\nexport const DropdownClosestTask = styled.div`\n  border: 1px solid lightgray;\n  background: white;\n  padding: 5px;\n  > p {\n    margin: 0;\n    opacity: 0.8;\n  }\n  > .name {\n    font-weight: bold;\n  }\n`","const localStorage_change = (token) => {\n\tlocalStorage.removeItem('tokenID');\n\tlocalStorage.setItem('tokenID', token);\n};\n\nexport default localStorage_change;"],"sourceRoot":""}