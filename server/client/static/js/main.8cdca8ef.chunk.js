(this["webpackJsonpcrm-shool-app"]=this["webpackJsonpcrm-shool-app"]||[]).push([[0],{108:function(e,t,n){"use strict";t.a=function(e){localStorage.removeItem("tokenID"),localStorage.setItem("tokenID",e)}},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(18),c=n.n(a),r=n(34),o=n(27),i=n.n(o),s=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("".concat(t,"/CRM/Pupils"),{name:n.name,midname:n.midname,surname:n.surname,gender:n.gender,dateOfBirth:n.dateOfBirth,phone:n.phone,discord:n.discord,parentPhone:n.parentPhone,parentFullname:n.parentFullname,salesFunnelStep:n.salesFunnelStep},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenID")),"Content-Type":"application/json;charset=utf-8"}}).then((function(e){return a=e.data}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("".concat(t,"/CRM/Pupils/").concat(n),a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenID")),"Content-Type":"application/json;charset=utf-8"}});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(c.a.mark((function e(t){var n,a,r=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1e3,e.next=3,i.a.get("".concat(t,"/CRM/SalesFunnel?limit=").concat(n),{headers:{"Content-Type":"application/jsoncharset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){return a=e.data}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},14:function(e,t,n){"use strict";t.a="http://crm.3place.ru"},20:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p}));n(0);var a=n(104),c=n.n(a),r=n(274),o=n.n(r),i=o()(c.a),s=function(e,t){i.fire({icon:"error",title:e,text:t})},l=o()(c.a),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";l.fire({icon:"success",title:e,text:t})},d=c.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",c.a.stopTimer),e.addEventListener("mouseleave",c.a.resumeTimer)}}),j=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";c.a.fire({title:t,html:n,timerProgressBar:!0,didOpen:function(){c.a.showLoading(),e=setInterval((function(){var e=c.a.getHtmlContainer();if(e){var t=e.querySelector("b");t&&(t.textContent=c.a.getTimerLeft())}}),100)},willClose:function(){clearInterval(e)}})},b=function(e){403==e&&d.fire({icon:"error",title:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})},p=function(){c.a.close()}},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(18),c=n.n(a),r=n(34),o=n(27),i=n.n(o),s=function(){var e=Object(r.a)(c.a.mark((function e(t,n,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("".concat(t,"/CRM/Tasks/").concat(n),a,{headers:{authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}});case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n(18),c=n.n(a),r=n(2),o=n(9),i=n(34),s=n(4),l=n(0),u=n.n(l),d=n(627),j=n(58),b=n(186),p=n(625),h=n(22),f=n.n(h),m=n(163),x=n.n(m),O=n(628),g=n(71),v=n(133),y=n(20),k=n(57),S=n(108),_=n(1),N=u.a.memo((function(e){var t=e.funnel,n=e.Url,a=e.setPupilsList,u=e.status,h=e.setLoaded,m=e.bigIcon,N=void 0!==m&&m,w=e.update,C=void 0===w?function(){}:w,I=e.defaultValueOptionFunnel,T=void 0===I?"":I,D=new RegExp(/\w+#[0-9]{4}/),E="DD-MM-YYYY",M=Object(l.useState)(!1),R=Object(s.a)(M,2),F=R[0],B=R[1],z=Object(l.useState)(!1),P=Object(s.a)(z,2),A=P[0],L=P[1],Y=Object(l.useState)(f()("01-01-2021",E)),G=Object(s.a)(Y,2),U=G[0],H=G[1],W=Object(l.useState)(""),V=Object(s.a)(W,2),q=V[0],K=V[1],J=Object(l.useState)(""),$=Object(s.a)(J,2),X=$[0],Q=$[1],Z=Object(l.useState)(""),ee=Object(s.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(l.useState)(""),ce=Object(s.a)(ae,2),re=ce[0],oe=ce[1],ie=Object(l.useState)(""),se=Object(s.a)(ie,2),le=se[0],ue=se[1],de=Object(l.useState)(""),je=Object(s.a)(de,2),be=je[0],pe=je[1],he=Object(l.useState)(""),fe=Object(s.a)(he,2),me=fe[0],xe=fe[1],Oe=Object(l.useState)(""),ge=Object(s.a)(Oe,2),ve=ge[0],ye=ge[1],ke=Object(l.useState)(t[0]._id),Se=Object(s.a)(ke,2),_e=Se[0],Ne=Se[1],we=function(){K((function(e){return""})),Q((function(e){return""})),ne((function(e){return""})),H((function(e){return f()("01-01-2021",E)})),oe((function(e){return""})),pe((function(e){return""})),ye((function(e){return""}))},Ce=function(){L(!1),we()},Ie=function(){L(!0)},Te=function(e){return e.target.value=""},De=function(){var e=Object(i.a)(c.a.mark((function e(){var t,i,s,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,B(!0),""!==re){e.next=5;break}throw Object(y.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u043e\u043b"),new Error("\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u043f\u043e\u043b");case 5:if(3===be.split(" ").filter((function(e){return""!==e})).length){e.next=8;break}throw Object(y.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u0424\u0418\u041e \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e"),new Error("\u0424\u0418\u041e \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e");case 8:if(""===ve||-1!==ve.search(D)){e.next=11;break}throw Object(y.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u041d\u0438\u043a \u0432 \u0434\u0438\u0441\u043a\u043e\u0440\u0434\u0435 \u0431\u044b\u043b \u0432\u0432\u0435\u0434\u0451\u043d \u043d\u0435 \u0432\u0435\u0440\u043d\u043e, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 '#' \u0438 \u0446\u0438\u0444\u0440 \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0451, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432"),new Error("\u041d\u0438\u043a \u0432 \u0434\u0438\u0441\u043a\u043e\u0440\u0434\u0435 \u0431\u044b\u043b \u0432\u0432\u0435\u0434\u0451\u043d \u043d\u0435 \u0432\u0435\u0440\u043d\u043e, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 '#' \u0438 \u0446\u0438\u0444\u0440 \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0451, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0440\u0443\u0441\u0441\u043a\u0438\u0445 \u0431\u0443\u043a\u0432");case 11:if(_e){e.next=14;break}throw Object(y.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u042d\u0442\u0430\u043f \u0432 \u0432\u043e\u0440\u043e\u043d\u043a\u0435 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"),new Error("\u042d\u0442\u0430\u043f \u0432 \u0432\u043e\u0440\u043e\u043d\u043a\u0435 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d");case 14:return t={name:q,surname:X,midname:te,gender:re,dateOfBirth:U.toISOString(),phone:me||void 0,discord:""!==ve?String(ve.match(D).shift()):void 0,parentPhone:le,parentFullname:be,salesFunnelStep:_e},e.next=17,Object(v.a)(n,t);case 17:return i=e.sent,Object(y.f)("\u0423\u0441\u043f\u0435\u0448\u043d\u043e!","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u043d!"),C(),e.next=22,a((function(e){return[].concat(Object(o.a)(e),[Object(r.a)(Object(r.a)({},i),{},{closestTask:[]})])}));case 22:h((function(e){return!0})),h((function(e){return!1})),L(!1),B(!1),we(),e.next=35;break;case 29:e.prev=29,e.t0=e.catch(0),u||console.log(e.t0),L(!0),B(!1),e.t0.response&&(Object(k.a)(e.t0.response.status),s=e.t0.response,l=s.status,d=s.data,400===l&&Object(y.e)("\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435"),"TOKEN_EXPIRED"===d.message&&Object(S.a)(d.token),401===l&&(localStorage.removeItem("tokenID"),window.location.replace("/")),500===l&&Object(y.e)("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"));case 35:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[N?Object(_.jsx)("div",{style:{position:"absolute",right:0},className:"collapse d-flex flex-row-reverse",id:"navbarScroll",children:Object(_.jsx)("div",{className:"d-flex plus-box",children:Object(_.jsx)("div",{className:"nav-item plus",onClick:Ie,children:Object(_.jsx)("i",{className:"bi bi-person-plus",style:{fontSize:"38px",color:"#F56767"}})})})}):Object(_.jsx)(O.a,{style:g.l,onClick:Ie}),Object(_.jsx)(d.a,{width:900,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430",visible:A,onCancel:Ce,footer:[Object(_.jsx)(j.a,{onClick:Ce,children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"back"),Object(_.jsx)(j.a,{onClick:De,loading:F,type:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"},"submit")],children:Object(_.jsxs)("form",{action:"#",method:"POST",children:[Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u0418\u043c\u044f:"}),Object(_.jsx)(b.a,{onChange:function(e){K((function(t){return e.target.value}))},value:q,required:!0})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"}),Object(_.jsx)(b.a,{onChange:function(e){Q((function(t){return e.target.value}))},value:X,required:!0})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e:"}),Object(_.jsx)(b.a,{onChange:function(e){ne((function(t){return e.target.value}))},value:te,required:!0})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:"}),Object(_.jsx)(p.a,{className:"form-control",placeholder:"\u0413\u0413\u0413\u0413.\u041c\u041c.\u0414\u0414",defaultValue:f()("01-01-2021",E),format:E,onChange:function(e){H((function(t){return e}))}})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u0424\u0418\u041e \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044f:"}),Object(_.jsx)(b.a,{onChange:function(e){pe((function(t){return e.target.value}))},value:be,required:!0,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0418\u043c\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u041d\u0438\u043a \u0432 \u0434\u0438\u0441\u043a\u043e\u0440\u0434\u0435:"}),Object(_.jsx)(b.a,{onChange:function(e){ye((function(t){return e.target.value}))},value:ve,placeholder:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0440\u0435\u0431\u0451\u043d\u043a\u0430:"}),Object(_.jsx)(x.a,{autoComplete:"off",onChange:function(e){xe((function(t){return e.target.value}))},onFocus:Te,style:g.k,type:"tel",name:"tel",className:"form-control",mask:"+9 (999) 999-99-99",placeholder:"\u041d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f:"}),Object(_.jsx)(x.a,{autoComplete:"off",onChange:function(e){ue((function(t){return e.target.value}))},onFocus:Te,style:g.k,type:"tel",name:"tel",className:"form-control",mask:"+9 (999) 999-99-99"})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u041f\u043e\u043b:"}),Object(_.jsxs)("select",{onChange:function(e){oe((function(t){return e.target.value}))},name:"gender",value:re,className:"form-control",required:!0,children:[Object(_.jsx)("option",{defaultValue:!0}),Object(_.jsx)("option",{value:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"}),Object(_.jsx)("option",{value:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",children:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]})]}),Object(_.jsxs)(g.b,{children:[Object(_.jsx)("p",{children:"\u0412\u043e\u0440\u043e\u043d\u043a\u0430:"}),Object(_.jsxs)("select",{className:"form-control",name:"salesFunnelId",value:_e,onChange:function(e){Ne((function(t){return e.target.value}))},children:[T,t.map((function(e){return t[0]._id===e._id?Object(_.jsx)("option",{value:e._id,defaultValue:!0,children:e.name},e._id):Object(_.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})]})})]})}))},367:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(18),c=n.n(a),r=n(34),o=n(27),i=n.n(o),s=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(t,"/CRM/TaskTags"),{headers:{authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){return n=e.data}));case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},368:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(9),c=n(18),r=n.n(c),o=n(34),i=n(4),s=n(0),l=n(385),u=n(625),d=n(384),j=n(22),b=n.n(j),p=n(132),h=n.n(p),f=n(68),m=n(27),x=n.n(m),O=function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,x.a.get("".concat(t,"/CRM/Search/CRMUsers?query=").concat(n),{headers:{authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){return a=e.data}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(14),v=n(20),y=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(t,"/CRM/Tasks"),n,{headers:{authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){return a=e.data}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(e){return e._source&&e._source.doc?e._source.doc:e._source?e._source:e},S=n(367),_=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(t,"/CRM/TaskTags"),n,{headers:{authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){return a=e.data}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=n(1),w=function(e){var t=e.setOpenedModal,n=e.setRelTasks,c=e.portable,j=e.fio,p=void 0===j?{name:"",surname:""}:j,m=e._id,x=void 0===m?"":m,w=e.filterTasks,C=void 0===w?function(){}:w,I=["magenta","red","volcano","orange","gold","lime","green","cyan","blue","geekblue","purple"],T=p.name,D=p.surname,E=Object(s.useState)([]),M=Object(i.a)(E,2),R=M[0],F=M[1],B=Object(s.useState)([]),z=Object(i.a)(B,2),P=z[0],A=z[1],L=Object(s.useState)([]),Y=Object(i.a)(L,2),G=Y[0],U=Y[1],H=Object(s.useState)([]),W=Object(i.a)(H,2),V=W[0],q=W[1],K=Object(s.useState)(h.a.decode(localStorage.getItem("tokenID"))),J=Object(i.a)(K,2),$=J[0],X=J[1],Q=Object(s.useState)(""),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(s.useState)(""),ae=Object(i.a)(ne,2),ce=ae[0],re=ae[1],oe=Object(s.useState)(!1),ie=Object(i.a)(oe,2),se=ie[0],le=ie[1],ue=Object(s.useState)(""),de=Object(i.a)(ue,2),je=de[0],be=de[1],pe=Object(s.useState)(""),he=Object(i.a)(pe,2),fe=he[0],me=he[1],xe=Object(s.useState)(b()().get()),Oe=Object(i.a)(xe,2),ge=Oe[0],ve=Oe[1],ye=Object(s.useState)(0),ke=Object(i.a)(ye,2),Se=ke[0],_e=ke[1];Object(s.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(g.a,ce);case 2:t=e.sent,F((function(e){return t.body.hits.hits}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[ce]),Object(s.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)(g.a);case 2:t=e.sent,A((function(e){return t})),U((function(e){return t}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Ne=function(e){V.findIndex((function(t){return t._id===e._id}))<0?(q((function(t){return[].concat(Object(a.a)(t),[e])})),A((function(t){return t.filter((function(t){return t._id!==e._id}))}))):(q((function(t){return t.filter((function(t){return t._id!==e._id}))})),A((function(t){return[].concat(Object(a.a)(t),[e])})))},we=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Math.floor(10*Math.random()),n={name:ee,color:I[t]},ee.replaceAll(" ","").length){e.next=4;break}return e.abrupt("return",Object(v.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u044d\u0433\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"));case 4:return e.next=6,_(g.a,n);case 6:c=e.sent,te((function(e){return""})),A((function(e){return[].concat(Object(a.a)(e),[c])})),U((function(e){return[].concat(Object(a.a)(e),[c])}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(o.a)(r.a.mark((function e(){var o,i,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c&&2!==Se?"".concat((r=Se,0===r?"\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f":1===r?"\u0421\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c\u0441\u044f":void 0)," \u0441 ").concat(T," ").concat(D):je,s={name:i,text:fe,deadline:ge.toISOString(),responsible:null!==(o=$._id)&&void 0!==o?o:$.id,tags:V.map((function(e){return e._id})),type:Se,for:c?x:void 0},0!==i.replaceAll(" ","").length){e.next=4;break}return e.abrupt("return",Object(v.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0443\u0441\u0442\u043e\u0435"));case 4:if(!ge||!ge.isBefore(b()().get())){e.next=6;break}return e.abrupt("return",Object(v.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u041e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0440\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u043d\u044c\u0448\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u0435\u0439 \u0434\u0430\u0442\u044b"));case 6:if(""!==$){e.next=8;break}return e.abrupt("return",Object(v.e)("\u041e\u0448\u0438\u0431\u043a\u0430!","\u041e\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043d\u043d\u044b\u0439 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"));case 8:return e.next=10,y(g.a,s);case 10:l=e.sent,n((function(e){return c?[].concat(Object(a.a)(e),[l]):C([].concat(Object(a.a)(e),[l]))})),be((function(e){return""})),me((function(e){return""})),_e((function(e){return 0})),re((function(e){return""})),ve((function(e){return b()().get()})),X((function(e){return h.a.decode(localStorage.getItem("tokenID"))})),A((function(e){return G})),q((function(e){return[]})),le((function(e){return!1})),c||t((function(e){return!1}));case 15:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(f.l,{opened:c?se:c,portable:c,type:Se,children:[c?Object(N.jsx)("div",{className:"buttonUp",children:Object(N.jsxs)("button",{onClick:function(){le((function(e){return!e}))},children:[Object(N.jsx)(l.a,{}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"]})}):"",Object(N.jsxs)(f.d,{portable:c,children:[Object(N.jsx)("div",{className:"type__select data",children:Object(N.jsxs)("select",{value:Se,onChange:function(e){_e((function(t){return Number(e.target.value)}))},children:[Object(N.jsx)("option",{value:"0",defaultChecked:!0,children:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f"}),Object(N.jsx)("option",{value:"1",children:"\u0421\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c\u0441\u044f"}),Object(N.jsx)("option",{value:"2",children:"\u0414\u0440\u0443\u0433\u043e\u0435"})]})}),2!==Se&&c?Object(N.jsx)("p",{}):Object(N.jsx)("div",{className:"input__title data",children:Object(N.jsx)("input",{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",name:"title",value:je,onChange:function(e){be((function(t){return e.target.value}))}})}),Object(N.jsx)("div",{className:"textarea__text data",children:Object(N.jsx)("textarea",{placeholder:"\u0417\u0430\u0434\u0430\u0447\u0430",name:"text",rows:5,value:fe,onChange:function(e){me((function(t){return e.target.value}))}})}),Object(N.jsx)("div",{className:"datepicker__deadline data",children:Object(N.jsx)(u.a,{showTime:!0,value:ge,placeholder:"\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0441\u0440\u043e\u043a",format:["DD/MM/YYYY | HH:mm"],onChange:function(e){ve((function(t){return e}))}})}),Object(N.jsxs)(f.j,{portable:c,children:[Object(N.jsxs)("div",{children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u0435\u0433\u0438:",Object(N.jsx)("div",{children:V.map((function(e){return Object(N.jsx)(d.a,{color:e.color,onClick:function(){return Ne(e)},children:e.name},e._id)}))})]}),Object(N.jsxs)("div",{children:["\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0442\u0435\u0433:",Object(N.jsxs)(f.c,{portable:c,children:[Object(N.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u044d\u0433\u0430",value:ee,onChange:function(e){te((function(t){return e.target.value}))}}),Object(N.jsx)(f.i,{portable:c,onClick:we,children:Object(N.jsx)("button",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})]}),Object(N.jsxs)("div",{children:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0435\u0433:",Object(N.jsx)("div",{children:P.map((function(e){return Object(N.jsx)(d.a,{color:e.color,onClick:function(){return Ne(e)},children:e.name},e._id)}))})]})]}),Object(N.jsxs)(f.h,{portable:c,children:[Object(N.jsx)("p",{children:"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439:"}),Object(N.jsx)("input",{type:"text",name:"search",value:ce,onChange:function(e){re((function(t){return e.target.value}))},placeholder:"\u041f\u043e\u0438\u0441\u043a"}),Object(N.jsx)("div",{children:R.length>0?R.map((function(e){return Object(N.jsxs)("p",{onClick:function(){return t=e,void X((function(e){return t}));var t},children:[k(e).surname," ",k(e).name," ",k(e).midname,Object(N.jsx)(f.a,{children:k(e).accountType})]},e._id)})):Object(N.jsx)("span",{className:"black",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}),Object(N.jsx)("p",{children:"\u0412\u044b\u0431\u0440\u0430\u043d:"}),Object(N.jsx)("div",{children:$?Object(N.jsxs)("p",{onClick:function(){X((function(e){return""}))},children:[k($).surname," ",k($).name," ",k($).midname,Object(N.jsx)(f.a,{children:k($).accountType})]}):Object(N.jsx)("span",{className:"black",children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"})})]}),Object(N.jsx)(f.i,{portable:c,children:Object(N.jsx)("button",{onClick:Ce,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})]})})}},403:function(e,t,n){},404:function(e,t,n){},405:function(e,t,n){},435:function(e,t,n){},511:function(e,t){},513:function(e,t){},526:function(e,t){},528:function(e,t){},556:function(e,t){},558:function(e,t){},559:function(e,t){},564:function(e,t){},566:function(e,t){},57:function(e,t,n){"use strict";var a=n(20);t.a=function(e){403==e&&a.c.fire({icon:"error",title:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})}},585:function(e,t){},597:function(e,t){},600:function(e,t){},617:function(e,t,n){},618:function(e,t,n){},622:function(e,t,n){"use strict";n.r(t);var a,c,r,o,i=n(0),s=n.n(i),l=n(45),u=n.n(l),d=n(69),j=n(282),b=n(9),p=n(2),h={all_disciplines:["\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","\u0414\u0438\u0437\u0430\u0439\u043d"],selected_subject:void 0,trial_lessons:[],possible_teachers:[],loading:!1,students_for_trial_lesson:[],subject_teachers:[],local_week:{},chosen_teacher:{tutor:{_id:"",surname:"",name:"",midname:""},time:"",index:""},trial_lesson_day:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"WHEN_CHOOSING_SUBJECT":return Object(p.a)(Object(p.a)({},e),{},{selected_subject:a});case"INSTALL_TRIAL_LESSONS":return Object(p.a)(Object(p.a)({},e),{},{trial_lessons:a});case"ADD_TRIAL_LESSONS":return Object(p.a)(Object(p.a)({},e),{},{trial_lessons:[].concat(Object(b.a)(e.trial_lessons),[a])});case"DELETE_TRIAL_LESSONS":return Object(p.a)(Object(p.a)({},e),{},{trial_lessons:e.trial_lessons.filter((function(e){return e._id!==a}))});case"CHANGE_TRIAL_LESSONS":return Object(p.a)(Object(p.a)({},e),{},{trial_lessons:e.trial_lessons.map((function(e){return e._id===a._id?a:e}))});case"IDENTIFY_POSSIBLE_TEACHERS":return Object(p.a)(Object(p.a)({},e),{},{possible_teachers:a});case"SPECIFY_LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:a});case"ADD_PUPIL_TO_TRIAL_LESSON":return Object(p.a)(Object(p.a)({},e),{},{students_for_trial_lesson:[].concat(Object(b.a)(e.students_for_trial_lesson),[a])});case"DELETE_PUPIL_TO_TRIAL_LESSON":return Object(p.a)(Object(p.a)({},e),{},{students_for_trial_lesson:e.students_for_trial_lesson.filter((function(e){return e.id!==a}))});case"SET_SUBJECT_TEACHERS":return Object(p.a)(Object(p.a)({},e),{},{subject_teachers:a});case"SET_LOCAL_WEEK":return Object(p.a)(Object(p.a)({},e),{},{local_week:a});case"FREE_DAY_FOR_TEACHER":var c=a.time,r=a.day,o=a.tutor,i=JSON.parse(JSON.stringify(e.local_week));return i[c][r].tutors.push(o),Object(p.a)(Object(p.a)({},e),{},{local_week:i});case"SET_CHOSEN_TEACHER":return Object(p.a)(Object(p.a)({},e),{},{chosen_teacher:a});case"SET_TRIAL_LESSON_DAY":return Object(p.a)(Object(p.a)({},e),{},{trial_lesson_day:a});default:return e}},m=Object(j.d)(f),x=(n(403),n(4)),O=(n(404),n(18)),g=n.n(O),v=n(34),y=n(24),k=(n(405),n(14)),S=n(20),_=n(57),N=n(10),w=n(1),C=n(27),I=N.a.div({height:"500px",button:{fontWeight:"bold",fontSize:"21px",width:"150px",borderRadius:"19px",transition:"0.3s",borderColor:"#007bff",color:"#000","&:hover":{transition:"0.3s",backgroundColor:"#f7d99f"}},label:{fontSize:"24px",fontWeight:"400"},input:{color:"#000",fontSize:"20px"},"input[type=text]":{background:"none"},"input[type=password]":{background:"none"},i:{cursor:"pointer"}}),T=function(e){var t=e.setUser,n=Object(i.useState)({icons:"bi-eye-fill",type:"password"}),o=Object(x.a)(n,2),s=o[0],l=o[1],u=Object(i.useState)(""),d=Object(x.a)(u,2),j=d[0],b=d[1],p=Object(i.useState)(""),h=Object(x.a)(p,2),f=h[0],m=h[1],O=Object(i.useState)("submit"),T=Object(x.a)(O,2),D=T[0],E=T[1],M=Object(i.useState)(""),R=Object(x.a)(M,2),F=R[0],B=R[1],z=Object(i.useState)(""),P=Object(x.a)(z,2),A=P[0],L=P[1],Y=f,G=j,U="1";"button"===D&&(U="0.3");var H=N.a.input(a||(a=Object(y.a)(["\n      border: ",";\n    "])),F),W=N.a.input(c||(c=Object(y.a)(["\n      border: ",";\n    "])),A),V=N.a.button(r||(r=Object(y.a)(["\n      opacity: ",";\n    "])),U),q=new RegExp(/^[\w\d\W]{1,40}$/),K=new RegExp(/^.{1,40}$/),J=function(){var e=Object(v.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(G),m(Y),n.preventDefault(),q.test(Y)?B(""):B("2px solid red"),K.test(G)?L(""):L("2px solid red"),q.test(Y)&&K.test(G)&&(E("button"),C({method:"post",url:"".concat(k.a,"/auth"),headers:{"Content-Type":"application/json;charset=utf-8"},data:{login:Y,password:G}}).then((function(e){localStorage.setItem("tokenID",e.data.token),b(""),m(""),E("submit"),S.c.fire({icon:"success",title:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"}),t(Y)})).catch((function(e){e.response&&(Object(_.a)(e.response.status),400===e.response.status?(Object(S.e)("\u041e\u0439..","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),B("2px solid red"),L("2px solid red"),E("submit")):E("submit"))})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(I,{className:"LogIn container d-flex align-items-center justify-content-center",children:Object(w.jsx)("form",{onSubmit:J,className:"col-md-8 col-12",children:Object(w.jsxs)("fieldset",{children:[Object(w.jsxs)("div",{className:"mb-3",children:[Object(w.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(w.jsx)(H,{required:!0,onChange:function(e){Y=e.target.value},defaultValue:f,autoComplete:"current-password",type:"name",className:"form-control",name:"login",id:"exampleInputEmail1"})]}),Object(w.jsxs)("div",{className:"mb-3",children:[Object(w.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(w.jsx)(W,{required:!0,onChange:function(e){G=e.target.value},defaultValue:j,autoComplete:"current-password",type:"".concat(s.type),className:"form-control",name:"password",id:"exampleInputPassword1"}),Object(w.jsx)("div",{className:"password-control",children:Object(w.jsx)("div",{className:"d-flex justify-content-end",children:Object(w.jsx)("i",{onClick:function(){b(G),m(Y),"bi-eye-fill"===s.icons?l({icons:"bi-eye-slash-fill",type:"text"}):l({icons:"bi-eye-fill",type:"password"})},className:"bi ".concat(s.icons),style:{fontSize:"28px",color:"#F5896C"}})})})]}),Object(w.jsx)(V,{type:D,className:"btn",children:"\u0412\u043e\u0439\u0442\u0438"})]})},"form1")})},D=n(36),E=n(56),M=n(644),R=n(112),F=n(232),B=n(662),z=n(663),P=n(664),A=n(665),L=n(666),Y=n(667),G=n(668),U=n(669),H=n(108),W=function(e,t){if(t.response){for(var n=!0,a=arguments.length,c=new Array(a>2?a-2:0),r=2;r<a;r++)c[r-2]=arguments[r];c.forEach((function(e){"boolean"!==typeof e?e():n=e})),Object(S.a)(t.response.status);var o=t.response,i=o.status,s=o.data;"Bad Request"===s.message&&n?Object(S.e)("\u041d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u043e\u0440\u043e\u043d\u043a\u0443 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0435\u0441\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a"):404==i&&n?Object(S.e)("\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):401==i?"TOKEN_EXPIRED"==s.message?(Object(H.a)(s.token),e()):(localStorage.removeItem("tokenID"),window.location.replace("/")):500==i&&n?Object(S.e)("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"):400==i&&n&&Object(S.e)("\u041d\u0435 \u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435")}},V=n(27),q=function e(t,n){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length,r=new Array(c>3?c-3:0),o=3;o<c;o++)r[o-3]=arguments[o];V({method:"get",url:"".concat(k.a,"/CRM/Search/autocompletion?query=").concat(n).concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){r.forEach((function(e){e()})),t(e.data.body.hits.hits)})).catch((function(t){W(e,t)}))},K=n(641),J=n(186),$=N.a.div({height:"30px",input:{height:"30px"},".ant-input-search-button":{paddingBottom:"none"}}),X=function(e,t){var n="/student/".concat(t.id);return n="pupil"==t.type?"/student/".concat(t.id):"/group/".concat(t.id),{value:e,label:Object(w.jsx)(D.b,{className:"link-info",to:n,style:{display:"flex",justifyContent:"space-between"},children:e})}},Q=function(e){var t=e.tutorid,n=void 0===t?"":t,a=Object(i.useState)([]),c=Object(x.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(""),l=Object(x.a)(s,2),u=l[0],d=l[1];Object(i.useEffect)((function(){document.getElementById("Search").focus()}));var j,b=function(e){return Object(w.jsx)("span",{children:e})},p=[{label:b("\u0423\u0447\u0435\u043d\u0438\u043a\u0438"),options:[]},{label:b("\u0413\u0440\u0443\u043f\u043f\u044b"),options:[]}];r.forEach((function(e){if("pupil"==e._source.type){var t=e._source,n=t.surname,a=t.name,c=t.midname;p[0].options.push(X("".concat(n," ").concat(a," ").concat(c),e._source))}else{var r=e._source.group_name;p[1].options.push(X(r,e._source))}}));var h=function(e){clearTimeout(j),e?j=setTimeout((function(){!function(e){var t=encodeURI(e);q(o,t,n,[function(){d(e)}])}(e)}),500):(d(""),o([]))};return Object(w.jsx)($,{children:Object(w.jsx)(K.a,{dropdownClassName:"certain-category-search-dropdown",dropdownMatchSelectWidth:500,options:p,defaultOpen:function(){return!!u},defaultValue:"".concat(u),onSearch:function(e){h(e)},id:"Search",children:Object(w.jsx)(J.a,{size:"large",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e CRM"})})})},Z=n(6),ee=n(384),te=n(645),ne=n(22),ae=n.n(ne),ce=function(e){var t=ae()(e).format("YYYY-MM-DD"),n=ae()().diff(t,"years");return n||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"},re=n(230),oe=(n(299),Math.round(document.documentElement.clientHeight/55)-2),ie=function(e){var t=e.offset,n=e.setOffset,a=e.getItem,c=e.count,r=N.a.div({margin:"3px 3px 20px 3px",".ant-pagination-item-link":{height:"34px"}});return console.log(t/oe+1),Object(w.jsx)(r,{children:Object(w.jsx)(re.a,{defaultPageSize:oe,defaultCurrent:t/oe+1,total:c,showSizeChanger:!1,onChange:function(e){n((e-1)*oe),a((e-1)*oe)}})})},se=n(300),le=n(133),ue=n(27),de=n.n(ue),je=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(le.b)(k.a,8);case 2:n=e.sent,t((function(e){return n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o={};for(var i in a)o.groups||(o.groups=[]),o.groups.push(i);for(var s in n)n[s][0]&&("surname"==s||"name"==s||"midname"==s||"dateOfBirth"==s?o["".concat(s,"s")]=n[s]:o["".concat(s)]=n[s]);if(o.ages){var l=Object(b.a)(o.ages);o.ages=[],l.forEach((function(e){o.ages.push(+e)}))}if(o.balance){var u=Object(b.a)(o.balance);1==u[0]&!u[1]?o.balance={$gte:0}:2==u[0]&!u[1]?o.balance={$lt:0}:u[1]&&(o.balance={$gte:0,$lte:0})}var d={filters:o};de()({method:"post",url:"".concat(k.a,"/CRM/Pupils/find?limit=").concat(oe,"&offset=").concat(t),headers:{"Content-Type":"application/jsoncharset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:d}).then((function(e){var t=e.data,n=e.headers;c(t),r(n.count)})).catch((function(t){W(e,t)}))},pe=function(){var e=Object(v.a)(g.a.mark((function e(t,n,a,c,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de()({method:"DELETE",url:"".concat(k.a,"/CRM/Pupils/").concat(t._id),headers:{"Content-Type":"application/jsoncharset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){n(a,{},{},c,r)})).catch((function(e){W(pe,e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),he=function e(t,n){de()({method:"get",url:"".concat(k.a,"/CRM/Pupils/").concat(t),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){n(e.data)})).catch((function(t){W(e,t)}))},fe=(n(435),[1020,700].map((function(e){return"@media (max-width: ".concat(e,"px)")}))),me=N.a.div((o={padding:"0 30px"},Object(Z.a)(o,fe[1],{padding:"0 0"}),Object(Z.a)(o,".log_h2",{}),Object(Z.a)(o,"td",{paddingTop:"1px",paddingBottom:"4px"}),Object(Z.a)(o,"th, td",{whiteSpace:"nowrap"}),o)),xe=function(){var e=Object(i.useState)(0),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(0),r=Object(x.a)(c,2),o=r[0],s=r[1],l=Object(i.useState)([{_id:""}]),u=Object(x.a)(l,2),d=u[0],j=u[1],b=Object(i.useState)([{_id:"45343235456645",surname:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442...",name:"",midname:"",dateOfBirth:"2004-12-07",gender:"",phoneNumber:"",parentPhoneNumber:"",discordNickname:"",groups:[],parentFullname:"",statuses:[]}]),h=Object(x.a)(b,2),f=h[0],m=h[1];Object(i.useEffect)((function(){be(0,{},{},m,s),je(j)}),[]),Object(i.useEffect)((function(){document.querySelectorAll("input").forEach((function(e){e.value=""})),document.querySelectorAll("select").forEach((function(e){e.value=""}))}));var O=[];f.forEach((function(e){var t=e._id,a=e.parentFullname,c=e.statuses,r=e.surname,o=e.name,i=e.midname,l=e.dateOfBirth,u=e.gender,d=e.phone,j=e.balance,b=e.parentPhone,p=e.discord,h=e.groups;O.push({key:t,trash:function(){pe(e,be,n,m,s)},surname:function(){return Object(w.jsx)(D.b,{className:"link-info",to:"/student/".concat(t),children:r})},name:o,midname:i,dateOfBirth:ce(l),gender:u,phoneNumber:d,tutor:"",parentPhoneNumber:b,parentFullname:a,balance:"".concat(j),groups:h||[],discordNickname:p,statuses:c})}));var g=function(e,t){return{title:e,dataIndex:t,key:t}},v=[{title:"",dataIndex:"trash",key:"trash",render:function(e){if(e)return Object(w.jsx)("i",{onClick:e,className:"bi bi-trash",style:{fontSize:"30px",color:"#F56767",cursor:"pointer"}})}},Object(p.a)(Object(p.a)({},g("\u0424\u0430\u043c\u0438\u043b\u0438\u044f","surname")),{},{render:function(e){if("function"==typeof e)return e()}}),Object(p.a)({},g("\u0418\u043c\u044f","name")),Object(p.a)({},g("\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e","midname")),Object(p.a)({},g("\u0412\u043e\u0437\u0440\u0430\u0441\u0442","dateOfBirth")),Object(p.a)({},g("\u041f\u043e\u043b","gender")),Object(p.a)(Object(p.a)({},g("\u0421\u0442\u0430\u0442\u0443\u0441\u044b","statuses")),{},{render:function(e){if(e)return e.map((function(e){var t=e.color,n=e._id,a=e.name;return Object(w.jsx)(ee.a,{color:t,children:a},n)}))}}),Object(p.a)({},g("\u0424\u0418\u041e \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044f","parentFullname")),Object(p.a)({},g("\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430","phoneNumber")),Object(p.a)({},g("\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f","parentPhoneNumber")),Object(p.a)({},g("\u0411\u0430\u043b\u0430\u043d\u0441","balance")),Object(p.a)(Object(p.a)({},g("\u0413\u0440\u0443\u043f\u043f\u044b","groups")),{},{render:function(e){if("function"==typeof e.map)return Object(w.jsx)(w.Fragment,{children:e.map((function(e){return Object(w.jsx)(ee.a,{color:"blue",children:e.group_name},"".concat(e._id))}))})}}),Object(p.a)({},g("\u0414\u0438\u0441\u043a\u043e\u0440\u0434 \u043d\u0438\u043a\u043d\u0435\u0439\u043c","discordNickname"))];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("nav",{id:"navbar-student",className:"navbar navbar-expand-lg navbar-light",children:Object(w.jsx)("div",{className:"container-fluid d-flex",children:Object(w.jsx)("div",{className:"collapse d-flex flex-row h3-person",children:Object(w.jsx)("div",{className:"d-flex plus-box",children:Object(w.jsx)("div",{children:Object(w.jsx)("h3",{children:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438"})})})})})}),Object(w.jsx)(me,{className:"",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"table_user",children:Object(w.jsx)(te.a,{pagination:!1,dataSource:O,columns:v,scroll:{x:0}})}),Object(w.jsx)(ie,{getItem:function(e){be(e,{},{},m,s)},count:o,offset:n,setOffset:a})]})}),Object(w.jsx)(se.a,{loader:{loaded:!0,setLoaded:function(){}},status:1,funnel:d[0]?d:[{_id:""}],pageSize:8,Url:k.a,pupils:{pupilsList:[],setPupilsList:function(){}},bigIcon:!0,update:function(){be(0,{},{},m,s)},defaultValueOptionFunnel:Object(w.jsx)("option",{value:"",defaultValue:!0})})]})},Oe=n(223),ge=n(657),ve=n(27),ye=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},c=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,i=c?"/CRM/Pupils/".concat(t,"/Payment?amount=").concat(+e,"&subscription=").concat(c,"&group_id=").concat(r):"/CRM/Pupils/".concat(t,"/Payment?amount=").concat(+e);ve({method:"post",url:"".concat(k.a).concat(i),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){a(),n()})).catch((function(e){W((function(){}),e,o,n,(function(){Object(S.e)("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441","\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430")}))}))},ke=function(e){var t,a=e.itemG,c=e.dataGroup,r=e.getGroup_Id,o=e.setData,s=e.surname,l=e.name,u=e.pageInfo,d=e.type,j=n(27),p=Object(i.useState)("-1"),h=Object(x.a)(p,2),f=h[0],m=h[1],O=Object(i.useState)(["fixedSchedule-H","","bi-plus-circle"]),g=Object(x.a)(O,2),v=g[0],y=g[1],C=a.localSchedule["".concat(c)]?a.localSchedule["".concat(c)]:[],I=Object(i.useState)(C),T=Object(x.a)(I,2),E=T[0],M=T[1],F=Object(i.useState)([]),B=Object(x.a)(F,2),z=B[0],P=B[1],A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};j({method:"put",url:"".concat(k.a,"/CRM/Groups/").concat(c,"/Pupils/").concat(a._id,"/Schedule"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:e}).then((function(e){t()})).catch((function(e){if(e.response){Object(_.a)(e.response.status);var t=e.response,n=t.status,a=t.data;t.statusText;404==n?Object(S.e)("Error 404","\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):401==n&&("TOKEN_EXPIRED"==a.message?(Object(H.a)(e.response.data.token),r()):(localStorage.removeItem("tokenID"),window.location.replace("/")))}}))},L=z.map((function(e,t){return Object(w.jsx)(R.a.Item,{className:"li",children:Object(w.jsx)("span",{onClick:function(){for(var t=Object(b.a)(E),n=0,o=0;n<e.hoursCount;)t[o].paid||(t[o].paid=!0,n++),o++;var i=function(){};A(t,(function(){ye("-".concat(e.price),a._id,i,r,e._id,c,(function(){A(t)}))})),M(t)},className:"dropdown-item bg-info text-light",href:"#",children:e.name})},t)})),Y=Object(w.jsx)(R.a,{children:L});Object(i.useEffect)((function(){j({method:"get",url:"".concat(k.a,"/CRM/Subscriptions"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){P(e.data)})).catch((function(e){if(e.response){Object(_.a)(e.response.status);var t=e.response,n=t.status,a=t.data;t.statusText,404==n?Object(S.e)("Error 404","\u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):401==n&&("TOKEN_EXPIRED"==a.message?(Object(H.a)(e.response.data.token),r()):(localStorage.removeItem("tokenID"),window.location.replace("/")))}}))}),[]);var G,U=[780,1380,2002],W=U.map((function(e){return"@media (max-width: ".concat(e,"px)")})),V=(U.map((function(e){return"@media (min-width: ".concat(e,"px)")})),N.a.div({borderBottom:"1px solid #91A8B0",paddingBottom:"5px",marginBottom:"5px",i:{color:"#17a2b8",fontSize:"26px",cursor:"pointer",paddingTop:"10px"},".global-fon3000":{position:"fixed",top:"0",left:"0",zIndex:"99",height:"100vh",background:"rgba(0, 0, 0, 0.6)",overflowY:"scroll",i:{position:"fixed",top:"3px",left:"7px",color:"#fff"},".bi-trash":{display:"none"}},h4:{display:"inline-block",marginRight:"10px",marginBottom:"19px"},".fixedSchedule-H":{maxHeight:"81px",overflow:"hidden"},".scheblueFixet":{margin:"0 auto",marginTop:"50px",width:"86%"},".fixedSchedule-H, .scheblueFixet":(t={overflow:"hidden",width:"2476px"},Object(Z.a)(t,W[2],{width:"1857px"}),Object(Z.a)(t,W[1],{width:"1238px"}),Object(Z.a)(t,W[0],{width:"619px"}),t),".boxDay":{overflowX:"auto",padding:"0 0 10px 0","&::-webkit-scrollbar":{height:"10px",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#17a2b8",borderRadius:"10px"}}})),q=N.a.div({margin:"0 3px 0 0",position:"initial",button:{fontSize:"15px",fontWeight:"600",padding:"1px 7px",width:"71px"},".btnAbic":{width:"100%"},ul:{border:"none",background:"rgba(0, 0, 0, 0.3)",padding:"6px"},".li":{border:"none",background:"rgba(0, 0, 0, 0)",span:{borderRadius:"6px",fontWeight:"500",cursor:"pointer"},".input-group-text":{margin:"0",borderRadius:"6px 0 0 6px"},textarea:{padding:"2px 7px",fontWeight:"500"}}}),K=1;G=E.map((function(e,t){var n=0;8==K?(n=27,K=1):K++;var c=ae()(e.date,"DD.MM.YYYY").format("DD.MM"),o="#f8f9fa",i="1",s=ae()(e.date,"DD.MM.YYYY").format("YYYY-MM-DD"),l=ae()().diff(s,"day");e.paid&3!=e.status&l<=0?o="#17a2b8":3==e.status&l<=0?o="#6c757d":3==e.status&e.paid?o="#dc3545":l>0&e.paid?o="#28a745":l>0&!e.paid&3!=e.status?(o="#28a745",i="0.5"):l>0&!e.paid&3==e.status&&(o="#dc3545",i="0.5");var u=function(e){var n=Object(b.a)(E);2==e&3==n[t].status||3==e&l<0?(n[t].status=e,A(n),M(n)):3!==e&2!==e?(n[t].title=e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};j({method:"post",url:"".concat(k.a,"/CRM/Pupils/").concat(a._id,"/Notes"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{text:e}}).then((function(){t()})).catch((function(e){e.response&&(Object(_.a)(e.response.status),r())}))}(e,(function(){A(n)})),M(n)):Object(S.e)("\u041d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441")},d=N.a.span({marginRight:"".concat(n,"px")}),p="",h="";e.title&&(h="#ffc107");var x=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){u("3")},className:"dropdown-item bg-secondary text-light",href:"#",children:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b"})},"".concat(c,"1")),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){u("2")},className:"dropdown-item bg-success text-light",href:"#",children:"\u0423\u0440\u043e\u043a \u043f\u0440\u043e\u0439\u0434\u0435\u043d"})},"".concat(c,"2")),Object(w.jsx)(R.a.Item,{children:Object(w.jsxs)("div",{className:"input-group",children:[Object(w.jsx)("span",{onClick:function(){u(p),m("")},className:"input-group-text bg-info text-light",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(w.jsx)("textarea",{placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443...",defaultValue:e.title,onChange:function(e){p=e.target.value},className:"form-control","aria-label":"With textarea"})]})},"".concat(c,"3"))]},c),O=!1;return f===t?O=!0:""===f&&(O=!1),Object(w.jsx)(d,{children:Object(w.jsx)(q,{className:"btn-group",children:Object(w.jsx)(Oe.a,{onVisibleChange:function(e){},overlay:x,visible:O,trigger:["click"],children:Object(w.jsx)("button",{type:"button",style:{color:"".concat(h),background:"".concat(o),opacity:"".concat(i)},className:"btn dropdown-toggle",onClick:function(){m(f===t?"":t)},children:c})})})},"".concat(c).concat(t))}));var J=a._id,$="student";u&&($=u,J=c);var X=Object(w.jsx)(D.b,{to:"/".concat($,"/").concat(J),children:Object(w.jsx)("h4",{children:"".concat(s," ").concat(l)})}),Q="";"teacher"!=n(132).decode(localStorage.getItem("tokenID")).accountType&&(Q=Object(w.jsx)("span",{children:Object(w.jsx)(q,{className:"btn-group",children:Object(w.jsx)(Oe.a,{overlay:Y,trigger:["click"],children:Object(w.jsx)("button",{type:"button",className:"btn btn-success dropdown-toggle btnAbic",children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})})})}));return Object(w.jsx)(V,{className:"table",children:Object(w.jsxs)("div",{className:"pupils-item row",children:[Object(w.jsxs)("div",{className:"col-12",children:[X,Q]}),Object(w.jsxs)("div",{className:"col-12".concat(v[1]),children:[Object(w.jsx)("div",{className:"boxDay",children:Object(w.jsx)("div",{className:"".concat(v[0]),children:G})}),Object(w.jsx)("i",{onClick:function(){"fixedSchedule-H"==v[0]?y(["scheblueFixet"," global-fon3000","bi-x-circle"]):y(["fixedSchedule-H","","bi-plus-circle"])},className:"bi ".concat(v[2])}),Object(w.jsx)(ge.a,{title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",content:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b",placement:"right",trigger:"hover",children:Object(w.jsx)("i",{onClick:function(){j({method:"delete",url:"".concat(k.a,"/CRM/Groups/").concat(c,"/Pupils/").concat(a._id),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var t=e.data,n=t.group,a=t.pupil;"group"==d?o(n):"pupil"==d&&o(a)})).catch((function(e){e.response&&Object(_.a)(e.response.status)}))},className:"bi bi-trash",style:{color:"rgb(245, 103, 10",marginLeft:"10px"}})})]})]})},a._id)};ke.defaultProps={surname:""};var Se,_e,Ne,we,Ce,Ie,Te,De,Ee,Me,Re,Fe,Be,ze,Pe=ke,Ae=n(625),Le=n(163),Ye=n.n(Le),Ge=n(627),Ue=n(660),He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pupils",a=[];e.forEach((function(e){e._index===n&&a.push(e._source)})),t(a)},We=function e(t,n,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};c(),de()({method:"post",url:"".concat(k.a,"/CRM/Groups/").concat(t,"/Pupils"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{ids:[n]}}).then((function(e){a(e.data)})).catch((function(t){W(e,t)}))},Ve=function(e){var t=e.data,n=e.updatePage,a=Object(E.f)().id,c=t.groups,r=Object(i.useState)(!1),o=Object(x.a)(r,2),s=o[0],l=o[1],u=Object(i.useState)(""),d=Object(x.a)(u,2),j=d[0],h=d[1],f=Object(i.useState)([]),m=Object(x.a)(f,2),O=m[0],g=m[1],v=O.map((function(e){var r=e.group_name,o=e.id;return Object(w.jsx)("li",{style:{fontSize:"18px"},onClick:function(){We(o,a,(function(e){Object(S.f)("\u0423\u0447\u0435\u043d\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0433\u0440\u0443\u043f\u043f\u0443"),l(!1),console.log(e),console.log(Object(p.a)(Object(p.a)({},t),{},{groups:[].concat(Object(b.a)(c),[e])})),console.log(t),n(Object(p.a)(Object(p.a)({},t),{},{groups:[].concat(Object(b.a)(c),[e])}))}),S.d)},className:"list-group-item",children:Object(w.jsx)("span",{className:"badge bg-warning text-dark",children:"".concat(r)})},o)})),y=c.map((function(e){return Object(w.jsx)("span",{className:"badge bg-light text-dark",children:e.group_name},e._id)}));return Object(w.jsxs)(w.Fragment,{children:[y,Object(w.jsx)(Ue.a,{onClick:function(){!function(e){e(!0)}(l)},style:{color:"rgb(23, 162, 184)",fontSize:"23px"}}),Object(w.jsx)(Ge.a,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",visible:s,onOk:function(){!function(e){e(!1)}(l)},onCancel:function(){!function(e){e(!1)}(l)},children:Object(w.jsx)("div",{children:Object(w.jsx)("div",{className:"row addPUPILS",children:Object(w.jsxs)("div",{className:"input-group",children:[Object(w.jsx)(J.a,{placeholder:"\u041d\u0430\u0439\u0442\u0438 \u0433\u0440\u0443\u043f\u043f\u044b...",onChange:function(e){h(e.target.value),q((function(e){He(e,g,"groups")}),encodeURI(e.target.value))},value:j}),Object(w.jsx)("ul",{className:"list-group list-group-flush",children:v})]})})})})]})},qe=N.a.ul({marginLeft:"10px",".ant-picker":{span:{margin:"0"}},".ant-picker-input":{input:{width:"127px"}}}),Ke=N.a.li(Se||(Se=Object(y.a)(["\n  padding: 0.5rem 1.25rem;\n"]))),Je=function(e){var t=e.dataStudent,a=e.updetePage,c={},r=n(27),o=Object(i.useState)(""),s=Object(x.a)(o,2),l=s[0],u=s[1],d=t.name,j=t.surname,b=t.midname,p=t.gender,h=t.parentFullname,f=t.dateOfBirth,m=t.phone,O=t.parentPhone,g=t.discord,v=t._id,y=function(){Object(S.d)("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"),r({method:"patch",url:"".concat(k.a,"/CRM/Pupils/").concat(v),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:c}).then((function(e){a(e.data),Object(S.b)(),S.c.fire({icon:"success",title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"})})).catch((function(e){e.response&&Object(_.a)(e.response.status)}))},N=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("input",{placeholder:"\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0444\u0430\u043c\u0438\u043b\u0438\u044e",onChange:function(e){c={surname:"".concat(e.target.value)}},type:"name",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){u(""),y()},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),C=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("input",{placeholder:"\u041d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f",onChange:function(e){c={name:"".concat(e.target.value)}},type:"name",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){u(""),y()},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),I=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("input",{placeholder:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u0435...",onChange:function(e){c={midname:"".concat(e.target.value)}},type:"name",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){y(),u("")},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),T=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(Ye.a,{mask:"+9 (999) 999-99-99",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",onChange:function(e){c={parentPhone:"".concat(e.target.value)}},type:"name",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){y(),u("")},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),D=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(Ye.a,{mask:"+9 (999) 999-99-99",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",onChange:function(e){c={phone:"".concat(e.target.value)}},type:"name",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){y(),u("")},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),E=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("input",{placeholder:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c NickName",onChange:function(e){c={discord:"".concat(e.target.value)}},type:"name",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("span",{onClick:function(){y(),u("")},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]});return Object(w.jsxs)(qe,{className:"list-group list-group-flush",children:[Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u0424\u0430\u043c\u0438\u043b\u0438\u044f:",Object(w.jsx)("span",{className:"badge bg-warning text-dark",children:j}),Object(w.jsx)("div",{className:"btn-group",children:Object(w.jsx)(Oe.a,{overlay:N,visible:function(){return"Surname"===l},trigger:["click"],children:Object(w.jsx)("i",{className:"bi bi-pencil",onClick:function(){u("Surname"===l?"":"Surname")},style:{fontSize:"20px",color:"#17a2b8",cursor:"pointer"}})})})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u0418\u043c\u044f: ",Object(w.jsx)("span",{className:"badge bg-warning text-dark",children:d}),Object(w.jsx)("div",{className:"btn-group",children:Object(w.jsx)(Oe.a,{overlay:C,visible:function(){return"Name"===l},trigger:["hover"],children:Object(w.jsx)("i",{onClick:function(){u("Name"===l?"":"Name")},className:"bi bi-pencil",style:{fontSize:"20px",color:"#17a2b8",cursor:"pointer"}})})})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e: ",Object(w.jsx)("span",{className:"badge bg-warning text-dark",children:b}),Object(w.jsx)("div",{className:"btn-group",children:Object(w.jsx)(Oe.a,{overlay:I,visible:function(){return"Midname"===l},trigger:["hover"],children:Object(w.jsx)("i",{className:"bi bi-pencil",onClick:function(){u("Midname"===l?"":"Midname")},style:{fontSize:"20px",color:"#17a2b8",cursor:"pointer"}})})})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u0412\u043e\u0437\u0440\u0430\u0441\u0442:",Object(w.jsx)("span",{className:"badge bg-success text-light",children:ce(f)}),Object(w.jsx)(Ae.a,{onChange:function(e){c={dateOfBirth:e._d.toISOString()},y()},placeholder:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u043e\u0437\u0440\u0430\u0441\u0442"})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u041f\u043e\u043b:",Object(w.jsx)("span",{className:"badge bg-success text-light",children:p})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u0424\u0418\u041e \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044f:",Object(w.jsx)("span",{className:"badge bg-success text-light",children:h})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u041d\u043e\u043c\u0435\u0440 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f: ",Object(w.jsx)("span",{className:"badge bg-info text-light",children:O}),Object(w.jsx)("div",{className:"btn-group",children:Object(w.jsx)(Oe.a,{overlay:T,visible:function(){return"ParentPhone"===l},children:Object(w.jsx)("i",{className:"bi bi-pencil",onClick:function(){u("ParentPhone"===l?"":"ParentPhone")},style:{fontSize:"20px",color:"#17a2b8",cursor:"pointer"}})})})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u041d\u043e\u043c\u0435\u0440 \u0443\u0447\u0435\u043d\u0438\u043a\u0430: ",Object(w.jsx)("span",{className:"badge bg-warning text-dark",children:m}),Object(w.jsx)("div",{className:"btn-group",children:Object(w.jsx)(Oe.a,{overlay:D,visible:function(){return"Phone"===l},children:Object(w.jsx)("i",{className:"bi bi-pencil",onClick:function(){u("Phone"===l?"":"Phone")},style:{fontSize:"20px",color:"#17a2b8",cursor:"pointer"}})})})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["Discord: ",Object(w.jsx)("span",{className:"badge bg-light text-dark",children:g}),Object(w.jsx)("div",{className:"btn-group",children:Object(w.jsx)(Oe.a,{className:"Discord",overlay:E,visible:function(){return"Discord"===l},children:Object(w.jsx)("i",{className:"bi bi-pencil",onClick:function(){u("Discord"===l?"":"Discord")},style:{fontSize:"20px",color:"#17a2b8",cursor:"pointer"}})})})]}),Object(w.jsxs)(Ke,{className:"list-group-item",children:["\u0413\u0440\u0443\u043f\u043f\u044b: ",Object(w.jsx)(Ve,{data:t,updatePage:a})]})]})},$e=N.a.span({borderRadius:"6px",fontWeight:"500",cursor:"pointer",fontSize:"14px"}),Xe=N.a.div(_e||(_e=Object(y.a)(["\n  padding: 0;\n  h6 {\n    font-size: 1.25rem;\n  }\n"]))),Qe=function(e){var t=e.balance_item,n=e.pageStudent_id,a=e.updeteStudent,c=Object(i.useState)(!1),r=Object(x.a)(c,2),o=r[0],s=r[1],l=Object(i.useState)(+t?+t:0),u=Object(x.a)(l,2),d=u[0],j=u[1],b=0,p=function(){j(d)},h=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("input",{placeholder:"\u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c",onChange:function(e){b=e.target.value},type:"number",className:"text-info form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)($e,{onClick:function(){s(!o),j(+d+ +b),ye(b,n,a,void 0,void 0,void 0,p)},className:"badge bg-warning text-dark",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]});return Object(w.jsxs)(Xe,{className:"balance",children:[Object(w.jsxs)("h6",{className:"calendar badge bg-success text-light",children:[d,Object(w.jsx)("span",{children:"\u20bd"})]}),Object(w.jsx)(Oe.a,{overlay:h,visible:o,trigger:["click"],children:Object(w.jsx)("i",{id:"dropdownMenuReference",className:"bi bi-plus",onClick:function(){s(!o)},style:{fontSize:"30px",color:"#17a2b8",cursor:"pointer"}})})]})},Ze=N.a.div({margin:"0",padding:"0",".colona":{padding:"0 3px",marginBottom:"15px",h3:{fontSize:"16px"},ul:{borderRadius:"5px",overflow:"auto",maxHeight:"268px","&::-webkit-scrollbar":{width:"10px",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#17a2b8",borderRadius:"10px"}},li:{span:{fontSize:"17px"}}},".colona-1":{ul:{border:"1px solid #28a745"},li:{span:{color:"#28a745"}}},".colona-2":{ul:{border:"1px solid #f27474"},li:{span:{color:"#28a745"}}}}),et=N.a.div(Ne||(Ne=Object(y.a)(["\n  padding: 0 13px;\n"]))),tt=function(e){var t=e.balance_item,n=e.pageStudent_id,a=e.updeteStudent,c=e.pay_History,r=c||[],o=[];r.forEach((function(e,t){0==e.type&&o.unshift(Object(w.jsxs)("li",{className:"list-group-item",children:[e.date," ",Object(w.jsxs)("span",{children:[e.amount,"\u20bd"]})," ",Object(w.jsx)("br",{}),e.issuer]},t))}));var i=[];return r.forEach((function(e,t){1==e.type&&i.unshift(Object(w.jsxs)("li",{className:"list-group-item",children:[e.date," ",Object(w.jsxs)("span",{children:[e.amount,"\u20bd"]})," ",Object(w.jsx)("br",{}),e.issuer]},t))})),Object(w.jsxs)(Ze,{className:"col-12",children:[Object(w.jsx)(Qe,{balance_item:t,pageStudent_id:n,updeteStudent:a}),Object(w.jsxs)(et,{className:"row",children:[Object(w.jsxs)("div",{className:"colona colona-1 col-6",children:[Object(w.jsx)("h3",{className:"badge bg-success text-light",children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"}),Object(w.jsx)("ul",{className:"list-group",children:o})]}),Object(w.jsxs)("div",{className:"colona colona-2 col-6",children:[Object(w.jsx)("h3",{className:"badge bg-danger text-light",children:"\u041e\u043f\u043b\u0430\u0442\u0430"}),Object(w.jsx)("ul",{className:"list-group",children:i})]})]})]})},nt=n(642),at=n(648),ct=n(58),rt=J.a.TextArea,ot=n(27),it=function(e){var t=e._id,a=e.commentsObj;Object(i.useEffect)((function(){document.querySelector(".ant-input").value=""}));var c=n(132).decode(localStorage.getItem("tokenID")),r=c.surname,o=c.name,s=c.midname,l="".concat(r," ").concat(o," ").concat(s),u=a.comments,d=a.setComments,j=Object(i.useState)(!1),p=Object(x.a)(j,2),h=p[0],f=p[1],m="";return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(nt.a,{content:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(at.a.Item,{children:Object(w.jsx)(rt,{id:"TextArea",onClick:function(){document.querySelector("#TextArea").value=""},rows:4,onChange:function(e){m=e.target.value},placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})}),Object(w.jsx)(at.a.Item,{children:Object(w.jsx)(ct.a,{htmlType:"submit",loading:h,onClick:function e(){m&&(f(!0),ot({method:"post",url:"".concat(k.a,"/CRM/Pupils/").concat(t,"/Notes"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{text:m}}).then((function(){f(!1),d([].concat(Object(b.a)(u),[{author:l,content:Object(w.jsx)("p",{children:m}),datetime:ae()().locale("ru").format("dddd, D MMMM YYYY \u0433., HH:MM")}]))})).catch((function(t){W(e,t)})))},type:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"})})]})})})},st=n(658),lt=function(e){var t=e.comments;return Object(w.jsx)(st.b,{dataSource:t,header:"\u0412\u0441\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439: ".concat(t.length),itemLayout:"horizontal",renderItem:function(e,t){var n=Object(p.a)({},e);return n.datetime=ae()(e.datetime).locale("ru").format("dddd, D MMMM YYYY \u0433., HH:MM"),"Invalid date"===n.datetime&&(n.datetime=e.datetime),n.key=t,Object(w.jsx)(nt.a,Object(p.a)({},n))}})},ut=N.a.div(we||(we=Object(y.a)(['\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  \n  .ant-list-items {\n    overflow: hidden auto;\n    max-height: 220px;\n  }\n  .specialList .ant-list-items {\n    max-height: 350px;\n    margin: 0 0 20px 0;\n  }\n  .tasks {\n    font-family: "MontLight";\n  }\n']))),dt=n(368),jt=n(183),bt=n(94),pt=n(68),ht=function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.a.delete("".concat(t,"/CRM/Tasks/").concat(n),{headers:{authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ft=n(280),mt=n(71),xt=function(e){var t=e.task,n=(e.index,e.setRelTasks),a=Object(i.useState)(t.done),c=Object(x.a)(a,2),r=c[0],o=c[1],s=function(e){return t.responsible&&0!==t.responsible.length?Array.isArray(t.responsible)?t.responsible[0][e]:!Array.isArray(t.responsible)&&t.responsible instanceof Object?t.responsible[e]:"...":"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"},l=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht(k.a,t);case 3:n((function(e){return e.filter((function(e){return e._id!==t}))})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(v.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.target.checked,e.next=3,Object(ft.a)(k.a,t,{done:a});case 3:o((function(e){return a}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsx)(st.b.Item,{children:Object(w.jsxs)(pt.k,{done:r,children:[Object(w.jsxs)("div",{children:[Object(w.jsxs)(pt.f,{children:[t.name,Object(w.jsx)(mt.j,{portable:!1,contains:t.tags.length,children:t.tags.map((function(e){return Object(w.jsx)(ee.a,{color:e.color,children:e.name},e._id)}))})]}),Object(w.jsxs)(pt.g,{children:["\u0421\u0440\u043e\u043a \u0434\u043e: ",ae()(t.deadline).format("DD/MM/YYYY | HH:mm")]}),Object(w.jsxs)(pt.g,{children:["\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u0435\u043d: ",s("surname")," ",s("name")," ",s("midname")]}),Object(w.jsx)(pt.e,{onClick:function(){return l(t._id)},children:Object(w.jsx)(bt.a,{})})]}),Object(w.jsx)("p",{className:"done",children:t.text}),Object(w.jsx)(pt.b,{children:Object(w.jsx)(jt.a,{checked:r,onChange:function(e){return u(t._id,e)}})})]})})},Ot=s.a.memo((function(e){var t=e.tasks,n=e._id,a=e.fio,c=Object(i.useState)(t),r=Object(x.a)(c,2),o=r[0],s=r[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(dt.a,{setRelTasks:s,_id:n,fio:a,portable:!0}),Object(w.jsx)(st.b,{className:"specialList",header:"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u0434\u0430\u0447: ".concat(Array.isArray(o)?o.length:0),itemLayout:"horizontal",dataSource:o,renderItem:function(e,t){return Object(w.jsx)(xt,{task:e,setRelTasks:s,index:t},e._id)}})]})})),gt=s.a.memo((function(e){var t=e.notes,n=e.update,a=e._id,c=e.fio,r=e.tasks,o=Object(i.useState)([]),s=Object(x.a)(o,2),l=s[0],u=s[1],d=t||[],j=[];Object(i.useEffect)((function(){var e=document.querySelector(".ant-list-items");e&&(e.scrollTop=e.scrollHeight)})),d.forEach((function(e,t){var n=e.author,a=e.date,c=e.text;l[0]?n+c!==l[0].author+l[0].content.props.children&&j.push({author:n,content:Object(w.jsx)("p",{children:c}),datetime:a}):j.push({author:n,content:Object(w.jsx)("p",{children:c}),datetime:a})}));var p=N.a.div({position:"relative",".ant-comment-content-detail":{borderBottom:"1px solid #f0f0f0"}});return Object(w.jsxs)(ut,{children:[Object(w.jsxs)("div",{style:{padding:0},children:[Object(w.jsx)(lt,{comments:[].concat(j,Object(b.a)(l))}),Object(w.jsx)(it,{commentsObj:{comments:l,setComments:u},notesGlobal:j,update:n,_id:a})]}),Object(w.jsx)(p,{children:Object(w.jsx)(Ot,{tasks:r,_id:a,fio:c})})]})})),vt=[767].map((function(e){return"@media (max-width: ".concat(e,"px)")})),yt=N.a.div({marginTop:"0px",margin:"0 auto",padding:"0",".pad":Object(Z.a)({padding:"0px",paddingRight:"10px"},vt[0],{paddingRight:"0px"}),".infoLog":(Ce={marginBottom:"10px",padding:"0"},Object(Z.a)(Ce,vt[0],{paddingBottom:"10px"}),Object(Z.a)(Ce,".calendar",{margin:"auto 0",marginRight:"10px",fontSize:"20px",span:{paddingLeft:"6px"}}),Ce),".group-name":Object(Z.a)({borderBottom:"1px solid #0dcaf0",padding:"0px"},vt[0],{borderRight:"none"}),".Button-Drawer":{position:"absolute",right:"0",top:"8px"},".ulBox":{borderRadius:"15px",padding:"0px"},".editing":{background:"#fff",borderRadius:"10px 10px 0 0",i:{marginLeft:"95%",cursor:"pointer"}},li:{backgroundColor:"none",span:{fontSize:"14px",margin:"0 5px 5px 0"}}}),kt=N.a.div({background:"#fff",margin:"10px 0",padding:"0 10px",borderRadius:"15px","& > h3":{fontSize:"22px"},".ant-tabs-nav":{margin:0}}),St=n(650),_t=n(659),Nt=n(387),wt=["magenta","red","volcano","orange","gold","lime","green","cyan","blue","geekblue","purple"],Ct=function e(t,n){n(!0),de()({method:"get",url:"".concat(k.a,"/CRM/Statuses"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){t(e.data),n(!1)})).catch((function(t){W(e,t,(function(){n(!1)}))}))},It=function e(t,n,a,c,r){if(c){var o=Math.floor(10*Math.random());n(!0),a(""),de()({method:"post",url:"".concat(k.a,"/CRM/Statuses"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{name:c,color:wt[o]}}).then((function(e){t([].concat(Object(b.a)(r),[e.data])),n(!1)})).catch((function(t){W(e,t,(function(){n(!1)}))}))}},Tt=function e(t,n,a,c){var r=a.filter((function(e){return e._id!==t}));c(!0),de()({method:"delete",url:"".concat(k.a,"/CRM/Statuses/").concat(t),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(){n(r),c(!1)})).catch((function(t){W(e,t,(function(){c(!1)}))}))},Dt=function e(t,n,a,c){console.log("logic-statuses"),n(!0),de()({method:"patch",url:"".concat(k.a,"/CRM/Pupils/").concat(c),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{statuses:t}}).then((function(e){n(!1),console.log(e.data),a(e.data)})).catch((function(t){W(e,t,(function(){n(!1)}))}))},Et=function(e){var t=e.studentStatuses,n=e.updateStudent,a=e.globalStatuses,c=Object(E.f)().id,r=t.map((function(e){return e._id})),o=Object(i.useState)(!1),s=Object(x.a)(o,2),l=s[0],u=s[1],d=Object(i.useState)(a),j=Object(x.a)(d,2),b=j[0],p=j[1],h=Object(i.useState)(""),f=Object(x.a)(h,2),m=f[0],O=f[1];return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{style:{padding:8,background:"#fff"},children:[Object(w.jsx)(J.a,{autoComplete:"off",value:m,id:"creating-statuses",placeholder:"\u0421\u0442\u0430\u0442\u0443\u0441...",onChange:function(e){O(e.target.value)},onPressEnter:function(){It(p,u,O,m,b)},style:{marginBottom:8,display:"block"}}),Object(w.jsx)(_t.b,{children:Object(w.jsx)(ct.a,{loading:l,type:"primary",onClick:function(){It(p,u,O,m,b)},size:"small",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"})}),Object(w.jsx)(R.a,{children:b.map((function(e){var n=!1;return t.forEach((function(t){t._id===e._id&&(n=!0)})),Object(w.jsx)(R.a.Item,{children:Object(w.jsxs)(jt.a,{defaultChecked:n,onChange:function(t){t.target.checked?r.push(e._id):r=r.filter((function(t){return t!==e._id}))},children:[e.name,Object(w.jsx)(Nt.a,{onClick:function(){Tt(e._id,p,b,u)},style:{position:"absolute",right:"10px",top:"14px",color:"red"}})]})},e._id)}))}),Object(w.jsx)(ct.a,{loading:l,type:"primary",size:"small",onClick:function(){Dt(r,u,n,c)},style:{marginTop:10},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})})},Mt=n(158),Rt=function(e){var t=e.studentStatusesGlobal,n=e.updateStudent,a=Object(i.useState)(!1),c=Object(x.a)(a,2),r=c[0],o=c[1];return Object(i.useEffect)((function(){Ct(o,(function(){}))}),[]),r?Object(w.jsx)(Oe.a,{overlay:Object(w.jsx)(Et,{updateStudent:n,studentStatuses:t,globalStatuses:r}),trigger:["click"],children:Object(w.jsxs)(D.b,{to:"#",style:{paddingLeft:"5px",lineHeight:"47px",overflow:"hidden",width:"198px",paddingRight:0},children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 ",Object(w.jsx)(Mt.a,{})]})}):Object(w.jsx)("div",{style:{padding:"12px 0"},children:Object(w.jsx)(St.a.Button,{active:!0,style:{height:25}})})},Ft=N.a.div(Ie||(Ie=Object(y.a)(["\n  height: 47px;\n  display: flex;\n  line-height: 47px;\n  overflow: auto;\n  width: 100%;\n\n  &::-webkit-scrollbar {\n    height: 2px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #5c636a;\n  }\n"]))),Bt=function(e){var t=e.items;return Object(w.jsx)(Ft,{children:t.map((function(e){return Object(w.jsx)("div",{children:Object(w.jsx)(ee.a,{color:e.color,children:e.name})},e._id)}))})},zt=n(118),Pt=N.a.div(Te||(Te=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: ",";\n  > select {\n    margin: 0 10px 0 0;\n    border: 1px solid lightgray;\n    appearance: revert;\n    padding: 3px 5px 3px 2px;\n    width: 120px;\n  }\n"])),(function(e){return e.first?"1px solid #0DCAF0":"none"})),At=n(647),Lt=At.a.TabPane,Yt=function(e){console.log(e)},Gt=function(e){var t=e.tabs_groups;return Object(w.jsxs)(At.a,{defaultActiveKey:"1",onChange:Yt,children:[Object(w.jsx)(Lt,{tab:"\u0413\u0440\u0443\u043f\u043f\u044b",children:t},"1"),Object(w.jsxs)(Lt,{tab:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441",children:["<","... ",Object(w.jsx)("br",{}),"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441...",Object(w.jsx)("br",{}),"../>"]},"2"),Object(w.jsxs)(Lt,{tab:"\u0410\u0440\u0445\u0438\u0432 \u043f\u043e\u0441\u0435\u0449\u0430\u0435\u043c\u043e\u0441\u0442\u0438",children:["<","... ",Object(w.jsx)("br",{}),"\u0410\u0440\u0445\u0438\u0432 \u043f\u043e\u0441\u0435\u0449\u0430\u0435\u043c\u043e\u0441\u0442\u0438 ",Object(w.jsx)("br",{}),"../>"]},"3")]})},Ut=(zt.a.Option,function(){var e=Object(E.f)().id,t=Object(i.useState)({_id:"60ba505dc12d3b9783c51d0f",name:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",surname:"",midname:"",gender:"",dateOfBirth:"2004-12-07",phone:"",parentPhone:"",discord:"",balance:0,localSchedule:{},groups:[],paymentHistory:[{type:1,date:"",amount:0,issuer:"",subscription:null},{type:0,date:"",amount:0,issuer:"",subscription:null}],notes:[],statuses:[]}),n=Object(x.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)([]),o=Object(x.a)(r,2),s=o[0],l=o[1],u=a.notes,d=a.groups,j=a.name,b=a.balance,p=a.localSchedule,h=a.paymentHistory,f=a.tasks,m=a.salesFunnelStep;Object(i.useEffect)((function(){(function(){var t=Object(v.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he(e,c);case 2:return t.next=4,Object(le.b)(k.a,1);case 4:n=t.sent,l((function(e){return n}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var O=[];for(var y in p)O.push(y);var S=[];d.forEach((function(e){S.push(e.group_name)}));var _=O.map((function(t,n){if(n<S.length)return Object(w.jsx)(Pe,{pageInfo:"group",itemG:a,dataGroup:t,getGroup_Id:function(){he(e,c)},setData:c,name:S[n],type:"pupil"},t)}));return Object(w.jsxs)(yt,{className:"container row col-12",children:[Object(w.jsxs)("div",{className:"col-12 col-md-3 pad",children:[Object(w.jsxs)("div",{className:"infoLog align-self-start col-md-12 col-12",children:[Object(w.jsxs)(Pt,{first:!0,children:[Object(w.jsx)("h3",{children:j}),Object(w.jsx)(Pt,{children:Object(w.jsx)("select",{onChange:function(t){Object(le.c)(k.a,e,{salesFunnelStep:t.target.value})},value:null===m||void 0===m?void 0:m._id,children:null===s||void 0===s?void 0:s.map((function(e){return Object(w.jsx)("option",{value:e._id,children:e.name},e._id)}))})})]}),Object(w.jsxs)("div",{style:{display:"flex",height:"47px"},children:[Object(w.jsx)(Bt,{items:a.statuses?a.statuses:[]}),Object(w.jsx)(Rt,{updateStudent:c,studentStatusesGlobal:a.statuses?a.statuses:[]})]})]}),Object(w.jsx)(tt,{balance_item:b,pageStudent_id:e,updeteStudent:function(){he(e,c)},pay_History:h})]}),Object(w.jsx)("div",{className:"col-md-6",style:{background:"#fff"},children:Object(w.jsx)(gt,{tasks:f,notes:u,fio:{name:a.name,surname:a.surname},update:function(){he(e,c)},_id:e})}),Object(w.jsx)("div",{className:"col-md-3 ulBox",children:Object(w.jsx)(Je,{dataStudent:a,updetePage:c})}),Object(w.jsx)(kt,{className:"container col-12",children:Object(w.jsx)(Gt,{tabs_groups:_})})]})}),Ht=function(e){var t=e.addStudent,n=e.addedStudents,a=Object(i.useState)([]),c=Object(x.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(""),l=Object(x.a)(s,2),u=l[0],d=l[1],j=r.map((function(e){var a=e.name,c=e.surname,r=e.midname,o=e.id;return Object(w.jsx)("li",{onClick:function(){!function(e,t,n,a){var c=!0;t.forEach((function(t){t.id===e.id&&(c=!1)})),c&&(n([].concat(Object(b.a)(t),[e])),a(""))}(e,n,t,d)},className:"list-group-item",children:Object(w.jsx)("span",{className:"badge bg-warning text-dark",children:"".concat(c," ").concat(a," ").concat(r)})},o)})),p=n.map((function(e){var a=e.name,c=e.surname,r=e.midname,o=e.id;return Object(w.jsxs)("button",{onClick:function(){!function(e,t,n,a){n(t.filter((function(t){return t.id!==e}))),a("")}(o,n,t,d)},type:"button",className:"btn btn-info",children:["".concat(c," ").concat(a," ").concat(r),Object(w.jsx)("i",{className:"bi bi-x",style:{fontSize:"15px"}})]},o)}));return Object(w.jsxs)("div",{className:"mb-3",children:[Object(w.jsx)("label",{htmlFor:"inputSirname",className:"fs-5 col-sm-4 col-form-label",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432"}),Object(w.jsxs)("div",{className:"row addPUPILS",children:[Object(w.jsxs)("div",{className:"col-sm-6 input-group",children:[Object(w.jsx)(J.a,{placeholder:"\u041d\u0430\u0439\u0442\u0438...",onChange:function(e){d(e.target.value),q((function(e){He(e,o)}),encodeURI(e.target.value),"")},value:u}),Object(w.jsx)("ul",{className:"col-12 list-group list-group-flush",children:j})]}),Object(w.jsx)("div",{className:"col-sm-6 boxPUPILS",children:p})]})]})},Wt=(n(617),[1020,700].map((function(e){return"@media (max-width: ".concat(e,"px)")}))),Vt=N.a.div((De={padding:"0 30px"},Object(Z.a)(De,Wt[1],{padding:"0 0"}),Object(Z.a)(De,".table_user",{overflowX:"auto","&::-webkit-scrollbar":{height:"10px",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"10px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#17a2b8",borderRadius:"10px"}}),Object(Z.a)(De,".log_h2",{}),Object(Z.a)(De,"td",{paddingTop:"1px",paddingBottom:"4px"}),Object(Z.a)(De,"th, td",{whiteSpace:"nowrap"}),De)),qt=N.a.form({".addPUPILS":{".input-group":{ul:{overflowY:"scroll",height:"100px"},li:{cursor:"pointer",padding:"5px",span:{fontSize:"11px"}}}}}),Kt=n(27),Jt=function(){var e=Object(i.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!1),r=Object(x.a)(c,2),o=r[0],s=r[1],l=function(){a(!1)},u=Object(i.useState)(0),d=Object(x.a)(u,2),j=d[0],b=d[1],p=Object(i.useState)(1),h=Object(x.a)(p,2),f=h[0],m=h[1],O=Object(i.useState)(["\u041f\u0443\u0441\u0442\u043e..."]),g=Object(x.a)(O,2),v=(g[0],g[1]),y=Object(i.useState)([]),N=Object(x.a)(y,2),C=(N[0],N[1]),I=Object(i.useState)([]),T=Object(x.a)(I,2),E=T[0],M=T[1],R=Object(i.useState)([]),F=Object(x.a)(R,2),B=F[0],z=F[1],P=function(){Kt({method:"post",url:"".concat(k.a,"/CRM/Pupils/find?limit=150&offset=0"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var t=[];e.data.forEach((function(e){t.push(["".concat(e.surname," ").concat(e.name),e._id])})),v(t),C(t)})).catch((function(e){W(Y,e)}))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Kt({method:"post",url:"".concat(k.a,"/CRM/Groups/find?limit=10&offset=").concat(e),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var t=e.data,n=e.headers;z(t),m(n.count)})).catch((function(e){W(Y,e)}))},L=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Kt({method:"get",url:"".concat(k.a,"/AdminPanel/CRMAccounts?limit=10&offset=").concat(t,"&accountType=teacher"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var t=e.data;M(t)})).catch((function(t){W(e,t)}))},Y=function(){L(),P(),A(j)};Object(i.useEffect)((function(){Y()}),[]);var G=E.map((function(e,t){var n=e.name,a=e.surname,c=e.midname,r=e._id;return Object(w.jsxs)("option",{value:r,children:[a," ",n," ",c]},n+t)})),U=Object(i.useState)([]),H=Object(x.a)(U,2),V=H[0],q=H[1],K=Object(i.useState)(""),J=Object(x.a)(K,2),$=J[0],X=J[1],Q=Object(i.useState)(""),Z=Object(x.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(i.useState)(""),ae=Object(x.a)(ne,2),ce=ae[0],re=ae[1],oe=Object(i.useState)(""),se=Object(x.a)(oe,2),le=se[0],ue=se[1],de={group_name:$,places:ee,tutor:ce,level:le},je=B.map((function(e){var t=e.group_name,n=e.tutor,a=e.level,c=e.places,r=e.pupils,o=e.global_schedule,i=e._id,s=r||[],l="\u0423\u0447\u0438\u0442\u0435\u043b\u044c \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d...",u="-";if(o&&o[0]){var d=o[0].duration;u="\u0441 ".concat(d[0]," \u0434\u043e ").concat(d[1])}if(n){var b=n.surname,p=n.name,h=n.midname;l="".concat(b," ").concat(p," ").concat(h)}return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"td-trash",scope:"row",children:Object(w.jsx)("i",{id:i,onClick:function t(){var n=document.getElementById(e._id);n.style.opacity="0.3",Kt({method:"DELETE",url:"".concat(k.a,"/CRM/Groups/").concat(e._id),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){A(j),n.style.opacity="1"})).catch((function(e){W(t,e)}))},className:"bi bi-trash",style:{fontSize:"30px",color:"#F56767"}})}),Object(w.jsx)("td",{className:"align-middle td-use",children:Object(w.jsx)(D.b,{className:"link-info",to:"/group/".concat(i),children:t})}),Object(w.jsx)("td",{className:"align-middle td-use",children:l}),Object(w.jsxs)("td",{className:"align-middle td-use",children:[a," \u043a\u043b\u0430\u0441\u0441"]}),Object(w.jsx)("td",{className:"align-middle td-use",children:c}),Object(w.jsx)("td",{className:"align-middle td-use",children:c-s.length}),Object(w.jsx)("td",{className:"align-middle td-use",children:u})]},"".concat(i))}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("nav",{id:"navbar-student",className:"navbar navbar-expand-lg navbar-light",children:Object(w.jsxs)("div",{className:"container-fluid d-flex",children:[Object(w.jsx)("div",{className:"collapse d-flex flex-row h3-person",children:Object(w.jsx)("div",{className:"d-flex plus-box",children:Object(w.jsx)("div",{children:Object(w.jsx)("h3",{children:"\u0413\u0440\u0443\u043f\u043f\u044b"})})})}),Object(w.jsx)("div",{className:"collapse d-flex flex-row-reverse",id:"navbarScroll",children:Object(w.jsx)("div",{className:"d-flex plus-box",children:Object(w.jsxs)("div",{className:"nav-item plus",onClick:function(){a(!0)},children:[Object(w.jsx)("i",{className:"bi bi-people",style:{fontSize:"38px",color:"#F56767"}}),Object(w.jsx)("i",{className:"bi bi-plus",style:{fontSize:"30px",color:"#F56767"}})]})})})]})}),Object(w.jsx)(Vt,{className:"",children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"table_user",children:Object(w.jsxs)("table",{className:"table table-striped",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"th-h",scope:"col"}),Object(w.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(w.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044c"}),Object(w.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"}),Object(w.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442"}),Object(w.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043c\u0435\u0441\u0442"}),Object(w.jsx)("th",{className:"th-h align-middle",scope:"col",children:"\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u043d\u044f\u0442\u0438\u0439"})]})}),Object(w.jsx)("tbody",{children:je})]})}),Object(w.jsx)(ie,{getItem:A,count:f,offset:j,setOffset:b})]})}),Object(w.jsx)(Ge.a,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",visible:n,onCancel:l,width:1e3,footer:[Object(w.jsx)(ct.a,{onClick:l,children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"onCancel1"),Object(w.jsx)(ct.a,{onClick:function(){var e=de.group_name,t=de.places,n=de.tutor,c=de.level,r=[];V.forEach((function(e){r.push(e.id)})),s(!0),Kt({method:"POST",url:"".concat(k.a,"/CRM/Groups"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{group_name:e,tutor:n||void 0,level:+c,places:+t,pupils:r}}).then((function(e){s(!1),Object(S.f)("\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430","\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),a(!1),A(),X(""),q([]),te(""),re(""),ue("")})).catch((function(e){if(s(!1),e.response){Object(_.a)(e.response.status);var n=e.response.status;400==n?+t<r.length?Object(S.e)("\u041e\u0439...","\u041c\u0435\u0441\u0442 \u0434\u043b\u044f \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442"):Object(S.e)("\u041e\u0439...","\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e"):401==n?Object(S.e)("\u041e\u0439...","\u0413\u0434\u0435 \u0442\u043e\u043a\u0435\u043d ?"):500==n&&Object(S.e)("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043f\u043e\u043b\u043e\u043c\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430","\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u0441\u0435\u0440\u0432\u0438\u0441\u0430")}}))},loading:o,type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"onOk1")],children:Object(w.jsx)(qt,{children:Object(w.jsxs)("div",{className:"modal-body",children:[Object(w.jsxs)("div",{className:"row mb-3",children:[Object(w.jsx)("label",{htmlFor:"inputName",className:"fs-5 col-sm-4 col-form-label",children:"\u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b"}),Object(w.jsx)("div",{className:"col-sm-8",children:Object(w.jsx)("input",{defaultValue:de.group_name,autoComplete:"off",onChange:function(e){de.group_name=e.target.value},required:!0,type:"name",name:"group_name",className:"form-control",id:"group_name"})})]}),Object(w.jsxs)("div",{className:"row mb-3",children:[Object(w.jsx)("label",{htmlFor:"inputMidname",className:"fs-5 col-sm-4 col-form-label",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442"}),Object(w.jsx)("div",{className:"col-sm-8",children:Object(w.jsx)("input",{defaultValue:de.places,autoComplete:"off",onChange:function(e){de.places=e.target.value},required:!0,type:"number",name:"places",className:"form-control",id:"places"})})]}),Object(w.jsxs)("div",{className:"row mb-3",children:[Object(w.jsx)("label",{htmlFor:"inputSirname",className:"fs-5 col-sm-4 col-form-label",children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438"}),Object(w.jsx)("div",{className:"col-sm-8 input-group",children:Object(w.jsxs)("select",{defaultValue:de.level,onChange:function(e){de.level=e.target.value},required:!0,className:"form-control",id:"inputGroupSelect01",children:[Object(w.jsx)("option",{defaultValue:!0}),Object(w.jsx)("option",{value:"1",children:"1 \u043a\u043b\u0430\u0441\u0441"}),Object(w.jsx)("option",{value:"2",children:"2 \u043a\u043b\u0430\u0441\u0441"}),Object(w.jsx)("option",{value:"3",children:"3 \u043a\u043b\u0430\u0441\u0441"}),Object(w.jsx)("option",{value:"4",children:"4 \u043a\u043b\u0430\u0441\u0441"})]})})]}),Object(w.jsxs)("div",{className:"row mb-3",children:[Object(w.jsx)("label",{className:"fs-5 col-sm-4 col-form-label",children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044c"}),Object(w.jsx)("div",{className:"col-sm-8 input-group",children:Object(w.jsxs)("select",{defaultValue:de.tutor,onChange:function(e){de.tutor=e.target.value},className:"form-control",children:[Object(w.jsx)("option",{defaultValue:!0}),G]})})]}),Object(w.jsx)(Ht,{addStudent:function(e){var t=de.group_name,n=de.places,a=de.tutor,c=de.level;X(t),te(n),re(a),ue(c),q(e)},addedStudents:V})]})})})]})},$t=N.a.div({padding:"0",marginBottom:"15px",".boxS":{overflow:"auto",maxHeight:"200px"},".dataNumber":{margin:"0 3px 0 0",fontSize:"15px",fontWeight:"600",width:"48px"}}),Xt=function(e){var t=e.global_schedule;if(!t[0])return Object(w.jsx)($t,{className:"col-12",children:Object(w.jsx)("h5",{children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043d\u0435\u0442..."})});var n=t.map((function(e){var t=ae()(e.date,"DD.MM.YYYY").format("DD.MM");return Object(w.jsx)("span",{className:"badge bg-light text-dark dataNumber",children:t},e.date)}));return Object(w.jsxs)($t,{className:"col-12",children:[Object(w.jsxs)("h5",{children:[t[0].duration[0]," \u0434\u043e ",t[0].duration[1]]}),Object(w.jsx)("div",{className:"boxS",children:n})]})},Qt=n(27),Zt=function(e){var t=e.updateGroup,n=e.groupID,a=Object(i.useState)(!1),c=Object(x.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(!1),l=Object(x.a)(s,2),u=l[0],d=l[1],j=function(){o(!1)},b={startDate:"",endDate:"",duration_Start:"",duration_End:"",weekDay:[]},p={one:[],two:[],three:[],four:[],five:[],six:[],zero:[]},h=[],f=function e(){var a=b.startDate,c=b.duration_Start,r=b.duration_End,i=b.endDate,s=ae()("2000-01-01, ".concat(r)).diff("2000-01-01, ".concat(c),"hours"),l=ae()(a).day(),u=ae()(i).format("DD.MM.YYYY"),j=ae()(a).format("DD.MM.YYYY"),f=ae()(j,"DD.MM.YYYY").day(),m=1,x=function(){b.weekDay.forEach((function(e){if(e==f)for(var t={date:j,duration:[c,r],status:"",tutor:"",paid:!1,title:""},n=0;n<s;n++)h.push(t)}))};x();do{j=ae()(b.startDate).day(l+m).format("DD.MM.YYYY"),f=ae()(j,"DD.MM.YYYY").day(),x(),m++}while(j!=u);Qt({method:"post",url:"".concat(k.a,"/CRM/Groups/").concat(n,"/Schedule"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:h}).then((function(e){for(var n in document.querySelectorAll("input").forEach((function(e){e.value=""})),d(!1),o(!1),Object(S.f)("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e",""),p)p[n]=[];t()})).catch((function(t){W(e,t)}))},m=N.a.div({".form-check":{marginRight:"12px",paddingLeft:"100px"}});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("i",{onClick:function(){o(!0)},className:"bi bi-calendar2-plus",style:{fontSize:"26px",color:"#17a2b8",cursor:"pointer"}}),Object(w.jsx)(Ge.a,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",visible:r,onCancel:j,width:1e3,footer:[Object(w.jsx)(ct.a,{onClick:j,children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"onCancel1"),Object(w.jsx)(ct.a,{onClick:function(){for(var e in d(!0),p)p[e][0]&&b.weekDay.push(p[e][1]);f()},loading:u,type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"onOk1")],children:Object(w.jsx)(m,{children:Object(w.jsxs)("form",{className:"row g-3",children:[Object(w.jsxs)("div",{className:"col-md-6",children:[Object(w.jsx)("label",{className:"form-label",children:"\u041f\u0435\u0440\u0438\u043e\u0434:"}),Object(w.jsxs)("div",{className:"row periud",children:[Object(w.jsx)("input",{onChange:function(e){b.startDate=e.target.value},type:"date",className:"form-control col-5"}),Object(w.jsx)("div",{className:"input-group-text",children:"\u0434\u043e"}),Object(w.jsx)("input",{onChange:function(e){b.endDate=e.target.value},type:"date",className:"form-control col-5"})]})]}),Object(w.jsxs)("div",{className:"col-md-6",children:[Object(w.jsx)("label",{className:"form-label",children:"\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u043d\u044f\u0442\u0438\u044f:"}),Object(w.jsxs)("div",{className:"row periud",children:[Object(w.jsx)("input",{onChange:function(e){b.duration_Start=e.target.value},type:"time",className:"form-control col-5"}),Object(w.jsx)("div",{className:"input-group-text",children:"\u0434\u043e"}),Object(w.jsx)("input",{onChange:function(e){b.duration_End=e.target.value},type:"time",className:"form-control col-5"})]})]}),Object(w.jsxs)("div",{className:"col-12",children:[Object(w.jsx)("label",{className:"form-label",children:"\u0414\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438:"}),Object(w.jsxs)("div",{className:"row col-12",children:[Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{onChange:function(e){p.one=[e.target.checked,e.target.value]},className:"form-check-input",value:"1",type:"checkbox"}),Object(w.jsx)("label",{className:"form-check-label",children:"\u041f\u043d"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{onChange:function(e){p.two=[e.target.checked,e.target.value]},className:"form-check-input",value:"2",type:"checkbox"}),Object(w.jsx)("label",{className:"form-check-label",children:"\u0412\u0442"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{onChange:function(e){p.three=[e.target.checked,e.target.value]},className:"form-check-input",value:"3",type:"checkbox"}),Object(w.jsx)("label",{className:"form-check-label",children:"\u0421\u0440"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{onChange:function(e){p.four=[e.target.checked,e.target.value]},className:"form-check-input",value:"4",type:"checkbox"}),Object(w.jsx)("label",{className:"form-check-label",children:"\u0427\u0442"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{onChange:function(e){p.five=[e.target.checked,e.target.value]},className:"form-check-input",value:"5",type:"checkbox"}),Object(w.jsx)("label",{className:"form-check-label",children:"\u041f\u0442"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{onChange:function(e){p.six=[e.target.checked,e.target.value]},className:"form-check-input",value:"6",type:"checkbox"}),Object(w.jsx)("label",{className:"form-check-label",children:"\u0421\u0431"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{onChange:function(e){p.zero=[e.target.checked,e.target.value]},className:"form-check-input",value:"0",type:"checkbox"}),Object(w.jsx)("label",{className:"form-check-label",children:"\u0412\u0441"})]})]})]})]})})})]})},en=n(27),tn=N.a.li({span:{cursor:"pointer"}}),nn=N.a.span({cursor:"pointer"}),an=function(e){var t=e.title,n=e.pageId,a=e.update,c=e.schedule,r=Object(i.useState)(!1),o=Object(x.a)(r,2),s=o[0],l=o[1],u=function(){l(!1)},d=Object(i.useState)([]),j=Object(x.a)(d,2),b=j[0],p=j[1],h=function e(t){var r=[];c.forEach((function(e){var t=ae()(e.date,"DD.MM.YYYY").format("YYYY-MM-DD");ae()().diff(t,"day")<=0&&r.push(e)})),en({method:"put",url:"".concat(k.a,"/CRM/Groups/").concat(n,"/Pupils/").concat(t,"/Schedule"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:r}).then((function(e){a(),Object(S.b)()})).catch((function(t){W(e,t)}))},f=function e(t,a){en({method:"post",url:"".concat(k.a,"/CRM/Groups/").concat(n,"/Pupils"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{ids:t}}).then((function(){h(a)})).catch((function(t){W(e,t)}))},m=b.map((function(e,t){return Object(w.jsx)(tn,{onClick:function(){Object(S.d)("\u0423\u0447\u0435\u043d\u0438\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"),f([e.id],e.id)},className:"list-group-item",children:Object(w.jsxs)("span",{className:"badge bg-warning text-dark",children:[e.surname," ",e.name," ",e.midname]})},e.id)}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(nn,{className:"btn ",onClick:function(){l(!0)},children:Object(w.jsx)("i",{className:"bi bi-person-plus-fill",style:{color:"#ffc107",fontSize:"24px"}})}),Object(w.jsx)(Ge.a,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c ".concat(t),visible:s,onCancel:u,width:600,footer:[Object(w.jsx)(ct.a,{onClick:u,children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"onCancel1")],children:Object(w.jsx)("div",{className:"row addPUPILS",children:Object(w.jsxs)("div",{className:"col-12 input-group",children:[Object(w.jsx)("input",{id:"fort",onChange:function(e){q((function(e){He(e,p)}),encodeURI(e.target.value))},autoComplete:"off",type:"search",className:"form-control",name:"q",placeholder:"\u041d\u0430\u0439\u0442\u0438 \u0443\u0447\u0435\u043d\u0438\u043a\u0430..."}),Object(w.jsx)("ul",{className:"col-12 list-group list-group-flush",children:m})]})})})]})},cn=function(e){var t=e.Data_ALL,a=e.updetePage,c={},r=n(27),o=Object(i.useState)(""),s=Object(x.a)(o,2),l=s[0],u=s[1],d=t.group_name,j=t.tutor,b=t.level,p=t.places,h=t.pupils,f=t._id,m=h||"",O="\u0423\u0447\u0438\u0442\u0435\u043b\u044c \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d...";if(j){var g=j.surname,v=j.name,y=j.midname;O="".concat(g," ").concat(v," ").concat(y)}var C=Object(i.useState)([{name:"\u0423\u0447\u0438\u0442\u0435\u043b\u0435\u0439 \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u043d\u043e...",surname:"",midname:"",_id:"546456"}]),I=Object(x.a)(C,2),T=I[0],D=I[1],E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;r({method:"get",url:"".concat(k.a,"/AdminPanel/CRMAccounts?limit=20&offset=").concat(t,"&accountType=teacher"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var t=e.data;console.log(t),D(t)})).catch((function(t){t.response&&(Object(_.a)(t.response.status),401==t.response.status&&("TOKEN_EXPIRED"==t.response.data.message?(Object(H.a)(t.response.data.token),e()):(localStorage.removeItem("tokenID"),window.location.replace("/"))))}))},M=function(){r({method:"get",url:"".concat(k.a,"/CRM/Groups/").concat(f),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){a(e.data),console.log(c),Object(S.b)(),S.c.fire({icon:"success",title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"})})).catch((function(e){e.response&&Object(_.a)(e.response.status)}))},F=T.map((function(e,t){var n=e.name,a=e.surname,c=e.midname;return Object(w.jsxs)("option",{value:e._id,children:[a," ",n," ",c]},e._id)}));Object(i.useEffect)((function(){E()}),[]);var B=function(){Object(S.d)("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"),r({method:"patch",url:"".concat(k.a,"/CRM/Groups/").concat(f),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:c}).then((function(){M()})).catch((function(e){e.response&&Object(_.a)(e.response.status)}))},z=N.a.span({fontSize:"13px"}),P=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("input",{placeholder:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(e){c={group_name:"".concat(e.target.value)}},type:"name",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(z,{onClick:function(){B(),u("")},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),A=Object(w.jsx)(R.a,{children:Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("div",{className:"input-group",children:Object(w.jsxs)("select",{onChange:function(e){var t;t=e.target.value,Object(S.d)("\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"),r({method:"post",url:"".concat(k.a,"/CRM/Groups/").concat(f,"/Teacher?tutorID=").concat(t),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(){M()})).catch((function(e){e.response&&Object(_.a)(e.response.status)}))},className:"form-control",children:[Object(w.jsx)("option",{}),F]})})})}),L=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("div",{className:"input-group",children:Object(w.jsxs)("select",{onChange:function(e){c={level:+e.target.value}},className:"form-control",children:[Object(w.jsx)("option",{}),Object(w.jsx)("option",{value:"1",children:"1 \u043a\u043b\u0430\u0441\u0441"}),Object(w.jsx)("option",{value:"2",children:"2 \u043a\u043b\u0430\u0441\u0441"}),Object(w.jsx)("option",{value:"3",children:"3 \u043a\u043b\u0430\u0441\u0441"}),Object(w.jsx)("option",{value:"4",children:"4 \u043a\u043b\u0430\u0441\u0441"})]})})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(z,{onClick:function(){B(),u("")},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),Y=Object(w.jsxs)(R.a,{children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)("input",{placeholder:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442",onChange:function(e){c={places:+e.target.value}},type:"number",className:"text-dark form-control col-12"})}),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(z,{onClick:function(){B(),u("")},className:"badge bg-warning text-dark save",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),G=function(e,t){return Object(w.jsx)(Oe.a,{overlay:e,visible:function(){return l===t},trigger:["click"],children:Object(w.jsx)("i",{className:"bi bi-pencil",onClick:function(){u(l===t?"":t)},style:{fontSize:"20px",color:"#17a2b8",cursor:"pointer"}})})};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("li",{className:"list-group-item",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",Object(w.jsx)("span",{className:"badge bg-info text-light",children:d}),Object(w.jsx)("div",{className:"btn-group",children:G(P,"group_name")})]}),Object(w.jsxs)("li",{className:"list-group-item",children:["\u0423\u0447\u0438\u0442\u0435\u043b\u044c: ",Object(w.jsx)("span",{className:"badge bg-warning text-dark",children:O}),Object(w.jsx)("div",{className:"btn-group",children:G(A,"tutor")})]}),Object(w.jsxs)("li",{className:"list-group-item",children:["\u041a\u043b\u0430\u0441\u0441: ",Object(w.jsx)("span",{className:"badge bg-success",children:b}),Object(w.jsx)("div",{className:"btn-group",children:G(L,"level")})]}),Object(w.jsxs)("li",{className:"list-group-item",children:["M\u0435\u0441\u0442 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435: ",Object(w.jsx)("span",{className:"badge bg-info text-dark",children:p}),Object(w.jsx)("div",{className:"btn-group",children:G(Y,"places")})]}),Object(w.jsxs)("li",{className:"list-group-item",children:["\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043c\u0435\u0441\u0442: ",Object(w.jsx)("span",{className:"badge bg-light text-dark",children:p-m.length})]})]})},rn=(n(618),[767].map((function(e){return"@media (max-width: ".concat(e,"px)")}))),on=N.a.div({marginTop:"0px",margin:"0 auto",".pad":Object(Z.a)({padding:"0px",paddingRight:"10px"},rn[0],{paddingRight:"0px"}),".infoLog":(Ee={marginBottom:"10px",padding:"0"},Object(Z.a)(Ee,rn[0],{paddingBottom:"10px"}),Object(Z.a)(Ee,".calendar",{margin:"9px 0",marginRight:"10px",fontSize:"15px"}),Ee),".group-name":Object(Z.a)({padding:"0",borderBottom:"1px solid #0dcaf0"},rn[0],{borderRight:"none"}),".time":{margin:"0",padding:"0",h5:{fontSize:"1.25rem"}},".ulBox":{borderRadius:"15px",padding:"0px"},".editing":{background:"#fff",borderRadius:"10px 10px 0 0",i:{marginLeft:"95%",cursor:"pointer"}},li:{backgroundColor:"none",span:{fontSize:"16px",margin:"0 5px 5px 0"}}}),sn=N.a.div({background:"#fff",margin:"10px 0",padding:"10px",borderRadius:"15px","& > h3":{fontSize:"22px"}}),ln=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];de()({method:"get",url:"".concat(k.a,"/CRM/Groups/").concat(t),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(t){e(t.data)})).catch((function(e){W(ln,e,n,a)}))},un=function(){var e=Object(E.f)().id,t=Object(i.useState)({pupils:[{_id:"564564",localSchedule:{}}],group_name:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",tutor:"",level:"",places:"",global_schedule:[{duration:["--:--","--:--"]}],_id:"6456"}),n=Object(x.a)(t,2),a=n[0],c=n[1],r=a.group_name,o=a.pupils,s=a.global_schedule;Object(i.useEffect)((function(){ln(c,e)}),[Object(E.f)().id]);var l="";o&&(l=o.map((function(e){return Object(w.jsx)("span",{className:"badge bg-info text-dark",children:"".concat(e.name," ").concat(e.surname)},e._id)})));var u="";o&&(u=o.map((function(t){return Object(w.jsx)(Pe,{itemG:t,dataGroup:e,getGroup_Id:function(){return ln(c,e)},setData:c,surname:t.surname,name:t.name,type:"group"},t._id)})));var d=Object(w.jsx)(an,{schedule:s,update:function(){return ln(c,e)},pageId:e,title:"\u0443\u0447\u0435\u043d\u0438\u043a\u0430"});return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(on,{className:"container row col-12",children:[Object(w.jsx)("div",{className:"col-12 col-md-6 pad",children:Object(w.jsxs)("div",{className:"infoLog align-self-start col-md-12 col-12",children:[Object(w.jsx)("div",{className:"group-name col-12 col-lg-12",children:Object(w.jsx)("h3",{children:r})}),Object(w.jsxs)("div",{className:"time col-md-12 row",children:[Object(w.jsx)("h6",{className:"calendar badge bg-info text-dark",children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "}),Object(w.jsx)(Zt,{updateGroup:function(){return ln(c,e)},groupID:e}),Object(w.jsx)(Xt,{global_schedule:s||[]})]})]})}),Object(w.jsx)("div",{className:"col-md-6 ulBox",children:Object(w.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(w.jsx)(cn,{Data_ALL:a,updetePage:c}),Object(w.jsxs)("li",{className:"list-group-item",children:["\u0423\u0447\u0435\u043d\u0438\u043a\u0438: ",l," ",d]})]})}),Object(w.jsxs)(sn,{className:"container col-12",children:[Object(w.jsx)("h3",{className:"badge bg-warning",children:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438:"}),u]})]})})},dn=n(646),jn=N.a.div({".ButtonUpload":{padding:0,background:"rgba(0, 0, 0, 0)",border:"none",color:"#a6adb4","&:hover":{color:"#fff"}},".ant-upload-list":{display:"none"}}),bn=function(){var e={name:"file",action:"".concat(k.a,"/CRM/Pupils/uploadFile"),accept:".csv,.xlsx",headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},onChange:function(e){"done"===e.file.status?S.c.fire({icon:"success",title:"\u0424\u0430\u0438\u043b ".concat(e.file.name,", \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d")}):"error"===e.file.status&&(403===e.file.response.statusCode?Object(_.a)(403):S.c.fire({icon:"error",title:"\u0412 ".concat(e.file.name,", \u043e\u0448\u0438\u0431\u043a\u0438 \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430\u0445: ").concat(e.file.response.message.join(", "))}))}};return Object(w.jsx)(jn,{children:Object(w.jsx)(dn.a,Object(p.a)(Object(p.a)({},e),{},{children:Object(w.jsx)(ct.a,{className:"ButtonUpload",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b c \u0443\u0447\u0435\u043d\u0438\u043a\u0430\u043c\u0438"})}))})},pn=n(237),hn=function(e){var t=e.dataSource,n=void 0===t?[]:t,a=e.columns,c=void 0===a?[]:a,r=e.setParamFilrers,o=e.paramFilrers,i=e.update,s=void 0===i?function(){}:i,l=N.a.div({".log_h2":{},td:{paddingTop:"1px",paddingBottom:"4px"},"th, td":{padding:"16px 11px",whiteSpace:"nowrap"}});return Object(w.jsx)(l,{children:Object(w.jsx)(te.a,{pagination:!1,dataSource:n,columns:c,scroll:{x:0},onChange:function(e,t,n,a){console.log(t);var c=Object(p.a)({},o);for(var i in t)t[i]?(console.log(t[i]),c[i]=t[i]):"GROUP_NAME"!=i&&(c[i]=[]);s(0,c),r(c)}})})},fn=n(661),mn=function(e,t,n,a){return{title:function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(fn.a,{onClick:function(){e[1]?t(["",""]):t([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:n}),a])}}),e[0]]})},dataIndex:"".concat(e[1]),key:"".concat(e[1])}},xn=function(){var e=Object(i.useState)(0),t=Object(x.a)(e,2),a=t[0],c=t[1],r=Object(i.useState)(1),o=Object(x.a)(r,2),s=o[0],l=o[1],u=Object(i.useState)([]),d=Object(x.a)(u,2),j=d[0],h=d[1],f=Object(i.useState)(!1),m=Object(x.a)(f,2),O=m[0],g=m[1],v=Object(i.useState)({group_name:!1}),y=Object(x.a)(v,2),S=y[0],_=y[1],C=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0413\u0440\u0443\u043f\u043f\u0430"}),"group_name"]),I=Object(x.a)(C,2),T=I[0],E=I[1],M=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0433\u0440\u0443\u043f\u043f\u044b"}),"level"]),B=Object(x.a)(M,2),z=B[0],P=B[1],A=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442"}),"places"]),L=Object(x.a)(A,2),Y=L[0],G=L[1],U=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043c\u0435\u0441\u0442"}),"occupied"]),H=Object(x.a)(U,2),V=H[0],q=H[1],K=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0427\u0438\u0441\u043b\u043e \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432"}),"NUMBER_PUPILS"]),$=Object(x.a)(K,2),X=$[0],Q=$[1],Z=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044c"}),"tutor"]),ee=Object(x.a)(Z,2),te=ee[0],ne=ee[1],ae=n(27),ce=Object(i.useState)([]),re=Object(x.a)(ce,2),se=re[0],le=re[1],ue=function e(){ae({method:"get",url:"".concat(k.a,"/AdminPanel/CRMAccounts?limit=100&offset=0&accountType=teacher"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var t=e.data;le(t)})).catch((function(t){W(e,t)}))},de=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(!0);var a={};for(var c in n)"occupied"!=c&void 0!=n[c][0]?(console.log(n[c],1),a["".concat(c,"s")]=n[c]):n[c].length&&(console.log(n[c],2),a[c]=n[c][0]);ae({method:"post",url:"".concat(k.a,"/CRM/Groups/find?limit=").concat(oe,"&offset=").concat(t),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{filters:a}}).then((function(e){var t=e.data,n=e.headers;h(t),_({group_name:!1}),g(!1),l(n.count)})).catch((function(t){W(e,t,(function(){g(!1)}))}))};Object(i.useEffect)((function(){ue(),de()}),[]);var je=Object(i.useState)({group_name:[],level:[],tutor:[],occupied:[]}),be=Object(x.a)(je,2),pe=be[0],he=be[1],fe={group_name:{}},me=function(e){pe[e].forEach((function(t){fe[e][t]=!0}))};for(var xe in fe)me(xe);var Oe,ge=Object(i.useState)({group_name:[]}),ve=Object(x.a)(ge,2),ye=ve[0],ke=ve[1],Se=function(e,t,n){if(e[0]){var a=Object(p.a)({},ye);a[n].push({text:e[0],value:e[0]}),ke(a),e[0]=""}},_e=j.map((function(e){var t=e.group_name,n=e.level,a=e.places,c=e.pupils,r=e.tutor,o=e._id;return{key:o,group_name:[t,o],level:n,places:a,NUMBER_PUPILS:c?c.length:"",tutor:r?"".concat(r.surname," ").concat(r.name," ").concat(r.midname):"-",occupied:c?a-c.length:""}})),Ne=N.a.div({marginTop:"10px",svg:{marginBottom:"3px"}}),we=se.map((function(e){return{text:"".concat(e.surname," ").concat(e.name),value:e._id}})),Ce=[Object(p.a)(Object(p.a)({},mn(T,E,"\u0413\u0440\u0443\u043f\u043f\u0430","group_name")),{},{render:function(e){if(e)return Object(w.jsx)(D.b,{to:"/group/".concat(e[1]),children:e[0]})}},(Oe="group_name",{filterDropdown:function(e){var t=e.setSelectedKeys,n=e.selectedKeys;return e.confirm,e.clearFilters,Object(w.jsxs)("div",{style:{padding:8},children:[Object(w.jsx)(J.a,{placeholder:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 ".concat(Oe),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return Se(n,0,Oe)},style:{marginBottom:8,display:"block"}}),Object(w.jsxs)(_t.b,{children:[Object(w.jsx)(ct.a,{type:"primary",onClick:function(){Se(n,0,Oe)},size:"small",style:{width:140},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0444\u0438\u043b\u044c\u0442\u0440"}),Object(w.jsx)(ct.a,{type:"link",size:"small",onClick:function(){var e=Object(p.a)({},ye);e[Oe]=[],ke(e);var t=Object(p.a)({},pe);t[Oe]=[],he(t),de(0,t)},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})]}),Object(w.jsx)(R.a,{children:ye[Oe].map((function(e,t){var n=!1;return pe[Oe].forEach((function(t){t==e.text&&(n=!0)})),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(jt.a,{defaultChecked:n,onChange:function(t){t.target.checked?fe[Oe][e.text]=!0:fe[Oe][e.text]=!1},children:e.text})},"".concat(e.text).concat(t))}))}),Object(w.jsx)(Ne,{children:Object(w.jsx)(ct.a,{loading:O,type:"primary",size:"small",icon:Object(w.jsx)(F.a,{}),onClick:function(){var e=[];for(var t in fe[Oe])fe[Oe][t]&&e.push(t);var n=Object(p.a)({},pe);n[Oe]=e,he(n),ke(ye),de(0,n)},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]})},filterIcon:function(){var e=void 0;return pe[Oe][0]&&(e="#1890ff"),S[Oe]?Object(w.jsx)(pn.a,{}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(F.a,{style:{color:e}})})},onFilterDropdownVisibleChange:function(e){var t=Object(p.a)({},S);t[Oe]=e,_(t),e||(he(pe),ke(ye))},filterDropdownVisible:S[Oe]})),Object(p.a)(Object(p.a)({},mn(z,P,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0433\u0440\u0443\u043f\u043f\u044b","level")),{},{filters:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4}],defaultFilteredValue:pe.level.map((function(e){return e+""}))}),Object(p.a)({},mn(Y,G,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442","places")),Object(p.a)(Object(p.a)({},mn(V,q,"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043c\u0435\u0441\u0442","occupied")),{},{filters:[{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e",value:!0},{text:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u043e",value:!1}],defaultFilteredValue:pe.occupied.map((function(e){return"".concat(e)}))}),Object(p.a)({},mn(X,Q,"\u0427\u0438\u0441\u043b\u043e \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432","NUMBER_PUPILS")),Object(p.a)(Object(p.a)({},mn(te,ne,"\u0423\u0447\u0438\u0442\u0435\u043b\u044c","tutor")),{},{filters:we,defaultFilteredValue:Object(b.a)(pe.tutor)})],Ie=N.a.div({padding:"0 30px"});return Object(w.jsxs)(Ie,{children:[Object(w.jsx)(hn,{dataSource:_e,columns:Ce,setParamFilrers:he,paramFilrers:pe,update:de}),Object(w.jsx)(ie,{getItem:de,count:s,offset:a,setOffset:c})]})},On=(n(619),N.a.div({"th, td":{padding:"16px 11px"}})),gn=function(e){var t=e.paramFilrers,n=e.setParamFilrers,a=e.dataGroupsChecked,c=e.dataSource,r=e.update,o=e.columns,s=e.scrollLeft;Object(i.useEffect)((function(){document.querySelector(".ant-table-content").scrollLeft=s}));var l=c.map((function(e){var t=e._id,n=e.surname,a=e.name,c=e.midname,r=e.dateOfBirth,o=e.gender,i=e.phone,s=e.balance,l=e.parentPhone,u=e.parentFullname,d=e.discord,j=e.groups,b=e.tutor,p=e.statuses,h=e.createdAt;return{key:t,surname:function(){return Object(w.jsx)(D.b,{className:"link-info",to:"/student/".concat(t),children:n})},name:a,midname:c,dateOfBirth:ce(r),gender:o,phoneNumber:i,tutor:b,parentFullname:u,parentPhoneNumber:l,balance:"".concat(s),discordNickname:d,groups:j,statuses:p,createdAt:ae()(h).format("DD - MMMM - YYYY, HH:MM")}}));return Object(w.jsx)(On,{children:Object(w.jsx)(te.a,{pagination:!1,dataSource:l,columns:o,scroll:{x:0},onChange:function(e,c){var o=Object(p.a)({},t);c.gender?o.gender=c.gender:o.gender=[],c.balance?o.balance=c.balance:o.balance=[],n(o),r(o,a)}})})},vn=n(386),yn=[1020,700].map((function(e){return"@media (max-width: ".concat(e,"px)")})),kn=N.a.div((Me={padding:"0 30px"},Object(Z.a)(Me,yn[1],{padding:"0 0"}),Object(Z.a)(Me,".log_h2",{}),Object(Z.a)(Me,"td",{paddingTop:"1px",paddingBottom:"4px"}),Object(Z.a)(Me,"th, td",{whiteSpace:"nowrap"}),Me)),Sn=N.a.div({marginTop:"10px",svg:{marginBottom:"3px"}}),_n=function(e,t,n,a,c){return{filterDropdown:function(){return Object(w.jsxs)("div",{style:{padding:8},children:[Object(w.jsx)(R.a,{children:e.map((function(e){var n=!1,c=e._id,r=e.name;return a.statuses.forEach((function(e){c===e&&(n=!0)})),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(jt.a,{defaultChecked:n,onChange:function(e){var n=Object(b.a)(a.statuses);e.target.checked?n.push(c):n=n.filter((function(e){return e!==c})),t(Object(p.a)(Object(p.a)({},a),{},{statuses:n}))},children:r})},c)}))}),Object(w.jsx)(Sn,{children:Object(w.jsx)(ct.a,{loading:n,type:"primary",size:"small",icon:Object(w.jsx)(F.a,{}),onClick:function(){c(a,{})},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]})},filterIcon:function(){return Object.keys(a.statuses).length?Object(w.jsx)(vn.a,{style:{color:"#1890ff"}}):Object(w.jsx)(vn.a,{})}}},Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},c=Object(i.useState)([]),r=Object(x.a)(c,2),o=r[0];r[1];return{filterDropdown:function(){return Object(w.jsxs)("div",{style:{padding:8},children:[Object(w.jsx)(R.a,{children:o.map((function(t){var a=!1,c=t._id,r=t.name;return n.statuses.forEach((function(e){c===e&&(a=!0)})),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(jt.a,{defaultChecked:a,onChange:function(t){var a=Object(b.a)(n.statuses);t.target.checked?a.push(c):a=a.filter((function(e){return e!==c})),e(Object(p.a)(Object(p.a)({},n),{},{statuses:a}))},children:r})},c)}))}),Object(w.jsx)(Sn,{children:Object(w.jsx)(ct.a,{loading:t,type:"primary",size:"small",icon:Object(w.jsx)(F.a,{}),onClick:function(){a(n,{})},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]})},filterIcon:function(){return Object.keys(n.statuses).length?Object(w.jsx)(vn.a,{style:{color:"#1890ff"}}):Object(w.jsx)(vn.a,{})}}},wn=n(27),Cn=function(){var e=Object(i.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([{name:"1",color:"red",_id:"345"},{name:"2",color:"red",_id:"335"}]),r=Object(x.a)(c,2),o=r[0],s=r[1],l=Object(i.useState)(0),u=Object(x.a)(l,2),d=u[0],j=u[1],h=Object(i.useState)(0),f=Object(x.a)(h,2),m=f[0],O=f[1],g=Object(i.useState)([]),v=Object(x.a)(g,2),y=v[0],S=v[1],_=Object(i.useState)(0),N=Object(x.a)(_,2),C=N[0],I=N[1],T=Object(i.useState)({surname:[],name:[],midname:[],age:[],gender:[],groups:[],balance:[],statuses:[]}),D=Object(x.a)(T,2),E=D[0],M=D[1],B=Object(i.useState)(!1),z=Object(x.a)(B,2),P=z[0],A=z[1],L=!1,Y=Object(i.useState)({surname:[],name:[],midname:[],age:[],balance:[],statuses:[]}),G=Object(x.a)(Y,2),U=G[0],H=G[1],V=Object(i.useState)(!1),q=Object(x.a)(V,2),K=q[0],$=q[1],X=Object(i.useState)({surname:!1,name:!1,midname:!1,age:!1,groups:!1,statuses:!1}),Q=Object(x.a)(X,2),Z=Q[0],te=Q[1],ne=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),"surname"]),ae=Object(x.a)(ne,2),ce=ae[0],re=ae[1],se=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0418\u043c\u044f"}),"name"]),le=Object(x.a)(se,2),ue=le[0],de=le[1],je=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),"midname"]),be=Object(x.a)(je,2),pe=be[0],he=be[1],fe=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),"dateOfBirth"]),me=Object(x.a)(fe,2),xe=me[0],Oe=me[1],ge=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0424\u0418\u041e \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044f"}),"parentFullname"]),ve=Object(x.a)(ge,2),ye=ve[0],ke=ve[1],Se=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u041f\u043e\u043b"}),"gender"]),_e=Object(x.a)(Se,2),Ne=_e[0],we=_e[1],Ce=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),"phoneNumber"]),Ie=Object(x.a)(Ce,2),Te=Ie[0],De=Ie[1],Ee=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f"}),"createdAt"]),Me=Object(x.a)(Ee,2),Re=Me[0],Fe=Me[1],Be=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f"}),"parentPhoneNumber"]),ze=Object(x.a)(Be,2),Pe=ze[0],Ae=ze[1],Le=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),"balance"]),Ye=Object(x.a)(Le,2),Ge=Ye[0],Ue=Ye[1],He=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0414\u0438\u0441\u043a\u043e\u0440\u0434 \u043d\u0438\u043a\u043d\u0435\u0439\u043c"}),"discordNickname"]),We=Object(x.a)(He,2),Ve=We[0],qe=We[1],Ke=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),"groups"]),Je=Object(x.a)(Ke,2),$e=Je[0],Xe=Je[1],Qe=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"}),"statuses"]),Ze=Object(x.a)(Qe,2),et=Ze[0],tt=Ze[1],nt=Object(i.useState)([Object(w.jsx)("span",{style:{paddingLeft:"7px"},children:"\u0423\u0447\u0438\u0442\u0435\u043b\u044f"}),"tutors"]),at=Object(x.a)(nt,2),rt=at[0],ot=at[1],it={surname:{},name:{},midname:{},age:{}},st=function(e){E[e].forEach((function(t){it[e][t]=!0}))};for(var lt in it)st(lt);var ut=Object(i.useState)({}),dt=Object(x.a)(ut,2),bt=dt[0],pt=dt[1],ht=Object(i.useState)({}),ft=Object(x.a)(ht,2),mt=ft[0],xt=ft[1],Ot=Object(p.a)(Object(p.a)({},bt),mt),gt=[];for(var vt in Ot)gt.push({id:vt,text:Ot[vt][0],checked:Ot[vt][1]});var yt,kt=Object(i.useState)(U),St=Object(x.a)(kt,2),Nt=St[0],wt=St[1],It=function(e,t,n){if(e[0]){var a=Object(p.a)({},Nt);a[n].push({text:e[0],value:e[0]}),wt(a),e[0]=""}},Tt=function(e){return"age"==e?"block":" none"},Dt=function(e){return{filterDropdown:function(t){var n,a=t.setSelectedKeys,c=t.selectedKeys;t.confirm,t.clearFilters;return Object(w.jsxs)("div",{style:{padding:8},children:[Object(w.jsx)(J.a,{type:(n=e,"age"==n?"number":"text"),placeholder:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 ".concat(e),value:c[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return It(c,0,e)},style:{marginBottom:8,display:"block"}}),Object(w.jsx)(_t.b,{children:Object(w.jsx)(ct.a,{type:"primary",onClick:function(){It(c,0,e)},size:"small",style:{width:140},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0444\u0438\u043b\u044c\u0442\u0440"})}),Object(w.jsxs)(R.a,{children:[Nt[e].map((function(t,n){var a=!1;return E[e].forEach((function(e){e==t.text&&(a=!0)})),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(jt.a,{defaultChecked:a,onChange:function(n){n.target.checked?it[e][t.text]=!0:it[e][t.text]=!1},children:t.text})},"".concat(t.text).concat(n))})),Object(w.jsx)(R.a.Item,{style:{display:Tt(e)},children:Object(w.jsx)(jt.a,{defaultChecked:P,onChange:function(e){L=e.target.checked},children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})},"emptyAge")]}),Object(w.jsx)(Sn,{children:Object(w.jsx)(ct.a,{loading:K,type:"primary",size:"small",icon:Object(w.jsx)(F.a,{}),onClick:function(){var t=[];for(var n in it[e])it[e][n]&&t.push(n);var a=Object(p.a)({},E);a[e]=t,M(a),H(Nt),At(a,bt)},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]})},filterIcon:function(){var t=void 0;return E[e][0]&&(t="#1890ff"),Z[e]?Object(w.jsx)(pn.a,{}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(F.a,{style:{color:t}})})},onFilterDropdownVisibleChange:function(t){var n=Object(p.a)({},Z);n[e]=t,te(n),t||(M(E),H(Nt))},filterDropdownVisible:Z[e]}},Et=function e(t){var n=encodeURI(t);wn({method:"get",url:"".concat(k.a,"/CRM/Search/autocompletion?query=").concat(n),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var n={};e.data.body.hits.hits.map((function(e){var t=e._source,a=t.id,c=t.group_name;"group"==t.type&&(n[a]=["".concat(c),!1])})),a(t),xt(n)})).catch((function(t){W(e,t)}))},Mt=function(e){clearTimeout(yt),e?yt=setTimeout((function(){Et(e)}),500):(a(""),xt({}))},Rt=Object(i.useState)({filters:{}}),Ft=Object(x.a)(Rt,2),Bt=Ft[0],zt=Ft[1],Pt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;$(!0),wn({method:"post",url:"".concat(k.a,"/CRM/Pupils/find?limit=").concat(oe,"&offset=").concat(t),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:n||Bt}).then((function(e){var t=e.data,n=e.headers;S(t),O(n.count),te({surname:!1,name:!1,midname:!1}),$(!1)})).catch((function(t){W(e,t,(function(){$(!1)}))}))},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};for(var a in t)n.groups||(n.groups=[]),n.groups.push(a);for(var c in e)e[c][0]&&("surname"==c||"name"==c||"midname"==c||"age"==c?n["".concat(c,"s")]=e[c]:n["".concat(c)]=e[c]);if(n.ages){var r=Object(b.a)(n.ages);n.ages=[],r.forEach((function(e){n.ages.push(+e)}))}if(n.balance){var o=Object(b.a)(n.balance);1==o[0]&!o[1]?n.balance={$gte:0}:2==o[0]&!o[1]?n.balance={$lt:0}:o[1]&&(n.balance={$gte:0,$lte:0})}n.emptyAge=L;var i={filters:n};A(L),zt(i),Pt(0,i)};Object(i.useEffect)((function(){Pt(),Ct(s,$)}),[]),Object(i.useEffect)((function(){var e=document.getElementById("inputGroup");e&&e.focus()}));var Lt=[Object(p.a)(Object(p.a)({},mn(ce,re,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f","surname")),{},{render:function(e){if("function"==typeof e)return e()}},Dt("surname")),Object(p.a)(Object(p.a)({},mn(ue,de,"\u0418\u043c\u044f","name")),Dt("name")),Object(p.a)(Object(p.a)({},mn(pe,he,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e","midname")),Dt("midname")),Object(p.a)(Object(p.a)({},mn(xe,Oe,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442","age")),Dt("age")),Object(p.a)(Object(p.a)({},mn(Ne,we,"\u041f\u043e\u043b","gender")),{},{filters:[{text:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",value:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"},{text:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",value:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"}],defaultFilteredValue:Object(b.a)(E.gender)}),Object(p.a)(Object(p.a)({},mn(et,tt,"\u0421\u0442\u0430\u0442\u0443\u0441\u044b","statuses")),{},{render:function(e){if(e&&e[0])return e.map((function(e){var t=e.color,n=e._id,a=e.name;return Object(w.jsx)(ee.a,{color:t,children:a},n)}))}},_n(o,M,K,E,At)),Object(p.a)(Object(p.a)({},mn(rt,ot,"\u0423\u0447\u0438\u0442\u0435\u043b\u044f","tutors")),Object(w.jsx)(Nn,{})),Object(p.a)({},mn(Te,De,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430","phoneNumber")),Object(p.a)({},mn(Re,Fe,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f","createdAt")),Object(p.a)({},mn(Pe,Ae,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f","parentPhoneNumber")),Object(p.a)({},mn(ye,ke,"\u0424\u0418\u041e \u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044f","parentFullname")),Object(p.a)(Object(p.a)({},mn(Ge,Ue,"\u0411\u0430\u043b\u0430\u043d\u0441","balance")),{},{filters:[{text:"\u041f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439",value:"1"},{text:"\u041e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439",value:"2"}],defaultFilteredValue:Object(b.a)(E.balance)}),Object(p.a)(Object(p.a)({},mn($e,Xe,"\u0413\u0440\u0443\u043f\u043f\u044b","groups")),{},{render:function(e){if(e)return e.map((function(e){return Object(w.jsx)(ee.a,{color:"blue",children:e.group_name},"".concat(e._id))}))}},{filterDropdown:function(e){return e.setSelectedKeys,e.selectedKeys,e.confirm,e.clearFilters,Object(w.jsxs)("div",{style:{padding:8},children:[Object(w.jsx)(J.a,{id:"inputGroup",placeholder:"\u041d\u0430\u0439\u0442\u0438 \u0433\u0440\u0443\u043f\u043f\u044b",defaultValue:n,onChange:function(e){Mt(e.target.value)},onPressEnter:function(){},style:{marginBottom:8,display:"block"}}),Object(w.jsx)(R.a,{children:gt.map((function(e){var t=e.id,n=e.text,a=e.checked;return Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(jt.a,{defaultChecked:a,onChange:function(e){var a=Object(p.a)({},bt);e.target.checked?a[t]=[n,!0]:delete a[t],pt(a),xt({})},children:n})},t)}))}),Object(w.jsx)(Sn,{children:Object(w.jsx)(ct.a,{loading:K,type:"primary",size:"small",icon:Object(w.jsx)(F.a,{}),onClick:function(){At(E,bt)},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})})]})},onFilterDropdownVisibleChange:function(e){I(e?document.querySelector(".ant-table-content").scrollLeft:0);var t=Object(p.a)({},Z);t.groups=e,te(t),e||At(E,bt)},filterDropdownVisible:Z.groups,filterIcon:function(){return Object.keys(bt).length?Object(w.jsx)(vn.a,{style:{color:"#1890ff"}}):Object(w.jsx)(vn.a,{})}}),Object(p.a)({},mn(Ve,qe,"\u0414\u0438\u0441\u043a\u043e\u0440\u0434 \u043d\u0438\u043a\u043d\u0435\u0439\u043c","discordNickname"))];return Object(w.jsxs)(kn,{children:[Object(w.jsx)(gn,{paramFilrers:E,setParamFilrers:M,globalFiltersG:Nt,setGlobalFiltersG:wt,dataGroupsChecked:bt,setDataGroupsChecked:pt,dataSource:y,update:At,loadingButtomFilrer:K,setLoadingButtomFilrer:$,filterDropdownVisible:Z,setFilterDropdownVisible:te,columns:Lt,scrollLeft:C}),Object(w.jsx)(ie,{getItem:Pt,count:m,offset:d,setOffset:j})]})},In=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){return Object(w.jsx)(s.a.Suspense,{fallback:e,children:Object(w.jsx)(t,Object(p.a)({},n))})}},Tn=N.a.div(Re||(Re=Object(y.a)(["\n  .trial-lesson-schedule-skeleton {\n    display: block;\n\n    div {\n      display: block;\n      width: 100%;\n\n      span {\n        width: 100%;\n        margin-bottom: 8px;\n        height: 56px;\n      }\n    }\n  }\n\n  .trial-lesson-schedule {\n    .ant-checkbox-inner {\n      height: 20px;\n      width: 20px;\n    }\n  }\n"]))),Dn=n(654),En=function e(t,n){t(!0),de()({method:"post",url:"".concat(k.a,"/CRM/Groups/find?limit=100&offset=",0,"&trial=true"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){n(e.data),t(!1)})).catch((function(a){W((function(){return e(n)}),a,(function(){return t(!1)}))}))},Mn=function e(t,n,a,c){a(!0),de()({method:"DELETE",url:"".concat(k.a,"/CRM/Groups/").concat(t),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(){n(t),c()})).catch((function(c){W((function(){return e(t,n,a)}),c,(function(){return a(!1)}))}))},Rn=function e(t,n,a,c,r){var o=[Object(p.a)(Object(p.a)({},a[0]),{},{status:t?2:3})];r(Object(p.a)(Object(p.a)({},c),{},{global_schedule:o})),de()({method:"post",url:"".concat(k.a,"/CRM/Groups/").concat(n,"/Schedule"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:o}).catch((function(o){W((function(){return e(t,n,a)}),o,(function(){r(c)}))}))},Fn={free_day_for_teacher:function(e,t,n){return{type:"FREE_DAY_FOR_TEACHER",payload:{time:e,day:t,tutor:n}}}},Bn=Object(d.b)((function(){return{}}),Fn)((function(e){var t=e.setFnc,n=e.free_day_for_teacher,a=Object(i.useState)(!1),c=Object(x.a)(a,2),r=c[0],o=c[1];return Object(w.jsx)(ct.a,{loading:r,onClick:function(){return t(o,n)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})),zn={change_trial_lessons:function(e){return{type:"CHANGE_TRIAL_LESSONS",payload:e}},install_trial_lessons:function(e){return{type:"INSTALL_TRIAL_LESSONS",payload:e}},delete_trial_lessons:function(e){return{type:"DELETE_TRIAL_LESSONS",payload:e}}},Pn=Object(d.b)((function(e){return{trial_lessons:e.trial_lessons,selected_subject:e.selected_subject}}),zn)((function(e){var t=e.trial_lessons,n=e.change_trial_lessons,a=e.install_trial_lessons,c=e.delete_trial_lessons,r=e.selected_subject,o=Object(i.useState)(!1),s=Object(x.a)(o,2),l=s[0],u=s[1];Object(i.useEffect)((function(){En(u,a)}),[]);var d=t.map((function(e){var t=e.global_schedule[0].duration[0].substr(0,2),n=ae()(e.global_schedule[0].date,"DD.MM.YYYY").locale("en").format("dddd").substr(0,2);return Object(p.a)(Object(p.a)({},e),{},{passed:{group_id:e._id,group:e,global_schedule:e.global_schedule},key:e._id,delete_group:{tutor:e.tutor,hour:"hour".concat("0"===t[0]?t[1]:t),day:n}})})),j=[{title:"\u0423\u0440\u043e\u043a \u043f\u0440\u043e\u0439\u0434\u0435\u043d",dataIndex:"passed",key:"passed",render:function(e){var t=2===e.global_schedule[0].status;return Object(w.jsx)(jt.a,{loading:!0,checked:t,onChange:function(t){Rn(t.target.checked,e.group_id,e.global_schedule,e.group,n)}})}},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"group_name",key:"group_name"},{title:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438",dataIndex:"pupils",key:"pupils",render:function(e){return Object(w.jsx)(st.b,{size:"small",children:e.map((function(e){var t=e.surname,n=e.name,a=e.midname,c=e._id;return Object(w.jsx)(st.b.Item,{children:Object(w.jsx)(D.b,{to:"/student/".concat(c),children:"".concat(t," ").concat(n," ").concat(a)})},c)}))})}},{title:"\u0423\u0447\u0438\u0442\u0435\u043b\u044c",dataIndex:"tutor",key:"tutor",render:function(e){var t=e.surname,n=e.name,a=e.midname;return"".concat(t," ").concat(n," ").concat(a)}},{title:"\u0414\u0430\u0442\u0430 \u0443\u0440\u043e\u043a\u0430",dataIndex:"global_schedule",key:"global_schedule",render:function(e){var t=e[0],n=t.date,a=t.duration;return"".concat(n,"\u0433., \u0441 ").concat(a[0]," \u0434\u043e ").concat(a[1])}},{title:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",dataIndex:"comment",key:"comment"},{title:"",dataIndex:"delete_group",key:"delete_group",render:function(e){return Object(w.jsx)(Bn,{setFnc:function(t,n){Mn(e.tutor._id,c,t,(function(){r===e.tutor.subject&&n(e.hour,e.day,e.tutor)}))}})}}],b=Object(w.jsxs)(_t.b,{className:"trial-lesson-schedule-skeleton",children:[Object(w.jsx)(St.a.Button,{active:!0,size:"large",block:!0},"0"),Object(w.jsx)(St.a.Button,{active:!0,size:"large",block:!0},"1"),Object(w.jsx)(St.a.Button,{active:!0,size:"large",block:!0},"2"),Object(w.jsx)(St.a.Button,{active:!0,size:"large",block:!0},"3")]}),h=Object(w.jsx)(te.a,{className:"trial-lesson-schedule",dataSource:d,columns:j});return Object(w.jsx)(w.Fragment,{children:l?b:h})})),An=N.a.div(Fe||(Fe=Object(y.a)(["\n  margin-bottom: 16px;\n\n  .select {\n    margin-bottom: 16px;\n  }\n\n  .week-and-pupils {\n    display: flex;\n  }\n\n  .selection-students {\n    margin-left: 8px;\n    flex: 1;\n  }\n\n  table {\n    margin-right: 8px;\n  }\n\n  .none-table {\n    opacity: 0.2;\n  }\n\n  .chosen_teacher {\n    margin-top: 16px;\n    td {\n      background: #002140;\n      color: #fff;\n    }\n  }\n"]))),Ln=N.a.table(Be||(Be=Object(y.a)(["\n  user-select: none;\n  width: 70%;\n\n  tr {\n    border-bottom: 1px solid #002140;\n  }\n\n  .week {\n    td {\n      text-align: left;\n      background: #001529;\n      color: #fff;\n      border-right: 1px solid #002140;\n    }\n\n    .white {\n      background: #f0f2f5;\n    }\n  }\n\n  .time {\n    background: #001529;\n    color: #fff;\n  }\n\n  td {\n    padding: 10px;\n    width: 12.5%;\n    height: 50px;\n    text-align: right;\n  }\n\n  .td {\n    padding: 0;\n    border-right: 1px solid #002140;\n\n    .ant-list-item {\n      padding: 0 7px;\n      display: flex;\n    }\n\n    .item-span {\n      width: 6px;\n      height: 6px;\n      background: #52c41a;\n      border-radius: 50%;\n      margin-right: 2px;\n    }\n  }\n"]))),Yn={when_choosing_subject:function(e){return{type:"WHEN_CHOOSING_SUBJECT",payload:e}},specify_loading:function(e){return{type:"SPECIFY_LOADING",payload:e}},set_subject_teachers:function(e){return{type:"SET_SUBJECT_TEACHERS",payload:e}},set_local_week:function(e){return{type:"SET_LOCAL_WEEK",payload:e}},set_chosen_teacher:function(e){return{type:"SET_CHOSEN_TEACHER",payload:e}},set_trial_lesson_day:function(e){return{type:"SET_TRIAL_LESSON_DAY",payload:e}}},Gn={hour8:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour9:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour10:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour11:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour12:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour13:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour14:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour15:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour16:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour17:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour18:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour19:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour20:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}},hour21:{Mo:{free:!0,tutors:[]},Tu:{free:!0,tutors:[]},We:{free:!0,tutors:[]},Th:{free:!0,tutors:[]},Fr:{free:!0,tutors:[]},Sa:{free:!0,tutors:[]},Su:{free:!0,tutors:[]}}},Un={hour8:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour9:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour10:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour11:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour12:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour13:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour14:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour15:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour16:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour17:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour18:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour19:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour20:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1},hour21:{Mo:!1,Tu:!1,We:!1,Th:!1,Fr:!1,Sa:!1,Su:!1}},Hn=function(){var e=Object(v.a)(g.a.mark((function e(t,n,a){var c,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=JSON.parse(JSON.stringify(Gn)),r=0,o=0,0===t.length&&(n(c),a(!1)),t.forEach((function(e){var t=e.groups,i=[],s="",l="",u="",d=e.workHours?e.workHours:JSON.parse(JSON.stringify(Un));0===t.length&&(r+=1,p([]));var j=function(){r+=1};function p(t){var i=[["\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","Mo"],["\u0432\u0442\u043e\u0440\u043d\u0438\u043a","Tu"],["\u0441\u0440\u0435\u0434\u0430","We"],["\u0447\u0435\u0442\u0432\u0435\u0440\u0433","Th"],["\u043f\u044f\u0442\u043d\u0438\u0446\u0430","Fr"],["\u0441\u0443\u0431\u0431\u043e\u0442\u0430","Sa"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","Su"]],l=[];t.forEach((function(e){l.push(ae()(e.date,"DD.MM.YYYY").format("dddd"))})),l.forEach((function(e){i.forEach((function(t){if(e===t[0])if(0===u)d["hour".concat(s)][t[1]]=!1;else for(var n=0;n<u;++n)d["hour".concat(+s+n)][t[1]]=!1}))})),i.forEach((function(t){["8","9","10","11","12","13","14","15","16","17","18","19","20","21"].forEach((function(n){if(!0===d["hour".concat(n)][t[1]]){c["hour".concat(n)][t[1]].tutors.push(e);var a=Object(b.a)(c["hour".concat(n)][t[1]].tutors);c["hour".concat(n)][t[1]].tutors=a.reduce((function(e,t){return-1!==e.indexOf(t)?e:[].concat(Object(b.a)(e),[t])}),[])}else c["hour".concat(n)][t[1]].tutors=c["hour".concat(n)][t[1]].tutors.filter((function(t){return t._id!==e._id}))}))})),r>=o&&(n(c),a(!1))}t.forEach((function(e,t){o+=1,ln((function(e){i=e.global_schedule.filter((function(e,t){return t<7}));var t=e.global_schedule[0].duration,n=t[0].substr(0,2),a=t[1].substr(0,2);s="0"===n[0]?n[1]:n,l="0"===a[0]?a[1]:a,u=+l-+s,j(),p(i)}),e,(function(){j(),p([])}),!1)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Wn=function e(t,n,a,c,r){n?(a(!0),de()({method:"get",url:"".concat(k.a,"/CRM/Teachers?limit=100&offset=",0,"&subject=").concat(n),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var n=e.data;t(n),r(n)})).catch((function(c){return W((function(){return e(t,n,a)}),c,(function(){return a(!1)}))}))):a(!1)},Vn=function(e,t,n,a,c,r,o){var i=a,s=function(n){e.push(Object(w.jsx)("td",{className:"td",style:{background:t[n].tutors[0]?"#fff":"rgb(166 173 180)"},children:Object(w.jsx)(st.b,{className:t[n].tutors[0]?"":"displayNone",size:"small",children:t[n].tutors.map((function(e){var t=e.surname,a=e.name,s=e.midname,l=e._id,u=function(e){var t=null;switch(e){case"Mo":t=1;break;case"Tu":t=2;break;case"We":t=3;break;case"Th":t=4;break;case"Fr":t=5;break;case"Sa":t=6;break;case"Su":t=0}var n=ae()();return t<n.day()&&(t+=7),n.day(t).format("DD.MM.YYYY")}(n);return Object(w.jsxs)(st.b.Item,{onClick:function(){c({tutor:e,time:i,index:n}),o(u)},style:{background:r.tutor._id===l&&r.time===i&&r.index===n?"aquamarine":"#fff"},children:[Object(w.jsx)("div",{className:"item-span"}),"".concat(a[0],".").concat(s[0],".").concat(t)]},l)}))})},"".concat(n).concat(t)))};for(var l in t)s(l);return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:"time",children:a}),e]})},qn=zt.a.Option,Kn=function(e){return e.map((function(e){return Object(w.jsx)(qn,{value:e,children:e},e)}))},Jn=N.a.div(ze||(ze=Object(y.a)(["\n  background: #fff;\n\n  .find-students-for-trial-lesson {\n    background: #fff;\n\n    .Button {\n      width: 100%;\n      color: #000;\n      text-transform: none;\n    }\n\n    .MuiListItem-root {\n      border-bottom: 1px solid #f0f0f0;\n    }\n  }\n\n  .list-students-for-trial-lesson {\n    margin-top: 16px;\n    background: #fff;\n    border-top: 1px solid rgb(82, 196, 26);\n\n    .item {\n      padding: 8px 16px;\n      display: flex;\n      width: 100%;\n      justify-content: space-between;\n\n      .delete {\n        width: 14px;\n      }\n\n      .title {\n        padding: 0 10px;\n        word-wrap: break-word;\n        width: 100%\n      }\n\n      & > div {\n        margin: auto 0;\n      }\n    }\n  }\n"]))),$n=n(651),Xn=n(656),Qn=n(643),Zn=n(652),ea={add_pupil_to_trial_lesson:function(e){return{type:"ADD_PUPIL_TO_TRIAL_LESSON",payload:e}}},ta=Object(d.b)((function(e){return{students_for_trial_lesson:e.students_for_trial_lesson}}),ea)((function(e){var t=e.students_for_trial_lesson,n=e.add_pupil_to_trial_lesson,a=Object(i.useState)([]),c=Object(x.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(""),l=Object(x.a)(s,2),u=l[0],d=l[1];return Object(w.jsxs)("div",{className:"find-students-for-trial-lesson",children:[Object(w.jsx)("div",{children:Object(w.jsx)(J.a,{value:u,onChange:function(e){e.target.value&&q((function(e){var t=e.map((function(e){var t=e._index,n=e._source;if("pupils"===t)return n}));o(t.filter((function(e){return e})))}),encodeURI(e.target.value)),d(e.target.value)},placeholder:"\u041f\u043e\u0434\u0431\u0435\u0440\u0438 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432 \u0434\u043b\u044f \u0443\u0440\u043e\u043a\u0430"})}),Object(w.jsx)(st.b,{size:"large",bordered:!0,dataSource:r,renderItem:function(e){var a=e.name,c=e.surname,r=e.midname,o=e.id,i="";return t.forEach((function(e){e.id===o&&(i="line-through")})),Object(w.jsx)($n.a,{disablePadding:!0,children:Object(w.jsx)(Xn.a,{className:"Button",disabled:!!i,children:Object(w.jsx)(Qn.a,{onClick:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>3?arguments[3]:void 0,a=!0;(arguments.length>2?arguments[2]:void 0).forEach((function(t){t.id===e.id&&(a=!1)})),a&&(n(e),t())}(e,(function(){return d("")}),t,n)},dense:!0,children:Object(w.jsx)(Zn.a,{style:{textDecoration:i},id:o,primary:[c,a,r].join(" ")})})})},o)}})]})})),na={delete_pupil_to_trial_lesson:function(e){return{type:"DELETE_PUPIL_TO_TRIAL_LESSON",payload:e}}},aa=Object(d.b)((function(e){return{students_for_trial_lesson:e.students_for_trial_lesson}}),na)((function(e){var t=e.students_for_trial_lesson,n=e.delete_pupil_to_trial_lesson;return Object(w.jsx)("div",{className:"list-students-for-trial-lesson",children:Object(w.jsx)(st.b,{size:"large",bordered:!0,dataSource:t,renderItem:function(e){var t=e.surname,a=e.name,c=e.midname,r=e.id;return Object(w.jsx)(st.b.Item,{style:{padding:0},children:Object(w.jsxs)("div",{className:"item",children:[Object(w.jsx)("div",{className:"title",children:Object(w.jsx)(D.b,{to:"/student/".concat(r),children:[t,a,c].join(" ")})}),Object(w.jsx)("div",{className:"delete",children:Object(w.jsx)(Nt.a,{onClick:function(){return n(r)},style:{color:"red"}})})]})})}})})})),ca=function(){return Object(w.jsxs)(Jn,{children:[Object(w.jsx)(ta,{}),Object(w.jsx)(aa,{})]})},ra=n(653),oa=Object(d.b)((function(e){return{date:e.trial_lesson_day,tutor:e.chosen_teacher}}))((function(e){var t=e.date,n=e.tutor,a=n.tutor,c=a.surname,r=a.name,o=a.midname;return Object(w.jsx)("div",{className:"chosen_teacher",children:Object(w.jsxs)(ra.b,{bordered:!0,size:"small",column:1,children:[Object(w.jsx)(ra.b.Item,{label:"\u0423\u0447\u0438\u0442\u0435\u043b\u044c",children:"".concat(c," ").concat(r," ").concat(o)}),Object(w.jsx)(ra.b.Item,{label:"\u0414\u0430\u0442\u0430 \u0443\u0440\u043e\u043a\u0430",children:"".concat(ae()(t,"DD.MM.YYYY").format("DD - MMMM - YYYY"))}),Object(w.jsx)(ra.b.Item,{label:"\u041d\u0430\u0447\u0430\u043b\u043e \u0443\u0440\u043e\u043a\u0430",children:"".concat(n.time?"\u0432":""," ").concat(n.time)})]})})})),ia={add_trial_lessons:function(e){return{type:"ADD_TRIAL_LESSONS",payload:e}}},sa=Object(d.b)((function(e){return{tutor:e.chosen_teacher.tutor,StartTime:e.chosen_teacher.time,EndTime:"".concat(ae()(e.chosen_teacher.time,"HH").add(1,"h").format("HH"),":00"),date:e.trial_lesson_day,pupils_id:e.students_for_trial_lesson.map((function(e){return e.id})),subject:e.selected_subject}}),ia)((function(e){var t=e.pupils_id,n=e.date,a=e.tutor,c=e.StartTime,r=e.EndTime,o=e.subject,s=e.add_trial_lessons,l=e.updateTeachers,u=Object(i.useState)(!1),d=Object(x.a)(u,2),j=d[0],b=d[1];return Object(w.jsx)(ct.a,{style:{marginTop:"16px"},type:"primary",loading:j,onClick:function e(){n&&a._id&&t.length&&o&&(b(!0),de()({method:"POST",url:"".concat(k.a,"/CRM/Groups"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{group_name:"\u041f\u0440\u043e\u0431\u043d\u044b\u0439 \u0443\u0440\u043e\u043a: ".concat(o),tutor:a._id,level:1,places:t.length,pupils:t,trial:!0,global_schedule:[{duration:[c,r],status:3,date:n,paid:!1}]}}).then((function(e){b(!1),s(e.data),Object(S.f)("\u041f\u0440\u043e\u0431\u043d\u044b\u0439 \u0443\u0440\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!"),l()})).catch((function(t){W(e,t,(function(){return b(!1)}))})))},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0440\u043e\u043a"})})),la=Object(d.b)((function(e){return{subjects:e.all_disciplines,selected_subject:e.selected_subject,loading:e.loading,subject_teachers:e.subject_teachers,week:e.local_week,chosen_teacher:e.chosen_teacher}}),Yn)((function(e){var t=e.subjects,n=e.when_choosing_subject,a=e.selected_subject,c=e.specify_loading,r=e.loading,o=e.set_subject_teachers,s=e.week,l=e.set_local_week,u=e.set_chosen_teacher,d=e.chosen_teacher,j=e.set_trial_lesson_day,b=s.hour8,p=s.hour9,h=s.hour10,f=s.hour11,m=s.hour12,x=s.hour13,O=s.hour14,g=s.hour15,v=s.hour16,y=s.hour17,k=s.hour18,_=s.hour19,N=s.hour20,C=s.hour21;Object(i.useEffect)((function(){return function(e){e?Object(S.b)():S.c.fire({icon:"info",title:"\u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u043d\u044b\u0439 \u0443\u0440\u043e\u043a, \u0432\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0443 \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f!",text:"(\u041d\u0430\u0436\u043c\u0438, \u0447\u0442\u043e \u0431\u044b \u0441\u043a\u0440\u044b\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435)",timer:null,position:"top"})}(a),function(){Object(S.b)()}}),[a]);var I=Object(w.jsx)(Ln,{children:Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{className:"week",children:[Object(w.jsx)("td",{className:"white"}),["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"].map((function(e){return Object(w.jsx)("td",{children:e},e)}))]}),Vn([],b,0,"08:00",u,d,j),Vn([],p,0,"09:00",u,d,j),Vn([],h,0,"10:00",u,d,j),Vn([],f,0,"11:00",u,d,j),Vn([],m,0,"12:00",u,d,j),Vn([],x,0,"13:00",u,d,j),Vn([],O,0,"14:00",u,d,j),Vn([],g,0,"15:00",u,d,j),Vn([],v,0,"16:00",u,d,j),Vn([],y,0,"17:00",u,d,j),Vn([],k,0,"18:00",u,d,j),Vn([],_,0,"19:00",u,d,j),Vn([],N,0,"20:00",u,d,j),Vn([],C,0,"21:00",u,d,j)]})}),T=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("br",{}),[1,2,3,4,5,6,7,10,11,12,13,14,15,16,17,18,19].map((function(e){return Object(w.jsx)(St.a.Button,{style:{marginRight:"8px",marginBottom:"8px",width:"50px",height:"675px"},active:!0},e)}))]});return Object(w.jsxs)(An,{children:[Object(w.jsx)(zt.a,{defaultValue:a,placeholder:"\u0427\u0442\u043e \u0445\u043e\u0447\u0435\u0442 \u0438\u0437\u0443\u0447\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442?",allowClear:!0,className:"select",onChange:function(e){n(e),Wn(o,e,c,0,(function(e){Hn(e,l,c)})),u({tutor:{_id:"",surname:"",name:"",midname:""},time:"",index:""}),j("")},children:Kn(t)}),Object(w.jsxs)("div",{className:"week-and-pupils ".concat(a?"":"none-table"),children:[r?T:I,Object(w.jsxs)("div",{className:"selection-students",children:[Object(w.jsx)(ca,{}),Object(w.jsx)(oa,{}),Object(w.jsx)(sa,{updateTeachers:function(){Wn(o,a,c,0,(function(e){Hn(e,l,c)})),u({tutor:{_id:"",surname:"",name:"",midname:""},time:"",index:""}),j("")}})]})]})]})})),ua=function(){return Object(w.jsxs)(Tn,{children:[Object(w.jsxs)(Dn.a,{style:{margin:"0 0 16px 0"},children:[Object(w.jsx)(Dn.a.Item,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(w.jsx)(Dn.a.Item,{children:"\u041f\u0440\u043e\u0431\u043d\u044b\u0435 \u0443\u0440\u043e\u043a\u0438"})]}),Object(w.jsx)(la,{}),Object(w.jsx)(Pn,{})]})},da=s.a.lazy((function(){return Promise.all([n.e(5),n.e(3)]).then(n.bind(null,672))})),ja=In(Object(w.jsx)("div",{children:"Loading SalesFunnel..."}),da),ba=s.a.lazy((function(){return n.e(4).then(n.bind(null,671))})),pa=In(Object(w.jsx)("div",{children:"Loading TasksPage..."}),ba),ha=M.a.Sider,fa=R.a.SubMenu,ma=function(e){var t=e.logOut,n=Object(i.useState)(!1),a=Object(x.a)(n,2),c=a[0],r=a[1];Object(i.useEffect)((function(){document.querySelector(".ant-layout-sider-trigger").style.width=c?"80px":"257px"}));var o=N.a.div({".ant-menu":{height:"100vh",position:"relative",width:c?"80px":"257px"},".vag123":{position:"absolute",bottom:"48px",width:c?"80px":""},".site-layout":{padding:"15px"},"& > section":{"& > aside":{position:"fixed",zIndex:99},"& > section":{marginLeft:c?"80px":"257px"}}}),s=N.a.div({overflow:"auto"});return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(D.a,{children:Object(w.jsx)(o,{children:Object(w.jsxs)(M.a,{style:{minHeight:"100vh"},children:[Object(w.jsx)(ha,{collapsible:!0,collapsed:c,onCollapse:function(e){r(e)},children:Object(w.jsxs)(R.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(F.a,{}),children:Object(w.jsx)(Q,{})},"Search"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(B.a,{onClick:function(){return document.querySelector(".ButtonUpload").click()}}),children:Object(w.jsx)(bn,{})},"UploadOutlined"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(z.a,{}),children:Object(w.jsx)(D.b,{to:"/student",children:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438"})},"2"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(P.a,{}),children:Object(w.jsx)(D.b,{to:"/group",children:"\u0413\u0440\u0443\u043f\u043f\u044b"})},"3"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(A.a,{}),children:Object(w.jsx)(D.b,{to:"/tasks",children:"\u0417\u0430\u0434\u0430\u0447\u0438"})},"4"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(L.a,{}),children:Object(w.jsx)(D.b,{to:"/sales-funnel",children:"\u0412\u043e\u0440\u043e\u043d\u043a\u0430 \u043f\u0440\u043e\u0434\u0430\u0436"})},"5"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(Y.a,{}),children:Object(w.jsx)(D.b,{to:"/trial-lessons",children:"\u041f\u0440\u043e\u0431\u043d\u044b\u0435 \u0443\u0440\u043e\u043a\u0438"})},"trial-lessons"),Object(w.jsxs)(fa,{icon:Object(w.jsx)(G.a,{}),title:"\u0421\u0432\u043e\u0434\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b",children:[Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(D.b,{to:"/table-pupils",children:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438"})},"sub-student"),Object(w.jsx)(R.a.Item,{children:Object(w.jsx)(D.b,{to:"/table-groups",children:"\u0413\u0440\u0443\u043f\u043f\u044b"})},"sub-groups")]},"sub1"),Object(w.jsx)(R.a.Item,{onClick:function(){localStorage.removeItem("tokenID"),t()},id:"LogoutOut",className:"vag123",icon:Object(w.jsx)(U.a,{}),children:Object(w.jsx)(D.b,{to:"/",children:"\u0412\u044b\u0445\u043e\u0434"})},"Logout")]})}),Object(w.jsx)(M.a,{className:"site-layout",children:Object(w.jsxs)(E.c,{children:[Object(w.jsx)(E.a,{exact:!0,path:"/student",component:xe}),Object(w.jsx)(E.a,{path:"/student/:id",children:function(){return Object(w.jsx)(Ut,{})}}),Object(w.jsx)(E.a,{exact:!0,path:"/group",component:Jt}),Object(w.jsx)(E.a,{path:"/group/:id",children:function(){return Object(w.jsx)(un,{})}}),Object(w.jsx)(E.a,{path:"/sales-funnel",component:ja}),Object(w.jsx)(E.a,{path:"/tasks",render:function(){return Object(w.jsx)(pa,{})}}),Object(w.jsx)(E.a,{path:"/trial-lessons",component:ua}),Object(w.jsx)(E.a,{exact:!0,path:"/table-groups",component:function(){return Object(w.jsx)(xn,{})}}),Object(w.jsx)(E.a,{exact:!0,path:"/table-pupils",component:function(){return Object(w.jsx)(s,{children:Object(w.jsx)(Cn,{})})}}),Object(w.jsx)(E.a,{path:"/student/*",children:Object(w.jsx)("h2",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})})]})})]})})})})},xa=n(27),Oa=function e(t,n){xa({method:"post",url:"".concat(k.a,"/CRM/Pupils/").concat(t,"/Notes"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{text:n}}).catch((function(t){W(e,t)}))},ga=n(27),va=function e(t,n,a,c){ga({method:"put",url:"".concat(k.a,"/CRM/Groups/").concat(a,"/Pupils/").concat(n,"/Schedule"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:t}).then((function(e){c("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435")})).catch((function(t){W(e,t)}))},ya=te.a.Column,ka=te.a.ColumnGroup,Sa=J.a.TextArea,_a=function(e){var t=e.ID_Group,n=e.Group,a=e.getUser,c=Object(i.useState)({}),r=Object(x.a)(c,2),o=r[0],s=r[1],l=Object(i.useState)([]),u=Object(x.a)(l,2),d=u[0],j=u[1],h=Object(p.a)({},o),f=Object(b.a)(d),m=function(){for(var e in f=[],h)2==h[e].arr[t].status&&f.push(e)},O={};console.log(n);var g=n.pupils.map((function(e,a){var c=e._id,r=e.name,o=e.surname,i=e.midname;h[c]={arr:e.localSchedule?e.localSchedule[n._id]:[],pupil_id:c},m();var s=h[c].arr[t].start?h[c].arr[t].start:"",l=h[c].arr[t].start?h[c].arr[t].finish:"",u=function(e){h[c]?h[c].arr=e:h[c]||(h[c]={arr:e,pupil_id:c})},d="";return n.pupils[a]&&(d=n.pupils[a].localSchedule[n._id][t].title),{key:c,name:"".concat(o," ").concat(r," ").concat(i),title:{text:d,action:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,c=Object(b.a)(e.localSchedule[n._id]);2==a&3==c[t].status||3==a?(c[t].status=a,u(c)):3!=a&2!=a&&(c[t].title=a,u(c))},addNotes:function(e){O[c]={text:e,id:c}}},progres:{start:s,finish:l,action:function(e,n){h[c].arr[t][e]=n}}}})),v={selectedRowKeys:f,onChange:function(){s(h),j(f)},onSelect:function(e){var n;n=2==h[e.key].arr[t].status?3:2,h[e.key].arr[t].status=n,m()},onSelectAll:function(e){if(e)for(var n in h)h[n].arr[t].status=2;else if(!e)for(var a in h)h[a].arr[t].status=3;m()}};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(te.a,{pagination:!1,loading:!1,rowSelection:v,scroll:{x:0},dataSource:g,children:[Object(w.jsx)(ya,{title:"\u0423\u0447\u0435\u043d\u0438\u043a",dataIndex:"name",render:function(e){return Object(w.jsx)(ee.a,{color:"blue",children:e})}},"name"),Object(w.jsxs)(ka,{title:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441",children:[Object(w.jsx)(ya,{title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",dataIndex:"title",render:function(e){return Object(w.jsx)(Sa,{defaultValue:e.text,placeholder:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0447\u0435\u043d\u0438\u043a\u0443",onBlur:function(t){e.action(t.target.value),e.addNotes(t.target.value)},autoSize:{minRows:2,maxRows:6}})}},"title"),Object(w.jsx)(ya,{title:"\u041d\u0430\u0447\u0430\u043b\u043e",dataIndex:"progres",render:function(e){return Object(w.jsx)(Sa,{defaultValue:e.start,placeholder:"\u0421\u0442\u0430\u0440\u0442...",onBlur:function(t){e.action("start",t.target.value)},autoSize:{minRows:2,maxRows:6}})}},"progres"),Object(w.jsx)(ya,{title:"\u041a\u043e\u043d\u0435\u0446",dataIndex:"progres",render:function(e){return Object(w.jsx)(Sa,{defaultValue:e.finish,placeholder:"\u0424\u0438\u043d\u0438\u0448...",onBlur:function(t){e.action("finish",t.target.value)},autoSize:{minRows:2,maxRows:6}})}},"progres")]})]}),Object(w.jsx)("div",{className:"Button",children:Object(w.jsx)(ct.a,{onClick:function(){for(var e in h)va(h[e].arr,e,n._id,a);for(var t in O)Oa(t,O[t].text)},type:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},Na=n(649),wa=N.a.div({".time":{"h5, h6":{margin:0}},".TablePupils":{marginTop:"15px",".ant-tag":{fontSize:"13px"},td:{padding:"16px 3px"}},".Button":{marginTop:"15px",display:"flex",justifyContent:"flex-end"}}),Ca=Na.a.Text,Ia=function(e){var t=e.rowKey,n=e.setRowKey,a=e.GROUP,c=e.Group,r=e.getUser,o=c;return a.group.group_name&&(o=a),Object(w.jsxs)(wa,{className:"LessonNow",children:[Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-md-8",children:Object(w.jsxs)("h4",{children:[Object(w.jsx)(Ca,{type:"secondary",children:" \u0423\u0440\u043e\u043a \u0441\u0435\u0439\u0447\u0430\u0441: "})," ",o.group.group_name," "]})}),Object(w.jsxs)("div",{className:"col-md-3 time",children:[Object(w.jsxs)("h6",{children:[" ",Object(w.jsx)(Ca,{type:"secondary",children:"\u041d\u0430\u0447\u0430\u043b\u043e"})," "]}),Object(w.jsxs)("h5",{children:[" ",Object(w.jsxs)(Ca,{type:"warning",children:[o.group.global_schedule[o.indexD].date," \u0432 ",o.group.global_schedule[0].duration[0]]})," "]})]})]}),Object(w.jsx)("div",{className:"TablePupils",children:Object(w.jsx)(_a,{rowKey:t,getUser:r,ID_Group:o.indexD,setRowKey:n,Group:o.group})})]})},Ta=te.a.Column,Da=function(e){var t=e.Groups,n=e.newGroup,a=e.setGROUP,c=e.GROUP,r=t.map((function(e,t){var a=e.group,r=a._id,o=a.group_name,i=a.global_schedule,s="cyan";return c.group&&(n.group._id==r&!c.group.group_name||r==c.group._id)&&(s="volcano"),{key:t,groupName:{group_name:o,G:e},date:{date:"".concat(i["".concat(e.indexD)].date," \u0432 ").concat(i[0].duration[0]),color:s,G:e}}})),o={pageSize:15,onChange:function(e){console.log("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430: ".concat(e))}};return Object(w.jsxs)(te.a,{pagination:o,loading:!1,scroll:{x:0},dataSource:r,children:[Object(w.jsx)(Ta,{title:"\u0412\u0440\u0435\u043c\u044f",dataIndex:"date",render:function(e){return Object(w.jsx)(ee.a,{onClick:function(){a(e.G)},style:{cursor:"pointer"},color:e.color,children:e.date})}},"date"),Object(w.jsx)(Ta,{title:"\u0413\u0440\u0443\u043f\u043f\u0430",dataIndex:"groupName",render:function(e){return Object(w.jsx)(ee.a,{onClick:function(){a(e.G),console.log(e.G)},style:{cursor:"pointer"},color:"volcano",children:e.group_name})}},"groupName")]})};Da.defaultProps={Groups:[{group_name:"",global_schedule:[{date:"",duration:["",""]}],pupils:[]}]};var Ea=Da,Ma=function(e){var t=e.Groups,n=e.newGroup,a=e.setGROUP,c=e.GROUP,r=Object(b.a)(t),o=N.a.div({padding:"15px",borderRadius:"2px",backgroundColor:"#fff"});return Object(w.jsxs)(o,{className:"AllLesson",children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-md-8",children:Object(w.jsx)("h5",{children:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0435 \u0443\u0440\u043e\u043a\u0438"})})}),Object(w.jsx)("div",{className:"TableGroups",children:Object(w.jsx)(Ea,{Groups:r,newGroup:n,setGROUP:a,GROUP:c})})]})},Ra=function(e){var t=e.rowKey,n=e.setRowKey,a=e.Groups,c=e.GROUP,r=e.setGROUP,o=e.getUser,i={timeN:"",group:{group_name:"",global_schedule:[{date:"",duration:["",""]}],pupils:[]},indexD:0},s=[{timeN:"",group:{group_name:"",global_schedule:[{date:"",duration:["",""]}],pupils:[]},indexD:0}];a.forEach((function(e,t){var n=[],a="f";if((e.global_schedule?e.global_schedule:[]).forEach((function(e,t){var c=ae()(e.date,"DD.MM.YYYY").format("YYYY-MM-DD");ae()().diff(c,"day")<=0&&("f"==a&&(a=t),n.push("".concat(c," ").concat(e.duration[0])))})),n[0]){if(i.timeN){var c=ae()().diff(n[0],"hours");c>ae()().diff(i.timeN,"hours")&c<=0&&(i={timeN:n[0],group:e,indexD:a})}else i.timeN||(i={timeN:n[0],group:e,indexD:a});n[0]&&s.push({timeN:n[0],group:e,indexD:a})}}));var l=[{timeN:"",group:{group_name:"",global_schedule:[{date:"",duration:["",""]}],pupils:[]},indexD:0}],u=[];s.forEach((function(e){u.push(ae()().diff(e.timeN,"minutes"))})),u.sort((function(e,t){return t-e})),u.forEach((function(e){s.forEach((function(t,n){ae()().diff(t.timeN,"minutes")==e&&l.push(t)}))})),void 0!=l[1]&&l.splice(0,1);var d=N.a.div({".site-layout-background":{".allCol":{padding:"0 7.5px"},".LessonNow, .AllLesson":{padding:"15px",borderRadius:"2px",backgroundColor:"#fff"}}});c||r(l[0]);var j=M.a.Content;return Object(w.jsx)(d,{children:Object(w.jsxs)(j,{style:{margin:"0 16px"},children:[Object(w.jsxs)(Dn.a,{style:{margin:"16px 0"},children:[Object(w.jsx)(Dn.a.Item,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(w.jsx)(Dn.a.Item,{children:"\u0411\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0435 \u0443\u0440\u043e\u043a\u0438"})]}),Object(w.jsxs)("div",{className:"row site-layout-background",style:{padding:"7.5px",minHeight:360},children:[Object(w.jsx)("div",{className:"allCol col-8",children:Object(w.jsx)(Ia,{rowKey:t,getUser:o,setRowKey:n,GROUP:c,Group:i})}),Object(w.jsx)("div",{className:"allCol col-4",children:Object(w.jsx)(Ma,{Groups:l,setGROUP:r,newGroup:i,GROUP:c})})]})]})})},Fa=[{title:"",key:"time",dataIndex:"time",fixed:"left",width:100,render:function(e){return Object(w.jsx)(ee.a,{color:"cyan",children:e})}},{title:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",dataIndex:"1",key:"1"},{title:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",dataIndex:"2",key:"2"},{title:"\u0421\u0440\u0435\u0434\u0430",dataIndex:"3",key:"3"},{title:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",dataIndex:"4",key:"4"},{title:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",dataIndex:"5",key:"5"},{title:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430",dataIndex:"6",key:"6"},{title:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",dataIndex:"0",key:"7"}],Ba=N.a.div({padding:"15px",borderRadius:"2px",backgroundColor:"#fff"}),za=N.a.div({padding:"15px",borderRadius:"2px",backgroundColor:"#fff",marginBottom:"15px"}),Pa=M.a.Content,Aa=function(e){var t=e.Groups;console.log(t);var n=t.map((function(e){return{title:function(){return Object(w.jsx)(ee.a,{color:"magenta",children:e.group_name},e._id)},key:e._id,dataIndex:"pupil",fixed:"top",width:100,render:function(){return Object(w.jsx)(w.Fragment,{children:e.pupils.map((function(t,n){return Object(w.jsx)("div",{children:Object(w.jsxs)(ee.a,{style:{marginBottom:"5px"},color:"green",children:[t.surname," ",t.name," ",t.midname]})},"".concat(e._id).concat(n))}))})}}})),a=[{key:"777",pupil:""}];console.log(a);for(var c=t.map((function(e){if((e.global_schedule?e.global_schedule:[])[0]){var t={};return e.global_schedule.forEach((function(n){var a=ae()(n.date,"DD.MM.YYYY").day();t[a]=e.group_name})),Object(p.a)(Object(p.a)({key:e._id},t),{},{time:e.global_schedule[0].duration[0]})}return{key:e._id,1:'\u0414\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b: "'.concat(e.group_name,'" \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435.'),time:""}})),r=[],o=function(e){c.forEach((function(t){ae()(t.time,"hh:mm").hours()==e&&r.push(t)}))},i=0;i<=24;i++)o(i);return Object(w.jsxs)(Pa,{style:{margin:"0 16px"},children:[Object(w.jsxs)(Dn.a,{style:{margin:"16px 0"},children:[Object(w.jsx)(Dn.a.Item,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(w.jsx)(Dn.a.Item,{children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u043e\u0432"})]}),Object(w.jsx)(za,{children:Object(w.jsxs)("div",{className:"row site-layout-background",style:{padding:"15px"},children:[Object(w.jsx)("h4",{children:"\u0413\u0440\u0443\u043f\u043f\u044b"}),Object(w.jsx)(te.a,{bordered:!0,columns:n,dataSource:a,scroll:{x:1e3}})]})}),Object(w.jsx)(Ba,{children:Object(w.jsxs)("div",{className:"row site-layout-background",style:{padding:"15px"},children:[Object(w.jsx)("h4",{children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(w.jsx)(te.a,{bordered:!0,columns:Fa,dataSource:r,scroll:{x:1300}})]})})]})},La=N.a.div({padding:"15px",borderRadius:"2px",backgroundColor:"#fff"}),Ya=function(e){var t=e.AllPupils,n=M.a.Content,a=te.a.Column,c=[];return t.forEach((function(e){var t=e.surname,n=e.name,a=e.midname,r=e.dateOfBirth,o=e.gender,i=e.phone,s=e.discord,l=e._id,u=!0;c.forEach((function(e){e.key==l&&(u=!1)})),u&&c.push({key:l,surname:[t,l],name:n,midname:a,dateOfBirth:ce(r),gender:o,phone:i,discord:s})})),Object(w.jsxs)(n,{style:{margin:"0 16px"},children:[Object(w.jsxs)(Dn.a,{style:{margin:"16px 0"},children:[Object(w.jsx)(Dn.a.Item,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(w.jsx)(Dn.a.Item,{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0423\u0447\u0435\u043d\u0438\u043a\u043e\u0432"})]}),Object(w.jsx)("div",{className:"site-layout-background",style:{padding:"10px",minHeight:360},children:Object(w.jsx)(La,{children:Object(w.jsxs)(te.a,{dataSource:c,children:[Object(w.jsx)(a,{title:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",dataIndex:"surname",render:function(e){return Object(w.jsx)(D.b,{className:"link-info",to:"/student/".concat(e[1]),children:e[0]})}},"surname"),Object(w.jsx)(a,{title:"\u0418\u043c\u044f",dataIndex:"name"},"name"),Object(w.jsx)(a,{title:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",dataIndex:"midname"},"midname"),Object(w.jsx)(a,{title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",dataIndex:"dateOfBirth"},"dateOfBirth"),Object(w.jsx)(a,{title:"\u041f\u043e\u043b",dataIndex:"gender"},"gender"),Object(w.jsx)(a,{title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",dataIndex:"phone"},"phone"),Object(w.jsx)(a,{title:"\u0414\u0438\u0441\u043a\u043e\u0440\u0434 \u043d\u0438\u043a\u043d\u0435\u0439\u043c",dataIndex:"discord"},"discord")]})})})]})},Ga=N.a.div({padding:"15px",borderRadius:"2px",backgroundColor:"#fff"}),Ua=function(e){var t=e.AllGroups,n=M.a.Content,a=te.a.Column,c=t.map((function(e){var t=e.group_name,n=e.level,a=e.places,c=e.pupils,r=e._id,o=e.global_schedule,i="";return o&&o[0]&&(i="\u0441 ".concat(o[0].duration[0]," \u0434\u043e ").concat(o[0].duration[1])),{key:r,group_name:[t,r],level:n,places:a,free_places:a-c.length,time:i}}));return Object(w.jsxs)(n,{style:{margin:"0 16px"},children:[Object(w.jsxs)(Dn.a,{style:{margin:"16px 0"},children:[Object(w.jsx)(Dn.a.Item,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(w.jsx)(Dn.a.Item,{children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0413\u0440\u0443\u043f\u043f"})]}),Object(w.jsx)("div",{className:"site-layout-background",style:{padding:"10px",minHeight:360},children:Object(w.jsx)(Ga,{children:Object(w.jsxs)(te.a,{dataSource:c,children:[Object(w.jsx)(a,{title:"\u0418\u043c\u044f \u0413\u0440\u0443\u043f\u043f\u044b",dataIndex:"group_name",render:function(e){return Object(w.jsx)(D.b,{className:"link-info",to:"/group/".concat(e[1]),children:e[0]})}},"group_name"),Object(w.jsx)(a,{title:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c",dataIndex:"level"},"level"),Object(w.jsx)(a,{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0435\u0441\u0442",dataIndex:"places"},"places"),Object(w.jsx)(a,{title:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u044b\u0445 \u043c\u0435\u0441\u0442",dataIndex:"free_places"},"free_places"),Object(w.jsx)(a,{title:"\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u043d\u044f\u0442\u0438\u0439",dataIndex:"time"},"time")]})})})]})},Ha=n(238),Wa=n(239),Va=n(27),qa=n(132),Ka=M.a.Sider,Ja=function(e){var t=e.logOut,n=Object(i.useState)(!1),a=Object(x.a)(n,2),c=a[0],r=a[1],o=Object(i.useState)([]),s=Object(x.a)(o,2),l=s[0],u=s[1],d=Object(i.useState)({group:{group_name:"",global_schedule:[{date:"00",duration:["",""]}],pupils:[],_id:"3443"},indexD:0}),j=Object(x.a)(d,2),p=j[0],h=j[1],f=Object(i.useState)({groups:[],login:"",midname:"",name:"",role:"",surname:"",_id:"456456"}),m=Object(x.a)(f,2),O=m[0],g=m[1],v=Object(i.useState)([]),y=Object(x.a)(v,2),_=y[0],C=y[1],I=[];_.forEach((function(e){I.push.apply(I,Object(b.a)(e.pupils))}));var T=function e(t){var n=t.groups.map((function(e){return e._id}));n[0]?Va({method:"post",url:"".concat(k.a,"/CRM/Groups/getByIds"),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))},data:{ids:n}}).then((function(e){C(e.data),Object(S.b)()})).catch((function(t){W(e,t)})):Object(S.b)()},B=function(e){Object(S.d)(e,""),Va({method:"get",url:"".concat(k.a,"/CRM/Teachers/").concat(qa.decode(localStorage.getItem("tokenID")).id),headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).then((function(e){var t=e.data;t||(localStorage.removeItem("tokenID"),window.location.replace("/")),g(t),T(t)})).catch((function(e){W(T,e)}))};Object(i.useEffect)((function(){B("\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445...")}),[]),Object(i.useEffect)((function(){document.querySelector(".ant-layout-sider-trigger").style.width=c?"80px":"250px"}));var A=N.a.div({".ant-menu":{height:"100vh",position:"relative",width:c?"80px":"250px"},".vag123":{position:"absolute",bottom:"48px",width:c?"80px":""},".site-layout":{padding:"15px"},"& > section":{"& > aside":{position:"fixed",zIndex:99},"& > section":{marginLeft:c?"80px":"250px"}}});return Object(w.jsx)(D.a,{children:Object(w.jsx)(A,{children:Object(w.jsxs)(M.a,{style:{minHeight:"100vh"},children:[Object(w.jsxs)(Ka,{collapsible:!0,collapsed:c,onCollapse:function(){return r(!c)},children:[Object(w.jsx)("div",{className:"logo"}),Object(w.jsxs)(R.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(F.a,{}),children:Object(w.jsx)(Q,{tutorid:"&tutorID=".concat(qa.decode(localStorage.getItem("tokenID")).id)})},"Search"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(Ha.a,{}),children:Object(w.jsx)(D.b,{to:"/",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"})},"1"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(Wa.a,{}),children:Object(w.jsx)(D.b,{to:"/calendar",children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})},"2"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(z.a,{}),children:Object(w.jsx)(D.b,{to:"/pupils",children:"\u0423\u0447\u0435\u043d\u0438\u043a\u0438"})},"3"),Object(w.jsx)(R.a.Item,{icon:Object(w.jsx)(P.a,{}),children:Object(w.jsx)(D.b,{to:"/groups",children:"\u0413\u0440\u0443\u043f\u043f\u044b"})},"4"),Object(w.jsx)(R.a.Item,{onClick:function(){localStorage.removeItem("tokenID"),t()},className:"vag123",icon:Object(w.jsx)(U.a,{}),children:Object(w.jsxs)(D.b,{to:"/",children:["\u0412\u044b\u0445\u043e\u0434: ",O.login]})},"Logout")]})]}),Object(w.jsx)(M.a,{className:"site-layout",children:Object(w.jsx)("div",{children:Object(w.jsxs)(E.c,{children:[Object(w.jsx)(E.a,{exact:!0,path:"/",children:Object(w.jsx)(Ra,{rowKey:l,getUser:B,setRowKey:u,GROUP:p,setGROUP:h,Groups:_})}),Object(w.jsx)(E.a,{exact:!0,path:"/calendar",children:Object(w.jsx)(Aa,{Groups:_})}),Object(w.jsx)(E.a,{exact:!0,path:"/pupils",children:Object(w.jsx)(Ya,{AllPupils:I})}),Object(w.jsx)(E.a,{exact:!0,path:"/groups",children:Object(w.jsx)(Ua,{AllGroups:_})}),Object(w.jsx)(E.a,{exact:!0,path:"/student/:id",children:function(){return Object(w.jsx)(Ut,{})}}),Object(w.jsx)(E.a,{exact:!0,path:"/group/:id",children:function(){return Object(w.jsx)(un,{})}})]})})})]})})})},$a=function(){var e=n(27),t=n(132),a=Object(i.useState)(""),c=Object(x.a)(a,2),r=(c[0],c[1]),o=Object(w.jsx)(T,{setUser:r}),s=localStorage.getItem("tokenID")?Object(w.jsx)(ma,{logOut:r}):o;return Object(i.useEffect)((function(){s!==o&&e({method:"get",url:"".concat(k.a,"/auth-check"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("tokenID"))}}).catch((function(e){e.response&&(401===e.response.status&&(localStorage.removeItem("tokenID"),window.location.replace("/")))}))}),[]),localStorage.getItem("tokenID")&&"teacher"===t.decode(localStorage.getItem("tokenID")).accountType&&(s=Object(w.jsx)(Ja,{logOut:r})),Object(w.jsx)(w.Fragment,{children:s})};u.a.render(Object(w.jsx)(d.a,{store:m,children:Object(w.jsx)($a,{})}),document.getElementById("root"))},68:function(e,t,n){"use strict";n.d(t,"l",(function(){return m})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"i",(function(){return k})),n.d(t,"g",(function(){return S})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return N})),n.d(t,"k",(function(){return w})),n.d(t,"b",(function(){return C}));var a,c,r,o,i,s,l,u,d,j,b,p,h=n(24),f=n(10),m=f.a.div(a||(a=Object(h.a)(["\n  position: ",";\n  transition: all .5s ease;\n  z-index: 10;\n  bottom: ",";\n  width: 100%;\n  border-radius: ",";\n  background: ",";\n  border: 1px solid ",";\n  padding: 0 10px;\n  \n  > .buttonUp {\n    position: relative;\n    top: -13px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    > button {\n      display: flex;\n      align-items: center;\n      border-radius: 4px;\n      border: 1px solid #1890FF;\n      background: #1890FF;\n      color: white;\n      transition: all .2s ease;\n      width: min-content;\n      &:hover {\n        background: white;\n        color: #1890FF;\n      }\n      .anticon-double-left {\n        margin: 0 5px 0 2.5px;\n        transform: rotate(","deg);\n      }\n    }\n  }\n"])),(function(e){return e.portable?"absolute":"static"}),(function(e){return e.opened?"0":2===e.type?"-600px":"-580px"}),(function(e){return e.portable?"10px 10px 0 0":"0"}),(function(e){return e.portable?"#1890FF":"white"}),(function(e){return e.portable?"#1890FF":"white"}),(function(e){return e.opened?-90:90})),x=f.a.div(c||(c=Object(h.a)(["\n  display: flex;\n  overflow: hidden auto;\n  flex-direction: column;\n  .ant-picker {\n    cursor: pointer;\n    width: 100%;\n    background: transparent;\n    border: none;\n    .ant-picker-suffix {\n      color: white;\n    }\n    &:focus {\n      outline: none;\n    }\n  }\n  .data {\n    padding: 5px 0;\n    border-bottom: 1px solid ",";\n  }\n  input {\n    color: ",";\n    background: transparent;\n    border: none;\n    &:focus {\n      outline: none;\n    }\n  }\n  input::-webkit-input-placeholder {\n    color: ",";\n  }\n  textarea {\n    resize: none;\n    width: 100%;\n    color: ",";\n    background: transparent;\n    border: none;\n    &:focus {\n      outline: none;\n    }\n  }\n  textarea::-webkit-input-placeholder {\n    color: ",";\n  }\n  .type__select {\n    color: ",";\n    justify-content: space-between;\n    > select:first-of-type {\n      cursor: pointer;\n      width: 100%;\n      border: none;\n      color: ",";\n      background: transparent;\n      > option {\n        color: black;\n      }\n      &:focus {\n        outline: none;\n      }\n    }\n  }\n"])),(function(e){return e.portable?"rgba(255, 255, 255, 0.9)":"rgba(211, 211, 211, 0.9)"}),(function(e){return e.portable?"white":"black"}),(function(e){return e.portable?"rgba(255, 255, 255, 0.7)":"rgba(211, 211, 211, 0.8)"}),(function(e){return e.portable?"white":"black"}),(function(e){return e.portable?"rgba(255, 255, 255, 0.7)":"rgba(211, 211, 211, 0.8)"}),(function(e){return e.portable?"white":"black"}),(function(e){return e.portable?"white":"black"})),O=f.a.div(r||(r=Object(h.a)(["\n  margin: 5px 0 0 0;\n  display: flex;\n  justify-content: space-between;\n  > div {\n    flex: 0 0 calc(100% / 3);\n    color: ",";\n    > div:last-of-type {\n      color: black;\n      border-bottom: 1px solid ",";\n      background: ",";\n      height: 100px;\n      max-height: 100px;\n      overflow: hidden auto;\n      > span {\n        display: block;\n        margin: 2px;\n        cursor: pointer;\n        transition: all .2s ease;\n        &:hover {\n          filter: brightness(0.9);\n        }\n      }\n    }\n  }\n  \n"])),(function(e){return e.portable?"white":"black"}),(function(e){return e.portable?"#1890FF":"lightgray"}),(function(e){return e.portable?"white":"transparent"})),g=f.a.section(o||(o=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  > input {\n    width: 100%;\n    color: ",";\n    border-bottom: 1px solid ",";\n    &::-webkit-input-placeholder {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.portable?"white":"black"}),(function(e){return e.portable?"white":"lightgray"}),(function(e){return e.portable?"rgba(255, 255, 255, 0.7)":"rgba(211, 211, 211, 0.8)"})),v=f.a.div(i||(i=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  color: ",";\n  .black {\n    color: black;\n  }\n  input {\n    border-bottom: 1px solid ",";\n    margin: 0 0 5px 0;\n  }\n  p {\n    margin: 0;\n  }\n  div:first-of-type {\n    height: 85px;\n  }\n  div {\n    border-bottom: 1px solid lightgray;\n    overflow: hidden auto;\n    padding: 0;\n    margin: 0;\n    background: white;\n    > p {\n      color: ",";\n      font-weight: 600;\n      position: relative;\n      cursor: pointer;\n      background: ",";\n      margin: 2.5px;\n      padding: 0 30px 0 5px;\n      font-size: 13px;\n      ",";\n      border-radius: ",";\n      transition: all .2s ease;\n      &:hover {\n        background: ",";\n        color: #1890FF;\n      }\n    }\n  }\n  > div:last-of-type {\n    margin: 5px 0 0 0;\n    > p {\n      border: none\n    }\n  }\n"])),(function(e){return e.portable?"white":"black"}),(function(e){return e.portable?"white":"lightgray"}),(function(e){return e.portable?"white":"#1890FF"}),(function(e){return e.portable?"#1890FF":"white"}),(function(e){return e.portable?"border: 1px solid #1890FF":"border-bottom: 1px solid lightgray"}),(function(e){return e.portable?"4px":"0"}),(function(e){return e.portable?"transparent":"lightgray"})),y=f.a.span(s||(s=Object(h.a)(['\n  position: absolute;\n  right: 5px;\n  top: 0;\n  margin: 0;\n  padding: 0;\n  color: #FFC700;\n  font-family: "MontBold";\n']))),k=f.a.div(l||(l=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  > button {\n    border-radius: 4px;\n    color: ",";\n    border: none;\n    padding: 2.5px 15px;\n    background: ",";\n    margin: 10px 0 5px 0;\n    transition: all .2s ease;\n    &:hover {\n      background: ",";\n    }\n  }\n"])),(function(e){return e.portable?"#1890FF":"white"}),(function(e){return e.portable?"white":"#1890FF"}),(function(e){return e.portable?"lightgray":"#1F75FF"})),S=f.a.p(u||(u=Object(h.a)(["\n  opacity: 0.8;\n  width: 95%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),_=f.a.div(d||(d=Object(h.a)(["\n  display: flex;\n  opacity: 0.8;\n  width: 95%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),N=f.a.button(j||(j=Object(h.a)(["\n  border: none;\n  background: transparent;\n  position: absolute;\n  top: 0;\n  right: 0;\n  > span {\n    color: gray;\n    transition: all .2s ease;\n    &:hover {\n      color: lightgray;\n    }\n  }\n"]))),w=f.a.div(b||(b=Object(h.a)(["\n  padding: 0 45px 0 0;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  > div > p:first-of-type {\n    font-weight: bold;\n  }\n  > .done {\n    text-decoration: ",";\n  }\n  p {\n    margin: 0;\n  }\n"])),(function(e){return e.done?"line-through":"none"})),C=f.a.div(p||(p=Object(h.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 5px;\n"])))},71:function(e,t,n){"use strict";n.d(t,"k",(function(){return x})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return _})),n.d(t,"e",(function(){return N})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return C})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return T})),n.d(t,"a",(function(){return D}));var a,c,r,o,i,s,l,u,d,j,b,p,h,f=n(24),m=n(10),x={borderRadius:"2px"},O={fontSize:"18px",color:"#001529",position:"absolute",top:"4px",right:"2px"},g=(m.a.span(a||(a=Object(f.a)(["\n  font-weight: bold;\n"]))),m.a.span(c||(c=Object(f.a)(["\n  opacity: 0.8;\n"])))),v=m.a.div(r||(r=Object(f.a)(["\n  position: relative;\n"]))),y=m.a.div(o||(o=Object(f.a)(["\n  ::-webkit-scrollbar {\n    height: 5px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: darkgrey;\n  }\n  overflow: auto hidden;\n  height: auto;\n  min-width: 100%;\n  display: flex;\n  justify-content: ",";\n  .droppable-container {\n    min-height: 150px;\n    height: 100%;\n  }\n"])),(function(e){return e.jstctn?"space-evenly":"flex-start"})),k=m.a.div(i||(i=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n  > p {\n    flex: 1 0 50%;\n    margin: 0;\n    padding: 0;\n  }\n  > Input {\n    flex: 1 0 50%;\n  }\n"]))),S=m.a.div(s||(s=Object(f.a)(["\n  overflow: hidden;\n  max-width: 260px;\n  min-width: 260px;\n  margin: 0px 10px;\n  background: white;\n  border-radius: 4px;\n  .ant-pagination.ant-pagination-simple {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 3px;\n  }\n"]))),_=m.a.div(l||(l=Object(f.a)(["\n  border-bottom: 1px solid ",";\n  max-height: 26px;\n  padding: 2px 5px;\n  background: white;\n  color: black;\n  font-weight: 500;\n"])),(function(e){return e.background?e.background:"#001529"})),N=m.a.div(u||(u=Object(f.a)(["\n  position: relative;\n  margin: 0;\n  margin-bottom: 8px;\n  padding: 5px 0;\n  text-align: center;\n  background: white;\n  color: black;\n  font-weight: 500;\n  border-bottom: 4px solid ",';\n  &::before {\n    position: absolute;\n    content: "";\n    display: inline-block;\n    bottom: -20px;\n    right: calc((260px - (8px + 8px)) / 2);\n    border-top: 8px solid ',";\n    border-right: 8px solid transparent;\n    border-left: 8px solid transparent;\n    border-bottom: 8px solid transparent;\n  }\n"])),(function(e){return e.background?e.background:"#001529"}),(function(e){return e.background?e.background:"#001529"})),w=m.a.p(d||(d=Object(f.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: keep-all;\n  width: ",";\n  height: 25px;\n  margin: 0;\n"])),(function(e){return""!==e.width?e.width:"190px"})),C=m.a.div(j||(j=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 8px 3px 8px 8px;\n  margin: 5px 0;\n  border: 1px solid lightgray;\n  border-radius: 1px;\n  background: white;\n  color: black;\n  .funnelStepStudent__first--info {\n    display: flex;\n    flex-direction: column;\n    div:first-of-type {\n      font-weight: bold;\n    }\n    p {\n      margin: 0;\n    }\n    div:last-of-type {\n      margin-bottom: 3px;\n    }\n  }\n  p {\n    margin: 0;\n  }\n"]))),I=m.a.div(b||(b=Object(f.a)(["\n  margin: ",";\n  display: flex;\n  max-width: ","px;\n  overflow: auto hidden;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  padding: ",";\n  &::-webkit-scrollbar {\n    height: 2px;\n    background: white;\n  }\n  &::-webkit-scrollbar-thumb {\n    border: 3px solid lightgray;\n  }\n"])),(function(e){return e.portable?"2.5px 0":"2.5px 0 0 5px"}),(function(e){return e.portable?250:"100%"}),(function(e){return e.contains?"0 0 5px 0":"0"})),T=m.a.p(p||(p=Object(f.a)(["\n  width: fit-content;\n  cursor: pointer;\n  margin: 0 0 2.5px 0;\n  color: #18AEFF;\n  font-weight: 600;\n"]))),D=m.a.div(h||(h=Object(f.a)(["\n  border: 1px solid lightgray;\n  background: white;\n  padding: 5px;\n  > p {\n    margin: 0;\n    opacity: 0.8;\n  }\n  > .name {\n    font-weight: bold;\n  }\n"])))}},[[622,1,2]]]);
//# sourceMappingURL=main.8cdca8ef.chunk.js.map