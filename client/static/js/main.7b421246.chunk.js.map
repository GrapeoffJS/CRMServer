{"version":3,"sources":["url/url.js","alert/alert.js","components/restriction-message/restriction-message.js","components/form-log-In/form-log-in.js","#localStorage_change.js","components/search/search.js","components/home-page/return-age/returnAge.js","components/home-page/#more-functions/getLimit/getLimit.js","components/home-page/#more-functions/pagination/pagination.js","components/home-page/student/subscriptions/subscriptions.js","components/home-page/student/student.js","components/home-page/change-balance/changeBalance.js","components/home-page/group/group-page/PupilsSandTime/PupilsSandTime.js","components/home-page/student/pageStudent/Info-table/InfoTable.js","components/home-page/student/pageStudent/payment-history/paymentHistory.js","components/home-page/student/pageStudent/chat/chat-item/chat.js","components/home-page/student/pageStudent/chat/drawer-chat.js","components/home-page/CheckRole/CheckRole.js","components/home-page/student/pageStudent/balance/balance.js","components/home-page/student/pageStudent/pageStudent.js","components/home-page/group/group.js","components/home-page/#schedule/schedule.js","components/home-page/#schedule/form/scheduleForm.js","components/home-page/#more-functions/add-student_group/add-Student_Group.js","components/home-page/group/group-page/Info-table/InfoTable.js","components/home-page/group/group-page/group-page.js","components/home-page/sales-funnel/sales-funnel.js","components/home-page/upload-pupils/upload-pupils.js","components/table-groups/table-groups.js","components/home-page/#more-functions/change-column/change-column.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js","components/table-pupils/table.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js","components/home-page/home-page.js","components/home-page-tutor/today/lesson-now/table-pupils/table-pupils.js","components/home-page-tutor/today/lesson-now/lesson-now.js","components/home-page-tutor/today/all-lesson/table-groups/table-groups.js","components/home-page-tutor/today/all-lesson/all-lesson.js","components/home-page-tutor/today/today.js","components/home-page-tutor/calendar/calendar.js","components/home-page-tutor/all-pupils/all-pupils.js","components/home-page-tutor/all-groups/all-groups.js","components/home-page-tutor/home-page-tutor.js","components/App.js","index.js"],"names":["Url","MySwalErr","withReactContent","Swal","swallErr","title","text","fire","icon","MySwaGood","swallGood","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","loading","timerInterval","html","showLoading","setInterval","content","getHtmlContainer","b","querySelector","textContent","getTimerLeft","willClose","clearInterval","Swalclose","close","RestrictionMessage","status","FormlogIn","setUser","axios","require","useState","icons","type","eye","setEye","valuePassword","setValuePassword","valueLogin","setValueLogin","disabled","setDisabled","message","setMessage","inputBorder_L","set_I_Border_L","inputBorder_P","set_I_Border_P","valueChangeL","valueChangeP","opacityBtn","LogIn","styled","div","height","button","fontWeight","fontSize","width","borderRadius","transition","borderColor","color","opacity","backgroundColor","label","input","background","i","cursor","border","regLogin","RegExp","regPassword","FormSubmit","e","a","preventDefault","test","method","url","headers","data","login","password","then","res","localStorage","setItem","token","catch","error","response","className","onSubmit","htmlFor","required","onChange","target","value","defaultValue","autoComplete","name","id","onClick","style","localStorage_change","removeItem","SearchAll","setPageStudent","setPageGruop","tutorid","Data","setData","Value","setValue","useEffect","document","getElementById","focus","typingTimer","renderTitle","renderItem","obj","updete","to","display","justifyContent","options","forEach","item","_source","surname","midname","push","GROUP_NAME","onSearchInput","clearTimeout","setTimeout","localUrl","encodeURI","getItem","body","hits","onSearch","Box","paddingBottom","dropdownClassName","dropdownMatchSelectWidth","defaultOpen","size","placeholder","ReturnAge","year","moment","format","month","day","age","diff","console","log","getLimit","Math","round","documentElement","clientHeight","PaginationG","offset","setOffset","count","PaginationI","margin","defaultPageSize","defaultCurrent","total","showSizeChanger","Subscriptions","subscriptions","setSubscriptions","getSubscriptions","Authorization","window","location","replace","subscriptions_box","map","Subs_ons","padding","marginLeft","marginBottom","textAlign","Student","isModalVisible","setIsModalVisible","setLoading","handleCancel","gender","groups","balance","setLoadingButtomFilrer","setFilterDropdownVisible","offsetG","setOffsetG","Count","setCount","borderInput","phoneNumber","parentPhoneNumber","discordNickname","dataInp","setDataInp","_id","users","setUsers","update","param","filtersGroups","filtersLocal","key","ages","$gte","$lt","$lte","p","filters","querySelectorAll","dataSource","trashUser","phone","parentPhone","discord","trash","tutor","dataInput","formSubmit","_d","toISOString","mq","bp","TableL","paddingTop","whiteSpace","formatNSM","getColumn","dataIndex","columns","render","inputMaskLet","onFocus","mask","maskChar","formatChars","pagination","scroll","x","visible","onCancel","footer","action","Change_Balance","sym","pupil_id","updeteStudent","Change","subscription","group_id","returnBalance","PupilsSandTime","itemG","dataGroup","getGroup_Id","setUrlPage","pageInfo","visibleNumber","setVisibleNumber","fixedSchedule","setFixedSchedule","ScheduleItem","localSchedule","dataS","setDataS","Abic","setAbic","axiosPut","mass","ChangeBalic","statusText","liAbic","Item","arr","n","index","hoursCount","paid","price","href","menu","SchedulePupils","breakpoints","Div_box","borderBottom","top","left","zIndex","overflowY","h4","marginRight","maxHeight","overflow","marginTop","overflowX","Span","ul","span","textarea","date","time","time_day","changeDayIndex","addNotes","colorTitle","menuItem","aria-label","visibleLocal","onVisibleChange","s","overlay","trigger","urlPage","page","LinkItem","oplata","decode","accountType","placement","group","pupil","defaultProps","InfoTable","dataStudent","updetePage","newInfo","setVisible","info","onChangeInfoItem","groups_id","spanGroup","menuSurname","menuName","menuMidname","menuParentPhone","menuPhone","menuDiscord","PayHistory","pay_History","pay_HistoryLocal","liInc","unshift","amount","issuer","liDec","h3","li","Chat","notesGlobal","TextArea","Input","CommentList","comments","header","length","itemLayout","props","block","scrollTop","scrollHeight","UserName","setComments","submitting","setSubmitting","locale","rows","htmlType","handleSubmit","author","datetime","DrawerChat","notes","COMEN","closable","onClose","jwt","CheckRole","Balance","balance_item","pageStudent_id","setBalance","incBalance","undefined","PageStudent","useParams","paymentHistory","getStudent_Id","arrIdSch","PupilsSandTimeGroup","StudentPage","paddingRight","paddingLeft","borderRight","h5","right","TablePupils","Group","availableStudents","setAvailableStudents","PUPILS_search","setPUPILS_search","availableTutor","setAvailableTutor","setGroups","getPupils","getGroup","getTUTOR","A_Tutor","PUPILS","setPupils","setGROUP_NAME","PLACES","setPLACES","TUTOR","setTUTOR","LEVEL","setLEVEL","inputSave","SearchValue","setSearchValue","PUPILS_search_Li","ite","PUPILS_btn","splice","tableGroup","GLOBAL_SCHEDULE","PUPILS01","duration","scope","trashGroup","Table","Form","form","PUPILS_ID","regex","arrPupils","filter","Schedule","SchedulE","SpanDay","ScheduleForm","updateGroup","groupID","dataInputs","startDate","endDate","duration_Start","duration_End","weekDay","one","two","three","four","five","six","zero","schedule","FindNeedle","dayNumber","day_end","day_number","inc","PushDay","scheduleItem","checked","AddStydent_Group","PupilsGroup","http","pageId","addPUPILS_Group","idPupil","newSchedule","changeSchedulePupil","respons","itn","itemS","Li","Data_ALL","PUPILS0","AllTutor","setAllTutor","onChangeInfo","menuGROUP_NAME","menuTutor","menuLEVEL","menuPLACES","changeData","data_name","GroupPage","DataALL","setDataALL","arrPayHistory","itemLocal","PUPILS_List","PUPILSandTIME","addPupils_g","SalesFunnel","order","App","alignItems","UploadPupils","accept","authorization","file","join","TableGroups","setParamFilrers","paramFilrers","td","sorter","extra","box","con","fnc","MenuFoldOutlined","Create_Columns_Rows_Groups","dataObj","setDataObj","loadingButtomFilrer","filterDropdownVisible","g","setG","l","setL","setP","o","setO","setN","t","setT","Tutors","setTutors","addTUTOR","OCCUPIED","CheckboxValue","globalFilters","setGlobalFilters","handleSearch","selectedKeys","confirm","FiltersLocal","DataSource","NUMBER_PUPILS","BoxButtom","svg","filtersTutors","Columns","filterDropdown","setSelectedKeys","clearFilters","onPressEnter","dataFilters","defaultChecked","SearchOutlined","paramLocal","filterIcon","CloseCircleOutlined","onFilterDropdownVisibleChange","Visible","per","defaultFilteredValue","Table_Pupils","dataGroupsChecked","globalFiltersG","setGlobalFiltersG","setDataGroupsCheckedG","scrollLeft","Create_Columns_Rows_Pupils","ValueGroup","setValueGroup","objPupils","setObjPupils","setScrollLeft","emptyAge","setEmptyAge","emptyAgeLocal","setS","m","setM","setA","PhoneTitle","setPhoneTitle","setB","d","setD","gr","setGr","setDataGroupsChecked","GroupsCheckedF","setGroupsCheckedF","heapGroups","dataGroupsCheck","emptyAgeGet","getColumnSearchProps","setFilterAxios","aaaaa","SearchGroups","Object","keys","FilterFilled","FILTER","SET_FILTER","HomePage","logOut","Sider","Layout","Header","SubMenu","Menu","collapsed","setCollapsed","Vag","bottom","minHeight","collapsible","onCollapse","theme","defaultSelectedKeys","mode","UploadOutlined","click","UserOutlined","TeamOutlined","DatabaseOutlined","LogoutOutlined","exact","path","component","children","ID_Group","getUser","Column","ColumnGroup","axiosNotes","GLOBAL_ARR_PUPILS","set_GLOBAL_ARR_DAY","GLOBAL_ROW_KEY","set_GLOBAL_ROW_KEY","ARR_PUPILS","RowKeys","setRowKeys","Notes","start","finish","onChangeStatys","titlePupil","progres","rowSelection","selectedRowKeys","onSelect","onSelectAll","onBlur","autoSize","minRows","maxRows","LessonNow","rowKey","setRowKey","GROUP","G","Text","Typography","indexD","Groups","newGroup","setGROUP","groupName","pageSize","AllLesson","gro","Today","indexHours","timeN","groupsAll","dataLes_l","itemGL","indexN","groupCon","indexGroup","sort","itemIN","item2","Content","Сalendar","columns2","fixed","itemf","data2","items","wekDay","wek_day","finalDate","hours","GroupsANDpupils","bordered","AllPupils","AllPupilsBox","AllGroups","FREE_PLACES","TIME","AllGroupsBox","HomePageTutor","onError","Pupils","role","user","getGroups","l_user","mass_id","SiteLayout","ClockCircleOutlined","CalendarOutlined","ReactDOM"],"mappings":"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","file":"static/js/main.7b421246.chunk.js","sourcesContent":["const Url = 'http://crm.3place.ru'; // https://dvmncrm.herokuapp.com\r\nexport default Url;\r\n\r\n// lcp --proxyUrl https://dvmncrm.herokuapp.com/\r\n// http://crm.3place.ru\r\n// http://localhost:8010/proxy\r\n\r\n// client","import React, {useState, useEffect} from 'react';\r\n\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\n\r\nconst MySwalErr = withReactContent(Swal);\r\n\r\nexport const swallErr = (title, text) => {\r\n    MySwalErr.fire({\r\n        icon: \"error\",\r\n        title: title,\r\n        text: text,\r\n    });\r\n};\r\n\r\nconst MySwaGood = withReactContent(Swal);\r\n\r\nexport const swallGood = (title, text) => {\r\n    MySwaGood.fire({\r\n        icon: \"success\",\r\n        title: title,\r\n        text: text,\r\n    });\r\n};\r\n\r\nexport const Toast = Swal.mixin({\r\n    toast: true,\r\n    position: 'top-end',\r\n    showConfirmButton: false,\r\n    timer: 3000,\r\n    timerProgressBar: true,\r\n    didOpen: (toast) => {\r\n        toast.addEventListener('mouseenter', Swal.stopTimer)\r\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n    }\r\n});\r\n\r\nexport const loading = (title, text = '') => {\r\n    let timerInterval\r\n    Swal.fire({\r\n      title: title,\r\n      html: text,\r\n      timerProgressBar: true,\r\n      didOpen: () => {\r\n        Swal.showLoading()\r\n        timerInterval = setInterval(() => {\r\n          const content = Swal.getHtmlContainer()\r\n          if (content) {\r\n            const b = content.querySelector('b')\r\n            if (b) {\r\n              b.textContent = Swal.getTimerLeft()\r\n          }\r\n      }\r\n  }, 100)\r\n    },\r\n    willClose: () => {\r\n        clearInterval(timerInterval)\r\n    }\r\n})\r\n}\r\n\r\nexport const Swalclose = () => {\r\n    Swal.close();\r\n}","import { Toast } from '../../alert/alert.js'\r\n\r\nconst RestrictionMessage = status => {\r\n\tif (status == 403) {\r\n\t\tToast.fire({\r\n\t\t\ticon: 'error',\r\n\t\t\ttitle: 'У вас недостаточно прав для этого действия'\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default RestrictionMessage","import React, {useState, useEffect} from 'react';\r\nimport './form-log-in.css';\r\nimport Url from '../../url/url.js';\r\n\r\nimport {swallErr, Toast} from './../../alert/alert.js';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport RestrictionMessage from '../restriction-message/restriction-message.js'\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst FormlogIn = ({setUser}) => {\r\n\r\n    // let jwt = require('jsonwebtoken');\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    const [eye, setEye] = useState({\r\n        icons: 'bi-eye-fill',\r\n        type: 'password'\r\n    }); // bi-eye-slash-fill\r\n    const [valuePassword, setValuePassword] = useState(''),\r\n        [valueLogin, setValueLogin] = useState('');\r\n\r\n    const [disabled, setDisabled] = useState('submit');\r\n\r\n    // Message\r\n    const [message, setMessage] = useState('Логин');\r\n\r\n    // Style state\r\n    const [inputBorder_L, set_I_Border_L] = useState(''),\r\n        [inputBorder_P, set_I_Border_P] = useState('');\r\n\r\n\r\n    let valueChangeL = valueLogin,\r\n        valueChangeP = valuePassword;\r\n\r\n    const showPassword = () => {\r\n        setValuePassword(valueChangeP);\r\n        setValueLogin(valueChangeL);\r\n\r\n        if (eye.icons === 'bi-eye-fill') {\r\n            setEye({\r\n                icons: 'bi-eye-slash-fill',\r\n                type: 'text'\r\n            });\r\n        } else {\r\n            setEye({\r\n                icons: 'bi-eye-fill',\r\n                type: 'password'\r\n            });\r\n        }\r\n    }\r\n\r\n    // Alert\r\n    const swallGood = () => {\r\n        Toast.fire({\r\n            icon: 'success',\r\n            title: 'Вы успешно вошли в систему'\r\n        });\r\n    }\r\n    // \\alet\r\n\r\n    let opacityBtn = '1';\r\n\r\n    if (disabled == 'button') {\r\n        opacityBtn = '0.3';\r\n    }\r\n\r\n    const LogIn = styled.div({\r\n        height: '500px',\r\n        button: {\r\n            fontWeight: 'bold',\r\n            fontSize: '21px',\r\n            width: '150px',\r\n            borderRadius: '19px',\r\n            transition: '0.3s',\r\n            borderColor: '#007bff',\r\n            color: '#000',\r\n            opacity: `${opacityBtn}`,\r\n            '&:hover': {\r\n                transition: '0.3s',\r\n                backgroundColor: '#f7d99f'\r\n            }\r\n        },\r\n        label: {\r\n            fontSize: '24px',\r\n            fontWeight: '400'\r\n        },\r\n        input: {\r\n            color: '#000',\r\n            fontSize: '20px'\r\n        },\r\n        'input[type=text]': {\r\n            background: 'none'\r\n        },\r\n        'input[type=password]': {\r\n            background: 'none'\r\n        },\r\n        i: {\r\n            cursor: 'pointer'\r\n        },\r\n        '.inputBorder_L': {\r\n            border: `${inputBorder_L}`\r\n        },\r\n        '.inputBorder_P': {\r\n            border: `${inputBorder_P}`\r\n        }\r\n    });\r\n// =============\r\n\r\n\r\n    let regLogin = new RegExp(/^[\\w\\d\\W]{1,40}$/),\r\n        regPassword = new RegExp(/^.{1,40}$/);\r\n\r\n    // console.log(regPassword.test(text));\r\n\r\n    const FormSubmit = async (e) => {\r\n\r\n        setValuePassword(valueChangeP);\r\n        setValueLogin(valueChangeL);\r\n        setMessage('Логин');\r\n\r\n        e.preventDefault();\r\n\r\n        if (!regLogin.test(valueChangeL)) {\r\n            set_I_Border_L('2px solid red');\r\n        } else {\r\n            set_I_Border_L('');\r\n        }\r\n        if (!regPassword.test(valueChangeP)) {\r\n            set_I_Border_P('2px solid red');\r\n        } else {\r\n            set_I_Border_P('');\r\n        }\r\n\r\n        if (regLogin.test(valueChangeL) & regPassword.test(valueChangeP)) {\r\n            setDisabled('button');\r\n\r\n            axios({\r\n                method: 'post',\r\n                url: `${Url}/auth`,\r\n                headers: {\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                },\r\n                data: {\r\n                    login: valueChangeL,\r\n                    password: valueChangeP\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    localStorage.setItem('tokenID', res.data.token)\r\n                    // jwt.decode(localStorage.getItem('tokenID')\r\n\r\n                    setValuePassword('');\r\n                    setValueLogin('');\r\n                    setDisabled('submit');\r\n                    swallGood();\r\n                    setUser(valueChangeL);\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        RestrictionMessage(error.response.status)\r\n                        let {status} = error.response;\r\n                        if (status === 400) {\r\n                            swallErr('Ой..', 'Пользователя не существует');\r\n                            set_I_Border_L('2px solid red');\r\n                            set_I_Border_P('2px solid red');\r\n                            setDisabled('submit');\r\n                        } else {\r\n                            setDisabled('submit');\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <LogIn className=\"LogIn container d-flex align-items-center justify-content-center\">\r\n            <form\r\n                onSubmit={FormSubmit}\r\n                key={'form1'} className=\"col-md-8 col-12\">\r\n                <fieldset>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">{message}</label>\r\n                        <input\r\n                            required\r\n                            onChange={(e) => {\r\n                                valueChangeL = e.target.value\r\n                            }}\r\n                            defaultValue={valueLogin} autoComplete=\"current-password\" type=\"text\"\r\n                            className=\"form-control inputBorder_L\" name='login' id=\"exampleInputEmail1\"/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Пароль</label>\r\n                        <input\r\n                            required\r\n                            onChange={(e) => {\r\n                                valueChangeP = e.target.value\r\n                            }}\r\n                            defaultValue={valuePassword} autoComplete=\"current-password\" type={`${eye.type}`}\r\n                            className=\"form-control inputBorder_P\" name=\"password\" id=\"exampleInputPassword1\"/>\r\n                        <div className=\"password-control\">\r\n                            <div className=\"d-flex justify-content-end\">\r\n                                <i onClick={showPassword} className={`bi ${eye.icons}`}\r\n                                   style={{fontSize: '28px', color: '#F5896C'}}></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        type={disabled} className=\"btn\">Войти\r\n                    </button>\r\n                </fieldset>\r\n            </form>\r\n        </LogIn>\r\n    );\r\n};\r\n\r\nexport default FormlogIn;","const localStorage_change = (token) => {\r\n\tlocalStorage.removeItem('tokenID');\r\n\tlocalStorage.setItem('tokenID', token);\r\n};\r\n\r\nexport default localStorage_change;","import React, {useState, useEffect} from 'react';\r\nimport Url from './../../url/url.js';\r\nimport localStorage_change from './../../#localStorage_change.js';\r\nimport RestrictionMessage from '../restriction-message/restriction-message.js'\r\n\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport { Input, AutoComplete } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst SearchAll = ({setPageStudent, setPageGruop, tutorid = ''}) => {\r\n\r\n  const axios = require('axios'); // AJAX\r\n\r\n  const [Data, setData] = useState([])\r\n  const [Value, setValue] = useState('')\r\n\r\n  useEffect(() => {\r\n    document.getElementById('Search').focus();\r\n  });\r\n\r\n  const onSearch = (value) => {\r\n\r\n    let localUrl = encodeURI(value)\r\n   // ?limit=${getLimit}&offset=${offset}\r\n    axios({\r\n      method: 'get',\r\n      url: `${Url}/CRM/Search/autocompletion?query=${localUrl}${tutorid}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n      }\r\n    })\r\n    .then((res) => {\r\n      setValue(value)\r\n      setData(res.data.body.hits.hits)\r\n    })\r\n    .catch((error) => {\r\n      if (error.response) {\r\n        RestrictionMessage(error.response.status)\r\n      }\r\n    })\r\n  }\r\n\r\n  const renderTitle = (title) => (\r\n    <span>\r\n      {title}\r\n    </span>\r\n  );\r\n\r\n\r\n  const renderItem = (title, obj) => {\r\n\r\n    let updete = () => {},\r\n        url = `/student/${obj.id}`\r\n\r\n    if (obj.type == 'pupil') {\r\n      updete = () => {setPageStudent(obj.id)}\r\n      url = `/student/${obj.id}`\r\n    } else {\r\n      updete = () => {setPageGruop(obj.id)}\r\n      url = `/group/${obj.id}`\r\n    }\r\n\r\n    return ({\r\n      value: title,\r\n      label: (\r\n          <Link\r\n            className=\"link-info\"\r\n            onClick={updete} \r\n            to={url}\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between'\r\n            }}>\r\n\r\n            {title}\r\n          </Link>\r\n        ),\r\n    })\r\n  };\r\n\r\n\r\n  const options = [\r\n    {\r\n      label: renderTitle('Ученики'),\r\n      options: [],\r\n    },\r\n    {\r\n      label: renderTitle('Группы'),\r\n      options: [],\r\n    }\r\n  ];\r\n\r\n  Data.forEach(item => {\r\n\r\n    if (item._source.type == 'pupil') {\r\n\r\n      let {surname, name, midname} = item._source\r\n      options[0].options.push(renderItem(`${surname} ${name} ${midname}`, item._source))\r\n\r\n    } else {\r\n      let {GROUP_NAME} = item._source\r\n      options[1].options.push(renderItem(GROUP_NAME, item._source))\r\n    }\r\n  })\r\n\r\n  let typingTimer                //timer identifier\r\n  let doneTypingInterval = 500  //time in ms (5 seconds)\r\n\r\n  const onSearchInput = (text) => {\r\n    clearTimeout(typingTimer)\r\n    if (text) {\r\n        typingTimer = setTimeout(() => {\r\n            onSearch(text)\r\n        }, doneTypingInterval);\r\n\r\n    } else {\r\n      setValue('')\r\n      setData([])\r\n    }\r\n  }\r\n\r\n\r\n  const Box = styled.div({\r\n    height: '30px',\r\n    input: {\r\n      height: '30px'\r\n    },\r\n    // margin: 'auto 27px',\r\n    '.ant-input-search-button': {\r\n      paddingBottom: 'none'\r\n    }\r\n  })\r\n\r\n\r\n  return (\r\n      <Box>\r\n        <AutoComplete\r\n            dropdownClassName=\"certain-category-search-dropdown\"\r\n            dropdownMatchSelectWidth={500}\r\n            // style={{ width: 250 }}\r\n            options={options}\r\n            defaultOpen={() => {\r\n              if (Value) {\r\n                return true\r\n              } else {\r\n                return false\r\n              }\r\n            }} // открывает поиск при рендеринге\r\n            defaultValue={`${Value}`}\r\n            onSearch={(text) => {\r\n              onSearchInput(text)\r\n            }}\r\n            id='Search'>\r\n\r\n          <Input size=\"large\" placeholder=\"Поиск по CRM\" />\r\n        </AutoComplete>\r\n      </Box>\r\n    );\r\n}\r\n\r\nexport default SearchAll","import moment from 'moment';\r\n\r\nconst ReturnAge = (data) => {\r\n\r\n\tlet year = moment(data).format('YYYY'), // , 'YYYY-MM-DD'\r\n\t    month = moment(data).format('MM'), // , 'YYYY-MM-DD'\r\n\t    day = moment(data).format('DD'); // , 'YYYY-MM-DD'\r\n\t\r\n\tlet age = moment().diff(`${year}-${month}-${day}`, 'years')   \r\n\r\n\tconsole.log(age)\r\n\r\n\treturn age? age : 'Не указан';\r\n}\r\n\r\nexport default ReturnAge;","const getLimit = Math.round(document.documentElement.clientHeight / 55) - 2\r\nexport default getLimit","import React, {useState, useEffect} from 'react';\r\n\r\nimport { Pagination } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\r\n\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst PaginationG = ({offset, setOffset, getItem, count}) => {\r\n\r\n\tconst PaginationI = styled.div({\r\n\t\tmargin: '3px 3px 20px 3px',\r\n\t\t'.ant-pagination-item-link': {\r\n\t\t\theight: '34px'\r\n\t\t}\r\n\t})\r\n\r\n\tconsole.log(offset / getLimit + 1)\r\n\r\n\treturn (\r\n\t\t<PaginationI>\r\n\t\t\t<Pagination \r\n\t\t\t\tdefaultPageSize={getLimit}\r\n\t\t\t\tdefaultCurrent={offset / getLimit + 1} \r\n\t\t\t\ttotal={count} \r\n\t\t\t\tshowSizeChanger={false} \r\n\t\t\t\tonChange={(i) => {\r\n\t\t\t\t\tsetOffset((i-1) * getLimit)\r\n\t\t\t\t\tgetItem((i-1) * getLimit)\r\n\t\t\t\t}}/>\r\n\t\t</PaginationI>\r\n\t)\r\n}\r\n\r\nexport default PaginationG","import React, {useState, useEffect} from 'react';\r\n\r\nimport localStorage_change from '../../../../#localStorage_change.js';\r\nimport Url from '../../../../url/url.js';\r\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst Subscriptions = () => {\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconst [subscriptions, setSubscriptions] = useState([]);\r\n\r\n\tconst getSubscriptions = () => {\r\n\t    axios({\r\n\t        method: \"get\",\r\n\t        url: `${Url}/CRM/Subscriptions`,\r\n\t        headers: {\r\n\t            \"Content-Type\": \"application/json;charset=utf-8\",\r\n\t            Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n\t        },\r\n\t    })\r\n\t        .then((res) => {\r\n\t            setSubscriptions(res.data);\r\n\t        })\r\n\t        .catch((error) => {\r\n\t            if (error.response) {\r\n\t            \tRestrictionMessage(error.response.status)\r\n\t                if (error.response.status === 401) {\r\n\t                    if (error.response.data.message === \"TOKEN_EXPIRED\") {\r\n\t                        localStorage_change(error.response.data.token);\r\n\t                    \tgetSubscriptions();\r\n\t                    } else {\r\n\t                        localStorage.removeItem(\"tokenID\");\r\n\t                        window.location.replace(\"/\");\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetSubscriptions();\r\n\t}, []);\r\n\r\n\r\n\r\n\tlet subscriptions_box = subscriptions.map((item, i) => {\r\n\r\n\t\tlet {name} = item;\r\n\r\n\t\treturn (\r\n\t\t\t<div key={i} className=\"form-check badge bg-warning text-dark\">\r\n\t            \t<input\r\n\t\t                className=\"input-check\"\r\n\t\t                value={name}\r\n\t\t                type=\"checkbox\"\r\n\t\t            />\r\n\t            \t<label className=\"form-check-label\">{name}</label>\r\n\t            \r\n\t        </div>\r\n\t\t);\r\n\t});\r\n\r\n\t// Style\r\n\tconst Subs_ons = styled.div({\r\n\t\tpadding: '0px',\r\n\t\tinput: {\r\n\t\t\tmargin: '0'\r\n\t\t},\r\n\t\t'.form-check': {\r\n\t\t\tmarginLeft: '6px',\r\n\t\t    marginBottom: '5px',\r\n\t\t    width: '179px',\r\n\t\t    textAlign: 'left',\r\n\t\t\tlabel: {\r\n\t\t\t\tpadding: '2px',\r\n\t\t\t    margin: '4px 0 2px 2px',\r\n\t\t\t    fontSize: '15px',\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\r\n\treturn (\r\n\t<Subs_ons className=\"col-12 row\">\r\n\t    <label className=\"form-label col-md-4\">Прикрепить абонементы:</label>\r\n\t    <div className=\"col-md-7\">\r\n\t       \t{subscriptions_box}\r\n\t    </div>\r\n\t</Subs_ons>\r\n\t);\r\n}\r\nexport default Subscriptions;","import React, {useState, useEffect} from 'react'\r\nimport {Modal, Button, Table, Tag} from 'antd'\r\n\r\nimport localStorage_change from '../../../#localStorage_change.js'\r\nimport Url from '../../../url/url.js'\r\nimport ReturnAge from './../return-age/returnAge.js' // Определяет возраст\r\nimport Pagination from './../#more-functions/pagination/pagination.js' // Pagination\r\nimport getLimit from './../#more-functions/getLimit/getLimit.js'\r\nimport RestrictionMessage from '../../restriction-message/restriction-message.js'\r\n\r\nimport Subscriptions from './subscriptions/subscriptions.js'\r\n// Библиотеки\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport moment from 'moment'\r\n\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport InputMask from 'react-input-mask'\r\n// /Библиотеки\r\n\r\nimport styled from '@emotion/styled'\r\nimport './student.css'\r\n\r\nconst Student = ({setPageStudent}) => {\r\n\r\n    const MySwalErr = withReactContent(Swal)\r\n    const swallErr = (value) => {\r\n        MySwalErr.fire({\r\n            icon: 'error',\r\n            title: 'Ой..',\r\n            text: value\r\n        })\r\n    }\r\n\r\n    const MySwaGood = withReactContent(Swal)\r\n    const swallGood = () => {\r\n        MySwaGood.fire({\r\n            icon: 'success',\r\n            title: 'Ученик создан'\r\n        })\r\n    }\r\n\r\n    // Modal\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false)\r\n    }\r\n    // /Modal\r\n\r\n    // Filtered\r\n\r\n    const [paramFilrers, setParamFilrers] = useState({\r\n        surname: [],\r\n        name: [],\r\n        midname: [],\r\n        age: [],\r\n        gender: [],\r\n        groups: [],\r\n        balance: []// {\r\n        // \t$gt: 0, // Больше\r\n        // \t// $lte: 0 // Меньше или равно\r\n        // \t$lt: 0 // Меньше\r\n        // }\r\n    })\r\n    const [dataGroupsCheckedG, setDataGroupsCheckedG] = useState({})\r\n\r\n    const [globalFilters, setGlobalFilters] = useState({\r\n        surname: [],\r\n        name: [],\r\n        midname: [],\r\n        age: []\r\n    })\r\n\r\n    const [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\r\n\r\n    const [filterDropdownVisible, setFilterDropdownVisible] = useState({\r\n        surname: false,\r\n        name: false,\r\n        midname: false,\r\n        age: false\r\n    })\r\n    // /Filtered\r\n\r\n    const [offsetG, setOffsetG] = useState(0)\r\n    const [Count, setCount] = useState(0)\r\n\r\n    const axios = require('axios') // AJAX\r\n\r\n    // Message\r\n    const [message, setMessage] = useState(false)\r\n    let borderInput = ''\r\n    if (message) {\r\n        borderInput = ' border-red'\r\n    }\r\n    // /Message\r\n\r\n    const [dataInp, setDataInp] = useState({\r\n        name: '',\r\n        surname: '',\r\n        midname: '',\r\n        age: '',\r\n        gender: '',\r\n        phoneNumber: '',\r\n        parentPhoneNumber: '',\r\n        discordNickname: ''\r\n    })\r\n\r\n    // const [Token_i, setToken] = useState(Token)\r\n    const [users, setUsers] = useState([\r\n        {\r\n            _id: '45343235456645',\r\n            surname: \"Список пуст...\",\r\n            name: \"\",\r\n            midname: \"\",\r\n            age: \"2004-12-07\",\r\n            gender: \"\",\r\n            phoneNumber: \"\",\r\n            parentPhoneNumber: \"\",\r\n            discordNickname: \"\",\r\n            groups: []\r\n        }\r\n    ])\r\n\r\n    const update = (offset = 0, param = {}, filtersGroups = {}) => {\r\n\r\n        setLoadingButtomFilrer(true)\r\n\r\n        let filtersLocal = {}\r\n\r\n        for (let key in filtersGroups) {\r\n\r\n            if (filtersLocal.groups) {\r\n                filtersLocal.groups.push(key)\r\n            } else {\r\n                filtersLocal.groups = []\r\n                filtersLocal.groups.push(key)\r\n            }\r\n            // filtersLocal.groups = [...filtersLocal.groups]\r\n        }\r\n\r\n        for (let key in param) {\r\n            if (param[key][0]) {\r\n                if (key == 'surname' || key == 'name' || key == 'midname' || key == 'age') {\r\n                    filtersLocal[`${key}s`] = param[key]\r\n                } else {\r\n                    filtersLocal[`${key}`] = param[key]\r\n                }\r\n            }\r\n        }\r\n\r\n        if (filtersLocal.ages) {\r\n            let age = [...filtersLocal.ages]\r\n            filtersLocal.ages = []\r\n            age.forEach(age => {\r\n                filtersLocal.ages.push(+age)\r\n            })\r\n        }\r\n\r\n        if (filtersLocal.balance) {\r\n            let balance = [...filtersLocal.balance]\r\n            if (balance[0] == 1 & !balance[1]) {\r\n                filtersLocal.balance = {$gte: 0}\r\n            } else if (balance[0] == 2 & !balance[1]) {\r\n                filtersLocal.balance = {$lt: 0}\r\n            } else if (balance[1]) {\r\n                filtersLocal.balance = {$gte: 0, $lte: 0}\r\n            }\r\n        }\r\n\r\n        let p = {\r\n            filters: filtersLocal\r\n        }\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`, // ${10 + offset}\r\n            headers: {\r\n                'Content-Type': 'application/jsoncharset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: p\r\n        })\r\n            .then((res) => {\r\n\r\n                let {data, headers} = res\r\n                setUsers(data)\r\n                setCount(headers.count)\r\n\r\n                setFilterDropdownVisible({\r\n                    surname: false,\r\n                    name: false,\r\n                    midname: false\r\n                })\r\n                setLoadingButtomFilrer(false)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    RestrictionMessage(error.response.status)\r\n                    setLoadingButtomFilrer(false)\r\n                    let {status, data} = error.response\r\n                    if (status == 401) {\r\n\r\n                        if (data.message == 'TOKEN_EXPIRED') {\r\n\r\n                            localStorage_change(data.token)\r\n                            update()\r\n                        } else {\r\n\r\n                            localStorage.removeItem('tokenID')\r\n                            window.location.replace(\"/\")\r\n                        }\r\n                    } else if (status == 500) {\r\n                        swallErr('Ошибка сервера')\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        update()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        document.querySelectorAll(\"input\").forEach((item) => {\r\n            item.value = ''\r\n        })\r\n        document.querySelectorAll('select').forEach((item) => {\r\n            item.value = ''\r\n        })\r\n    })\r\n\r\n    const dataSource = []\r\n\r\n    users.forEach((item) => {\r\n\r\n        const trashUser = async () => {\r\n\r\n            axios({\r\n                method: 'DELETE',\r\n                url: `${Url}/CRM/Pupils/${item._id}`,\r\n                headers: {\r\n                    'Content-Type': 'application/jsoncharset=utf-8',\r\n                    'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n                }\r\n            })\r\n                .then((res) => {\r\n                    update(offsetG)\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        RestrictionMessage(error.response.status)\r\n                        let {status, data} = error.response\r\n\r\n                        if (data.message == 'TOKEN_EXPIRED') {\r\n                            localStorage_change(data.token)\r\n                            trashUser()\r\n\r\n                        } else if (status == 401) {\r\n                            localStorage.removeItem('tokenID')\r\n                            window.location.replace(\"/\")\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n\r\n        let {_id, surname, name, midname, age, gender, phone, balance, parentPhone, discord, groups} = item\r\n\r\n        dataSource.push({\r\n            key: _id,\r\n            trash: trashUser,\r\n            surname: () => (\r\n                <Link\r\n                    className=\"link-info\"\r\n                    onClick={() => {\r\n                        setPageStudent(_id)\r\n                    }}\r\n                    to={`/student/${_id}`}>\r\n\r\n                    {surname}\r\n                </Link>\r\n            ),\r\n            name,\r\n            midname,\r\n            age: ReturnAge(age),\r\n            gender,\r\n            phoneNumber: phone,\r\n            tutor: '',\r\n            parentPhoneNumber: parentPhone,\r\n            balance: `${balance}`,\r\n            groups: groups? groups : [],\r\n            discordNickname: discord\r\n        })\r\n    })\r\n\r\n    let dataInput = {\r\n        name: dataInp.name,\r\n        surname: dataInp.surname,\r\n        midname: dataInp.midname,\r\n        age: dataInp.age,\r\n        gender: dataInp.gender,\r\n        phoneNumber: dataInp.phoneNumber,\r\n        parentPhoneNumber: dataInp.parentPhoneNumber,\r\n        discordNickname: dataInp.discordNickname\r\n    }\r\n\r\n    const formSubmit = async (e) => {\r\n\r\n        setLoading(true)\r\n        // setMessage('')\r\n\r\n        let {\r\n            name,\r\n            surname,\r\n            midname,\r\n            login,\r\n            password,\r\n            gender,\r\n            age,\r\n            phoneNumber,\r\n            parentPhoneNumber,\r\n            discordNickname\r\n        } = dataInput\r\n        setDataInp(dataInput)\r\n\r\n        e.preventDefault()\r\n        // fetch(`${Url}/CRM/Pupils`, {\r\n        // \tmethod: 'POST',\r\n        // \theaders: {\r\n        // \t\t'Content-Type': 'application/json;charset=utf-8',\r\n        // \t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n        // \t},\r\n        // \tbody: JSON.stringify({\r\n        // \t\tname: name,\r\n        // \t\tsurname: surname,\r\n        // \t\tmidname: midname,\r\n        // \t\tage: moment(age)._d.toISOString(),\r\n        // \t\tgender: gender,\r\n        // \t\tphone: phoneNumber,\r\n        // \t\tparentPhone: parentPhoneNumber,\r\n        // \t\tdiscord: discordNickname\r\n        // \t})\r\n        // })\r\n        // .then((res) => {\r\n        // \tsetDataInp('')\r\n        // \tsetIsModalVisible(false)\r\n        // \tsetLoading(false)\r\n        // \tswallGood()\r\n        // \tupdate()\r\n        // \tsetMessage(false)\r\n        // })\r\n\r\n        axios({\r\n            method: 'POST',\r\n            url: `${Url}/CRM/Pupils`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: {\r\n                name: name,\r\n                surname: surname,\r\n                midname: midname,\r\n                age: moment(age)._d.toISOString(),\r\n                gender: gender,\r\n                phone: phoneNumber,\r\n                parentPhone: parentPhoneNumber,\r\n                discord: discordNickname\r\n            }\r\n        })\r\n            .then((res) => {\r\n                setDataInp('')\r\n                setIsModalVisible(false)\r\n                setLoading(false)\r\n                swallGood()\r\n                update()\r\n                setMessage(false)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    RestrictionMessage(error.response.status)\r\n                    setLoading(false)\r\n                    let {status, data} = error.response\r\n\r\n                    if (status == 400) {\r\n                        swallErr('Не верно введены данные')\r\n                        setMessage(true)\r\n                    }\r\n                    if (data.message == 'TOKEN_EXPIRED') {\r\n                        localStorage_change(data.token)\r\n                        formSubmit()\r\n                    } else if (status == 401) {\r\n                        localStorage.removeItem('tokenID')\r\n                        window.location.replace(\"/\")\r\n                    } else if (status == 500) {\r\n                        swallErr('Ошибка сервера')\r\n                    }\r\n                    document.querySelector('.nav-item').addEventListener('click', () => {\r\n                        document.querySelectorAll(\"input\").forEach((item) => {\r\n                            item.value = ''\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    const breakpoints = [1020, 700],\r\n        mq = breakpoints.map(\r\n            bp => `@media (max-width: ${bp}px)`\r\n        )\r\n\r\n    const TableL = styled.div({\r\n        padding: '0 30px',\r\n        [mq[1]]: {\r\n            padding: '0 0',\r\n        },\r\n        '.log_h2': {},\r\n        td: {\r\n            paddingTop: '1px',\r\n            paddingBottom: '4px'\r\n        },\r\n        'th, td': {\r\n            whiteSpace: 'nowrap'\r\n        }\r\n    })\r\n\r\n    let formatNSM = {\r\n        'А': '[А-Я]',\r\n        'а': '[А-Яа-яA-Za-z]'\r\n    }\r\n\r\n    const getColumn = (title, dataIndex) => ({\r\n        title: title,\r\n        dataIndex: dataIndex,\r\n    })\r\n\r\n    const columns = [\r\n        {\r\n            title: \"\",\r\n            dataIndex: \"trash\",\r\n            key: \"trash\",\r\n            render: (trash) => {\r\n                if (trash) {\r\n                    return (\r\n                        <i\r\n                            onClick={trash}\r\n                            className=\"bi bi-trash\"\r\n                            style={{\r\n                                fontSize: \"30px\",\r\n                                color: \"#F56767\",\r\n                                cursor: \"pointer\",\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n            },\r\n        },\r\n        {\r\n            ...getColumn(\"Фамилия\", \"surname\"),\r\n            key: \"surname\",\r\n            render: (surname) => {\r\n                if (typeof surname == \"function\") {\r\n                    return surname();\r\n                }\r\n            }\r\n        },\r\n        {\r\n            ...getColumn(\"Имя\", \"name\"),\r\n            key: \"name\"\r\n        },\r\n        {\r\n            ...getColumn(\"Отчество\", \"midname\"),\r\n            key: \"midname\"\r\n        },\r\n        {\r\n            ...getColumn(\"Возраст\", \"age\"),\r\n            key: \"age\"\r\n        },\r\n        {\r\n            ...getColumn(\"Пол\", \"gender\"),\r\n            key: \"gender\"\r\n        },\r\n        {\r\n            ...getColumn(\r\n                \"Номер телефона\",\r\n                \"phoneNumber\"\r\n            ),\r\n            key: \"phoneNumber\"\r\n        },\r\n        {\r\n            ...getColumn(\"Номер телефона родителя\", \"parentPhoneNumber\"),\r\n            key: \"parentPhoneNumber\",\r\n        },\r\n        {\r\n            ...getColumn(\"Баланс\", \"balance\"),\r\n            key: \"balance\"\r\n        },\r\n        {\r\n            ...getColumn(\"Группы\", \"groups\"),\r\n            key: \"groups\",\r\n            render: (groups) => {\r\n                if (typeof groups.map == \"function\") {\r\n                    return (\r\n                        <>\r\n                            {groups.map((item) => (\r\n                                <Tag\r\n                                    color=\"blue\"\r\n                                    key={`${item._id}${item.GROUP_NAME}`}\r\n                                >\r\n                                    {item.GROUP_NAME}\r\n                                </Tag>\r\n                            ))}\r\n                        </>\r\n                    );\r\n                }\r\n            }\r\n        },\r\n        {\r\n            ...getColumn(\"Дискорд никнейм\", \"discordNickname\"),\r\n            key: \"discordNickname\",\r\n        },\r\n    ]\r\n\r\n    let inputMaskLet = (\r\n        <InputMask\r\n            onFocus={() => {\r\n                document.querySelector(\"#inputSirname\").value = ''\r\n            }}\r\n            mask=\"ааааааааааааааааааааааааа\" maskChar={null} formatChars={formatNSM} autoComplete='off'\r\n            onChange={(e) => {\r\n                dataInput.surname = e.target.value\r\n            }} required type=\"text\" name=\"surname\" className={`form-control${borderInput}`} id=\"inputSirname\"/>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\r\n                <div className=\"container-fluid d-flex\">\r\n                    <div className=\"collapse d-flex flex-row h3-person\">\r\n                        <div className=\"d-flex plus-box\">\r\n                            <div>\r\n                                <h3>Ученики</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"collapse d-flex flex-row-reverse\" id=\"navbarScroll\">\r\n                        <div className=\"d-flex plus-box\">\r\n                            <div\r\n                                className=\"nav-item plus\"\r\n                                onClick={showModal}\r\n                            >\r\n                                <i className=\"bi bi-person-plus\" style={{fontSize: '38px', color: '#F56767'}}></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n\r\n            <TableL className=''>\r\n                <div>\r\n                    <div className={`table_user`}>\r\n                        <Table\r\n                            pagination={false}\r\n                            dataSource={dataSource}\r\n                            columns={columns}\r\n                            scroll={{x: 0}}>\r\n                        </Table>\r\n                    </div>\r\n                    <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\r\n                </div>\r\n            </TableL>\r\n            <Modal\r\n                title=\"Добавить ученика\"\r\n                visible={isModalVisible}\r\n                onCancel={handleCancel}\r\n                width={1000}\r\n                footer={[\r\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\r\n                        Отмена\r\n                    </Button>,\r\n                    <Button\r\n                        key=\"onOk1\"\r\n                        onClick={formSubmit}\r\n                        loading={loading}\r\n                        type=\"primary\"\r\n                    >\r\n                        Сохранить\r\n                    </Button>\r\n                ]}\r\n            >\r\n                <form action=\"#\" method=\"post\">\r\n                    <div className=\"modal-body\">\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Фамилия</label>\r\n                            <div className=\"col-sm-8\">\r\n                                {inputMaskLet}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputName\" className=\"fs-5 col-sm-4 col-form-label\">Имя</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <InputMask\r\n                                    onFocus={() => {\r\n                                        document.querySelector(\"#inputname\").value = ''\r\n                                    }}\r\n                                    mask=\"ааааааааааааааааааааааааа\" maskChar={null} formatChars={formatNSM}\r\n                                    autoComplete='off' onChange={(e) => {\r\n                                    dataInput.name = e.target.value\r\n                                }} required type=\"text\" name=\"name\" className={`form-control${borderInput}`}\r\n                                    id=\"inputname\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputMidname\" className=\"fs-5 col-sm-4 col-form-label\">Отчество</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <InputMask\r\n                                    onFocus={() => {\r\n                                        document.querySelector(\"#inputMidname\").value = ''\r\n                                    }}\r\n                                    mask=\"ааааааааааааааааааааааааа\" maskChar={null} formatChars={formatNSM}\r\n                                    autoComplete='off' onChange={(e) => {\r\n                                    dataInput.midname = e.target.value\r\n                                }} required type=\"text\" name=\"midname\" className={`form-control${borderInput}`}\r\n                                    id=\"inputMidname\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputName\" className=\"fs-5 col-sm-4 col-form-label\">Возраст</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input autoComplete='off' onChange={(e) => {\r\n                                    dataInput.age = e.target.value\r\n                                }} required type=\"date\" className={`form-control${borderInput}`} id=\"inputDate\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputMidname\" className=\"fs-5 col-sm-4 col-form-label\">Номер\r\n                                Телефона</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <InputMask\r\n                                    onFocus={() => {\r\n                                        document.querySelector(\"#inputTel\").value = ''\r\n                                    }}\r\n                                    autoComplete='off' onChange={(e) => {\r\n                                    dataInput.phoneNumber = e.target.value\r\n                                }} type=\"tel\" name=\"tel\" className={`form-control`} id=\"inputTel\"\r\n                                    mask=\"+9 (999) 999-99-99\" placeholder='Не обязательно'/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputName\" className=\"fs-5 col-sm-4 col-form-label\">Номер телефона\r\n                                родителя</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <InputMask\r\n                                    onFocus={() => {\r\n                                        document.querySelector(\"#inputParent\").value = ''\r\n                                    }}\r\n                                    autoComplete='off' onChange={(e) => {\r\n                                    dataInput.parentPhoneNumber = e.target.value\r\n                                }} type=\"tel\" name=\"parentPhone\" className={`form-control${borderInput}`}\r\n                                    id=\"inputParent\" mask=\"+9 (999) 999-99-99\" required/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Дискорд\r\n                                никнейм</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input autoComplete='off' onChange={(e) => {\r\n                                    dataInput.discordNickname = e.target.value\r\n                                }} type=\"text\" name=\"surname\" className={`form-control`} id=\"inputDiscord\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Пол</label>\r\n                            <div className=\"col-sm-8 input-group\">\r\n                                <select defaultValue=' ' onChange={(e) => {\r\n                                    dataInput.gender = e.target.value\r\n                                }} required className=\"form-control\" id=\"inputGroupSelect01\">\r\n                                    <option defaultValue></option>\r\n                                    <option value=\"Мужской\">Мужской</option>\r\n                                    <option value=\"Женский\">Женский</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <Subscriptions/>\r\n                    </div>\r\n                </form>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Student","import Url from './../../../url/url.js';\r\nimport localStorage_change from './../../../#localStorage_change.js';\r\nimport {swallGood, swallErr} from './../../../alert/alert.js';\r\nimport RestrictionMessage from '../../restriction-message/restriction-message.js'\r\n\r\nconst Change_Balance = (sym, pupil_id, updeteStudent, Change = () => {}, subscription, group_id, returnBalance) => {\r\n\t\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\taxios({\r\n\t\tmethod: \"post\",\r\n\t\turl: `${Url}/CRM/Pupils/${pupil_id}/Payment?amount=${+sym}&subscription=${subscription}&group_id=${group_id}`, // amount&subscription&group_id \r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json;charset=utf-8\",\r\n\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n\t\t},\r\n\t})\r\n\t.then((res) => {\r\n\t\tChange();\r\n\t\tupdeteStudent();\r\n\t})\r\n\t.catch((error) => {\r\n\t\tif (error.response) {\r\n\t\t\treturnBalance()\r\n\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\tif (error.response.status === 401) {\r\n\t\t\t\tif (error.response.data.message === \"TOKEN_EXPIRED\") {\r\n\t\t\t\t\tlocalStorage_change(error.response.data.token);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlocalStorage.removeItem(\"tokenID\");\r\n\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tupdeteStudent();\r\n\t\t\tswallErr(\"Не удалось пополнить баланс\", \"Попробуйте снова\");\r\n\t\t}\r\n\t});\r\n\r\n}\r\n\r\nexport default Change_Balance;","import React, {useState, useEffect} from 'react';\r\nimport {Menu, Dropdown, Popover} from 'antd';\r\n\r\nimport Url from './../../../../../url/url.js';\r\nimport localStorage_change from './../../../../../#localStorage_change.js';\r\nimport {swallGood, swallErr} from './../../../../../alert/alert.js';\r\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\r\n\r\nimport Change_Balance from './../../../change-balance/changeBalance.js';\r\n\r\nimport moment from 'moment';\r\nimport {Link} from \"react-router-dom\";\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst PupilsSandTime = ({itemG, dataGroup, getGroup_Id, setData, surname, name, setUrlPage, pageInfo, type}) => {\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    const [visibleNumber, setVisibleNumber] = useState('-1')\r\n    // const [trigger, setTrigger] = useState('click')\r\n\r\n    const [fixedSchedule, setFixedSchedule] = useState(['fixedSchedule-H', '', 'bi-plus-circle']);\r\n\r\n    let ScheduleItem = itemG.localSchedule[`${dataGroup}`] ? itemG.localSchedule[`${dataGroup}`] : []\r\n\r\n    const [dataS, setDataS] = useState(ScheduleItem);\r\n    // const [dataS, setDataS] = useState([]);\r\n\r\n    // console.log(itemG)\r\n\r\n    const revers = () => {\r\n        if (fixedSchedule[0] == 'fixedSchedule-H') {\r\n            setFixedSchedule(['scheblueFixet', ' global-fon3000', 'bi-x-circle']);\r\n        } else {\r\n            setFixedSchedule(['fixedSchedule-H', '', 'bi-plus-circle']);\r\n        }\r\n    }\r\n\r\n    const addNotes = (text, axiosPut = () => {\r\n    }) => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Pupils/${itemG._id}/Notes`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: {\r\n                text: text\r\n            }\r\n        })\r\n        .then(() => {\r\n            // getGroup_Id()\r\n            axiosPut()\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                getGroup_Id()\r\n            }\r\n        })\r\n    }\r\n\r\n    const [Abic, setAbic] = useState([]);\r\n\r\n    const getAbic = () => {\r\n        axios({\r\n            method: \"get\",\r\n            url: `${Url}/CRM/Subscriptions`,\r\n            headers: {\r\n                \"Content-Type\": \"application/json;charset=utf-8\",\r\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n            },\r\n        })\r\n        .then((res) => {\r\n            setAbic(res.data);\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data, statusText} = error.response;\r\n\r\n                if (status == 404) {\r\n                    swallErr(\"Error 404\", \"Сервер не найден\");\r\n                } else if (status == 401) {\r\n                    if (data.message == \"TOKEN_EXPIRED\") {\r\n                        localStorage_change(error.response.data.token);\r\n                        getGroup_Id();\r\n                    } else {\r\n                        localStorage.removeItem(\"tokenID\");\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const axiosPut = (mass, ChangeBalic = () => {\r\n    }) => {\r\n        axios({\r\n            method: 'put',\r\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}/Schedule`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: mass\r\n        })\r\n        .then((res) => {\r\n            ChangeBalic()\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data, statusText} = error.response;\r\n\r\n                if (status == 404) {\r\n\r\n                    swallErr('Error 404', 'Сервер не найден');\r\n\r\n                } else if (status == 401) {\r\n\r\n                    if (data.message == 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(error.response.data.token);\r\n                        getGroup_Id();\r\n                    } else {\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const liAbic = Abic.map((item, i) => {\r\n        const PaySubscription = () => {\r\n            let arr = [...dataS];\r\n\r\n            let n = 0,\r\n                index = 0;\r\n            while (n < item.hoursCount) {\r\n                if (!arr[index].paid) {\r\n                    arr[index].paid = true;\r\n                    n++;\r\n                }\r\n                index++;\r\n            }\r\n\r\n            let updete = () => {\r\n            }; // Не обращяй внимание.\r\n\r\n            axiosPut(arr, () => {\r\n                Change_Balance(`-${item.price}`, itemG._id, updete, getGroup_Id, item.name, dataGroup, () => {\r\n                    axiosPut(arr)\r\n                })\r\n            });\r\n            setDataS(arr);\r\n        }\r\n        return (\r\n            <Menu.Item key={i} className=\"li\">\r\n\t\t\t\t<span\r\n                    onClick={PaySubscription}\r\n                    className=\"dropdown-item bg-info text-light\"\r\n                    href=\"#\">\r\n\t\t\t\t\t{item.name}\r\n\t\t\t\t</span>\r\n            </Menu.Item>);\r\n    });\r\n\r\n    const menu = (\r\n        <Menu>\r\n            {liAbic}\r\n        </Menu>\r\n    )\r\n\r\n    useEffect(() => {\r\n        getAbic();\r\n    }, []);\r\n\r\n    const breakpoints = [780, 1380, 2002], // 619, 1238, 1857, > 2476\r\n        mq = breakpoints.map(\r\n            bp => `@media (max-width: ${bp}px)`\r\n        ),\r\n        mqMin = breakpoints.map(\r\n            bp => `@media (min-width: ${bp}px)`\r\n        );\r\n\r\n\r\n    const Div_box = styled.div({\r\n        borderBottom: '1px solid #91A8B0',\r\n        paddingBottom: '5px',\r\n        marginBottom: '5px',\r\n        i: {\r\n            color: '#17a2b8',\r\n            fontSize: '26px',\r\n            cursor: 'pointer',\r\n            paddingTop: '10px'\r\n        },\r\n        '.global-fon3000': {\r\n            position: 'fixed',\r\n            top: '0',\r\n            left: '0',\r\n            zIndex: '99',\r\n            height: '100vh',\r\n            background: 'rgba(0, 0, 0, 0.6)',\r\n            overflowY: 'scroll',\r\n            i: {\r\n                position: 'fixed',\r\n                top: '3px',\r\n                left: '7px',\r\n                color: '#fff'\r\n            },\r\n            '.bi-trash': {\r\n                display: 'none'\r\n            }\r\n        },\r\n        h4: {\r\n            display: 'inline-block',\r\n            marginRight: '10px',\r\n            marginBottom: '19px'\r\n        },\r\n        '.fixedSchedule-H': {\r\n            maxHeight: '81px',\r\n            overflow: 'hidden'\r\n        },\r\n\r\n        '.scheblueFixet': {\r\n            margin: '0 auto',\r\n            marginTop: '50px',\r\n            width: '86%'\r\n        },\r\n        '.fixedSchedule-H, .scheblueFixet': {\r\n            overflow: 'hidden',\r\n            width: '2476px',\r\n            [mq[2]]: {\r\n                width: '1857px'\r\n            },\r\n            [mq[1]]: {\r\n                width: '1238px'\r\n            },\r\n            [mq[0]]: {\r\n                width: '619px'\r\n            },\r\n        },\r\n        '.boxDay': {\r\n            overflowX: 'auto',\r\n            padding: '0 0 10px 0',\r\n            '&::-webkit-scrollbar': {\r\n                height: '10px',\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                borderRadius: '10px'\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n                backgroundColor: '#17a2b8',\r\n                borderRadius: '10px'\r\n            }\r\n        }\r\n    });\r\n\r\n    let Span = styled.div({ // День из расписания ученика.\r\n        margin: '0 3px 0 0',\r\n        position: 'initial',\r\n        button: {\r\n            fontSize: '15px',\r\n            fontWeight: '600',\r\n            padding: '1px 7px',\r\n            width: '71px'\r\n        },\r\n        '.btnAbic': {\r\n            width: '100%'\r\n        },\r\n        ul: {\r\n            border: 'none',\r\n            background: 'rgba(0, 0, 0, 0.3)',\r\n            padding: '6px'\r\n        },\r\n        '.li': {\r\n            border: 'none',\r\n            background: 'rgba(0, 0, 0, 0)',\r\n            span: {\r\n                borderRadius: '6px',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n            },\r\n            '.input-group-text': {\r\n                margin: '0',\r\n                borderRadius: '6px 0 0 6px'\r\n            },\r\n            textarea: {\r\n                padding: '2px 7px',\r\n                fontWeight: '500'\r\n            }\r\n        }\r\n    });\r\n\r\n    let SchedulePupils;\r\n\r\n    let index = 1;\r\n\r\n    SchedulePupils = dataS.map((item, i) => {\r\n        let marginRight = 0;\r\n        if (index == 8) {\r\n            marginRight = 27;\r\n            index = 1;\r\n        } else {\r\n            index++;\r\n        }\r\n\r\n        let day = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\r\n\r\n        let color = '#f8f9fa',\r\n            opacity = '1';\r\n\r\n        let time = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\r\n            time_day = moment().diff(time, 'day');\r\n\r\n        if (item.paid & item.status != 3 & time_day <= 0) {\r\n            color = '#17a2b8';\r\n        } else if (item.status == 3 & time_day <= 0) {\r\n            color = '#6c757d'\r\n        } else if (item.status == 3 & item.paid) {\r\n            color = '#dc3545';\r\n        } else if (time_day > 0 & item.paid) {\r\n            color = '#28a745';\r\n        } else if (time_day > 0 & !item.paid & item.status != 3) {\r\n            color = '#28a745';\r\n            opacity = '0.5';\r\n        } else if (time_day > 0 & !item.paid & item.status == 3) {\r\n            color = '#dc3545';\r\n            opacity = '0.5';\r\n        }\r\n\r\n        const changeDayIndex = (index) => {\r\n            let arr = [...dataS];\r\n\r\n            if (index == 2 & arr[i].status == 3) {\r\n                arr[i].status = index;\r\n\r\n                axiosPut(arr);\r\n                setDataS(arr);\r\n\r\n            } else if (index == 3 & time_day < 0) {\r\n                arr[i].status = index;\r\n\r\n                axiosPut(arr);\r\n                setDataS(arr);\r\n            } else if (index != 3 & index != 2) {\r\n                arr[i].title = index;\r\n                addNotes(index, () => {\r\n                    axiosPut(arr)\r\n                })\r\n                // axiosPut(arr);\r\n                setDataS(arr);\r\n            } else {\r\n                swallErr('Не возможно установить статус');\r\n            }\r\n        };\r\n\r\n        const Item = styled.span({\r\n            marginRight: `${marginRight}px`\r\n        })\r\n        let title = '';\r\n        let colorTitle = '';\r\n        if (item.title) {\r\n            colorTitle = '#ffc107';\r\n        }\r\n\r\n        const menuItem = (\r\n            <Menu key={day}>\r\n                <Menu.Item key={`${day}1`}>\r\n                    <span onClick={() => {\r\n                        changeDayIndex('3')\r\n                    }} className=\"dropdown-item bg-secondary text-light\" href=\"#\">Пропустил</span>\r\n                </Menu.Item>\r\n                <Menu.Item key={`${day}2`}>\r\n                    <span onClick={() => {\r\n                        changeDayIndex('2')\r\n                    }} className=\"dropdown-item bg-success text-light\" href=\"#\">Урок пройден</span>\r\n                </Menu.Item>\r\n                <Menu.Item key={`${day}3`}>\r\n                    <div className=\"input-group\">\r\n\t\t\t\t\t\t\t\t<span\r\n                                    onClick={() => {\r\n                                        changeDayIndex(title)\r\n                                        setVisibleNumber('')\r\n                                    }}\r\n                                    className=\"input-group-text bg-info text-light\"\r\n                                >\r\n\t\t\t\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t\t\t\t</span>\r\n                        <textarea\r\n                            placeholder='Оставьте заметку...'\r\n                            defaultValue={item.title}\r\n                            onChange={(e) => {\r\n                                title = e.target.value\r\n                            }}\r\n                            className=\"form-control\" aria-label=\"With textarea\"\r\n                        ></textarea>\r\n                    </div>\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n\r\n        let visibleLocal = false\r\n\r\n        if (visibleNumber === i) {\r\n            visibleLocal = true\r\n        } else if (visibleNumber === '') {\r\n            visibleLocal = false\r\n        }\r\n\r\n        return (\r\n            <Item key={`${day}${i}`}>\r\n                <Span className=\"btn-group\">\r\n                    <Dropdown\r\n                        onVisibleChange={(s) => {\r\n                            // if (visibleNumber === i) {\r\n                            // \tsetVisibleNumber('')\r\n                            // } else {\r\n                            // \tsetVisibleNumber(i)\r\n                            // }\r\n                            console.log(s)\r\n                        }}\r\n                        overlay={menuItem}\r\n                        visible={visibleLocal}\r\n                        trigger={['click']}\r\n                    >\r\n                        <button\r\n                            type=\"button\"\r\n                            style={{color: `${colorTitle}`, background: `${color}`, opacity: `${opacity}`}}\r\n                            className={`btn dropdown-toggle`}\r\n                            onClick={() => {\r\n                                if (visibleNumber === i) {\r\n                                    setVisibleNumber('')\r\n                                } else {\r\n                                    setVisibleNumber(i)\r\n                                }\r\n                            }}\r\n                        >\r\n                            {day}\r\n                        </button>\r\n                    </Dropdown>\r\n                </Span>\r\n            </Item>\r\n        );\r\n    });\r\n\r\n    let urlPage = itemG._id,\r\n        page = 'student';\r\n    if (pageInfo) {\r\n        page = pageInfo;\r\n        urlPage = dataGroup;\r\n    }\r\n    let LinkItem = (\r\n        <Link\r\n            onClick={() => {\r\n                setUrlPage(urlPage)\r\n            }}\r\n            to={`/${page}/${urlPage}`}>\r\n            <h4>{`${surname} ${name}`}</h4>\r\n        </Link>\r\n    );\r\n\r\n    let oplata = ''\r\n\r\n    let jwt = require('jsonwebtoken');\r\n    if (jwt.decode(localStorage.getItem('tokenID')).accountType != 'teacher') {\r\n        oplata = (\r\n            <span>\r\n\t\t\t\t\t<Span className=\"btn-group\">\r\n\t\t\t\t\t\t<Dropdown overlay={menu} trigger={['click']}>\r\n\t\t\t\t\t\t\t<button\r\n                                type=\"button\"\r\n                                className={`btn btn-success dropdown-toggle btnAbic`}\r\n                            >\r\n\t\t\t\t\t\t\t\tОплатить\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</Span>\r\n\t\t\t\t</span>\r\n        )\r\n    }\r\n\r\n    const deletePupils = () => {\r\n\r\n        console.log(itemG, dataGroup)\r\n        axios({\r\n            method: 'delete',\r\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then(res => {\r\n\r\n            let {group, pupil} = res.data\r\n\r\n            if (type == 'group') {\r\n                setData(group)\r\n            } else if (type == 'pupil') {\r\n                setData(pupil)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Div_box key={itemG._id} className=\"table\">\r\n            <div className=\"pupils-item row\">\r\n                <div className=\"col-12\">\r\n                    {LinkItem}\r\n                    {oplata}\r\n                </div>\r\n                <div className={`col-12${fixedSchedule[1]}`}>\r\n                    <div className=\"boxDay\">\r\n                        <div className={`${fixedSchedule[0]}`}>\r\n                            {SchedulePupils}\r\n                        </div>\r\n                    </div>\r\n                    <i onClick={() => {\r\n                        revers()\r\n                    }} className={`bi ${fixedSchedule[2]}`}></i>\r\n                    <Popover\r\n                        title={'Внимание'}\r\n                        content={'Удаление ученика из группы'}\r\n                        placement=\"right\"\r\n                        trigger={'hover'}\r\n                    >\r\n                        <i\r\n                            onClick={deletePupils}\r\n                            className='bi bi-trash'\r\n                            style={{color: 'rgb(245, 103, 10', marginLeft: '10px'}}></i>\r\n                    </Popover>\r\n                </div>\r\n            </div>\r\n        </Div_box>\r\n    );\r\n};\r\n\r\nPupilsSandTime.defaultProps = {\r\n    surname: ''\r\n}\r\n\r\nexport default PupilsSandTime;","import React, {useState, useEffect} from 'react';\r\nimport { Menu, Dropdown, DatePicker } from 'antd';\r\nimport moment from 'moment';\r\n\r\nimport Url from './../../../../../url/url.js';\r\nimport localStorage_change from './../../../../../#localStorage_change.js';\r\nimport ReturnAge from './../../../return-age/returnAge.js';\r\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\r\n\r\nimport InputMask from 'react-input-mask';\r\n\r\nimport {Toast, loading, Swalclose} from './../../../../../alert/alert.js';\r\n\r\n// Style\r\nimport styled from '@emotion/styled';\r\n\r\nconst InfoTable = ({dataStudent, updetePage}) => {\r\n\r\n\tlet newInfo = {};\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconst [visible, setVisible] = useState('')\r\n\r\n\tconst [info, setInfo] = useState(dataStudent),\r\n\t\t  {groups, name, surname, midname, gender, age, phone, parentPhone, discord, _id} = info;\r\n\r\n\tconst onChangeInfo = () => {\r\n\t\taxios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: `${Url}/CRM/Pupils/${_id}`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tif (newInfo.name) {\r\n\t\t\t\tupdetePage(res.data);\r\n\t\t\t\tconsole.log(newInfo);\r\n\t\t\t} else {\r\n\t\t\t\tsetInfo(res.data);\r\n\t\t\t}\r\n\t\t\tSwalclose();\r\n\t\t\tToast.fire({\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: 'Изменения сохранены'\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tconst onChangeInfoItem = () => {\r\n\r\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'patch',\r\n\t\t\turl: `${Url}/CRM/Pupils/${_id}`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t},\r\n\t\t\tdata: newInfo\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tupdetePage(res.data)\r\n\t\t\tSwalclose();\r\n\t\t\tToast.fire({\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: 'Изменения сохранены'\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tlet groups_id = [];\r\n\r\n\tlet spanGroup = groups.map((item, i) => {\r\n\t\tgroups_id.push(item.GROUP_NAME); \r\n\treturn <span key={item._id} className={`badge bg-light text-dark`}>{item.GROUP_NAME}</span>;\r\n\t}); \r\n\r\n\tconst InfoTable = styled.ul({\r\n\t\t'.ant-picker': {\r\n\t\t\tspan: {\r\n\t\t\t\tmargin: '0'\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.ant-picker-input': {\r\n\t\t\tinput: {\r\n\t\t\t\twidth: '127px'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tconst menuSurname = (\r\n\t\t<Menu>\r\n\t\t    <Menu.Item>\r\n\t\t    \t<input\r\n\t\t\t\t\tplaceholder=\"Поменять фамилию\"\r\n\t\t\t\t\tonChange={(e) => {newInfo = {surname: `${e.target.value}`}}} \r\n\t\t\t\t\ttype=\"text\" className=\"text-dark form-control col-12\"/>\r\n\t\t    </Menu.Item>\r\n\t\t    <Menu.Item>\r\n\t\t\t    <span\r\n\t\t\t\t    onClick={() => {\r\n\t\t\t\t    \tsetVisible('')\r\n\t\t\t\t    \tonChangeInfoItem()\r\n\t\t\t\t    }} \r\n\t\t\t\t    className=\"badge bg-warning text-dark save\">\r\n\t\t\t\t    Сохранить\r\n\t\t\t    </span>\r\n\t\t    </Menu.Item>\r\n\t\t</Menu>\r\n\t)\r\n\tconst menuName = (\r\n\t\t<Menu>\r\n\t\t    <Menu.Item>\r\n\t\t    \t<input\r\n\t\t\t    \tplaceholder=\"Новое имя\"\r\n\t\t\t    \tonChange={(e) => {newInfo = {name: `${e.target.value}`}}} \r\n\t\t\t    \ttype=\"text\" className=\"text-dark form-control col-12\"/>\r\n\t\t    </Menu.Item>\r\n\t\t    <Menu.Item>\r\n\t\t\t    <span\r\n\t\t\t\t    onClick={() => {\r\n\t\t\t\t    \tsetVisible('')\r\n\t\t\t\t    \tonChangeInfoItem()\r\n\t\t\t\t    }} \r\n\t\t\t\t    className=\"badge bg-warning text-dark save\">\r\n\t\t\t\t    Сохранить\r\n\t\t\t    </span>\r\n\t\t    </Menu.Item>\r\n\t\t</Menu>\r\n\t)\r\n\tconst menuMidname = (\r\n\t\t<Menu>\r\n\t\t    <Menu.Item>\r\n\t\t    \t<input\r\n\t\t\t    \tplaceholder=\"Изменить поле...\"\r\n\t\t\t    \tonChange={(e) => {newInfo = {midname: `${e.target.value}`}}} \r\n\t\t\t    \ttype=\"text\" className=\"text-dark form-control col-12\"/>\r\n\t\t    </Menu.Item>\r\n\t\t    <Menu.Item>\r\n\t\t\t    <span\r\n\t\t\t\t    onClick={() => {\r\n\t\t\t\t    \tonChangeInfoItem()\r\n\t\t\t\t    \tsetVisible('')\r\n\t\t\t\t    }} \r\n\t\t\t\t    className=\"badge bg-warning text-dark save\">\r\n\t\t\t\t    Сохранить\r\n\t\t\t    </span>\r\n\t\t    </Menu.Item>\r\n\t\t</Menu>\r\n\t)\r\n\tconst menuParentPhone = (\r\n\t\t<Menu>\r\n\t\t    <Menu.Item>\r\n\t\t\t    <InputMask\r\n\t\t\t    \tmask='+9 (999) 999-99-99'\r\n\t\t\t    \tplaceholder=\"Новый номер\"\r\n\t\t\t    \tonChange={(e) => {newInfo = {parentPhone: `${e.target.value}`}}} \r\n\t\t\t    \ttype=\"text\" className=\"text-dark form-control col-12\"/>\r\n\t\t    </Menu.Item>\r\n\t\t    <Menu.Item>\r\n\t\t\t    <span\r\n\t\t\t\t    onClick={() => {\r\n\t\t\t\t    \tonChangeInfoItem()\r\n\t\t\t\t    \tsetVisible('')\r\n\t\t\t\t    }} \r\n\t\t\t\t    className=\"badge bg-warning text-dark save\">\r\n\t\t\t\t    Сохранить\r\n\t\t\t    </span>\r\n\t\t    </Menu.Item>\r\n\t\t</Menu>\r\n\t)\r\n\tconst menuPhone = (\r\n\t\t<Menu>\r\n\t\t    <Menu.Item>\r\n\t\t\t    <InputMask\r\n\t\t\t\t    mask='+9 (999) 999-99-99'\r\n\t\t\t\t    placeholder=\"Новый номер\"\r\n\t\t\t\t    onChange={(e) => {newInfo = {phone: `${e.target.value}`}}} \r\n\t\t\t\t    type=\"text\" className=\"text-dark form-control col-12\"/>\r\n\t\t    </Menu.Item>\r\n\t\t    <Menu.Item>\r\n\t\t    \t<span\r\n\t\t\t\t    onClick={() => {\r\n\t\t\t\t    \tonChangeInfoItem()\r\n\t\t\t\t    \tsetVisible('')\r\n\t\t\t\t    }} \r\n\t\t\t\t    className=\"badge bg-warning text-dark save\">\r\n\t\t\t\t    Сохранить\r\n\t\t\t    </span>\r\n\t\t    </Menu.Item>\r\n\t\t</Menu>\r\n\t)\r\n\tconst menuDiscord = (\r\n\t\t<Menu>\r\n\t\t\t<Menu.Item>\r\n\t\t\t\t<input\r\n\t\t\t\t\tplaceholder=\"Изменить NickName\"\r\n\t\t\t\t\tonChange={(e) => {newInfo = {discord: `${e.target.value}`}}} \r\n\t\t\t\t\ttype=\"text\" className=\"text-dark form-control col-12\"/>\r\n\t\t    </Menu.Item>\r\n\t\t    <Menu.Item>\r\n\t\t    \t<span\r\n\t\t\t\t    onClick={() => {\r\n\t\t\t\t    \tonChangeInfoItem()\r\n\t\t\t\t    \tsetVisible('')\r\n\t\t\t\t    }} \r\n\t\t\t\t    className=\"badge bg-warning text-dark save\">\r\n\t\t\t\t    Сохранить\r\n\t\t\t    </span>\r\n\t\t    </Menu.Item>\r\n\t\t</Menu>\r\n\t)\r\n\r\n\treturn (\r\n\t\t<InfoTable className=\"list-group list-group-flush\">\r\n\t\t\t<li className=\"list-group-item\">Фамилия: <span className=\"badge bg-warning text-dark\">{surname}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t    <Dropdown overlay={menuSurname} visible={() => {\r\n\t\t\t\t    \tif (visible === 'Surname') {\r\n\t\t\t\t    \t\treturn true\r\n\t\t\t\t    \t} else {\r\n\t\t\t\t    \t\treturn false\r\n\t\t\t\t    \t}\r\n\t\t\t\t    }} trigger={['click']}>\r\n\t\t\t\t    \t<i  className=\"bi bi-pencil\" \r\n\t\t\t\t    \t\tonClick={() => {\r\n\t\t\t\t\t    \t\tif (visible === 'Surname') {\r\n\t\t\t\t\t    \t\t\tsetVisible('')\r\n\t\t\t\t\t    \t\t} else {\r\n\t\t\t\t\t    \t\t\tsetVisible('Surname')\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t\t\t    \t}}\r\n\t\t\t\t    \t\tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\r\n\t\t\t\t    \t\t></i>\r\n\t\t\t\t    </Dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Имя: <span className=\"badge bg-warning text-dark\">{name}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t\t<Dropdown overlay={menuName} visible={() => {\r\n\t\t\t\t\t\tif (visible === 'Name') {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}} trigger={['hover']}>\r\n\t\t\t\t\t\t<i  onClick={() => {\r\n\t\t\t\t\t    \t\tif (visible === 'Name') {\r\n\t\t\t\t\t    \t\t\tsetVisible('')\r\n\t\t\t\t\t    \t\t} else {\r\n\t\t\t\t\t    \t\t\tsetVisible('Name')\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t\t\t    \t}}\r\n\t\t\t\t    \t\tclassName=\"bi bi-pencil\" \r\n\t\t\t\t    \t\tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Отчество: <span className=\"badge bg-warning text-dark\">{midname}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t\t<Dropdown overlay={menuMidname} visible={() => {\r\n\t\t\t\t\t\tif (visible === 'Midname') {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}} trigger={['hover']}>\r\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \r\n\t\t\t\t\t    \tonClick={() => {\r\n\t\t\t\t\t    \t\tif (visible === 'Midname') {\r\n\t\t\t\t\t    \t\t\tsetVisible('')\r\n\t\t\t\t\t    \t\t} else {\r\n\t\t\t\t\t    \t\t\tsetVisible('Midname')\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t\t\t    \t}}\r\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">\r\n\t\t\t\tВозраст: \r\n\t\t\t\t<span className=\"badge bg-success text-light\">{ReturnAge(age)}</span>\r\n\t\t\t\t<DatePicker\r\n\t\t\t\t\tonChange={(data) => {\r\n\t\t\t\t\t\tnewInfo = {age: data._d.toISOString()}\r\n\t\t\t\t\t\tonChangeInfoItem()\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder='Изменить возраст'\r\n\t\t\t\t/>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Номер родителя: <span className=\"badge bg-info text-light\">{parentPhone}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t\t<Dropdown \r\n\t\t\t\t\t\toverlay={menuParentPhone} \r\n\t\t\t\t\t\tvisible={() => {\r\n\t\t\t\t\t\t\tif (visible === 'ParentPhone') {\r\n\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \r\n\t\t\t\t\t    \tonClick={() => {\r\n\t\t\t\t\t    \t\tif (visible === 'ParentPhone') {\r\n\t\t\t\t\t    \t\t\tsetVisible('')\r\n\t\t\t\t\t    \t\t} else {\r\n\t\t\t\t\t    \t\t\tsetVisible('ParentPhone')\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t\t\t    \t}}\r\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Номер ученика: <span className=\"badge bg-warning text-dark\">{phone}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t    <Dropdown \r\n\t\t\t\t\t\toverlay={menuPhone} \r\n\t\t\t\t\t\tvisible={() => {\r\n\t\t\t\t\t\t\tif (visible === 'Phone') {\r\n\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \r\n\t\t\t\t\t    \tonClick={() => {\r\n\t\t\t\t\t    \t\tif (visible === 'Phone') {\r\n\t\t\t\t\t    \t\t\tsetVisible('')\r\n\t\t\t\t\t    \t\t} else {\r\n\t\t\t\t\t    \t\t\tsetVisible('Phone')\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t\t\t    \t}}\r\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Discord: <span className=\"badge bg-light text-dark\">{discord}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t\t<Dropdown \r\n\t\t\t\t\t\tclassName='Discord'\r\n\t\t\t\t\t\toverlay={menuDiscord} \r\n\t\t\t\t\t\tvisible={() => {\r\n\t\t\t\t\t\t\tif (visible === 'Discord') {\r\n\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \r\n\t\t\t\t\t    \tonClick={() => {\r\n\t\t\t\t\t    \t\tif (visible === 'Discord') {\r\n\t\t\t\t\t    \t\t\tsetVisible('')\r\n\t\t\t\t\t    \t\t} else {\r\n\t\t\t\t\t    \t\t\tsetVisible('Discord')\r\n\t\t\t\t\t    \t\t}\r\n\t\t\t\t\t    \t}}\r\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\r\n\t\t\t\t\t</Dropdown>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Группы: {spanGroup}</li>\r\n\t\t</InfoTable>\r\n\t);\r\n}\r\n\r\nexport default InfoTable;","import React, {useState, useEffect} from 'react';\r\n\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst PayHistory = ({pay_History}) => {\r\n\r\n\tlet pay_HistoryLocal = pay_History? pay_History : []\r\n\r\n\tlet liInc = [];\r\n\tpay_HistoryLocal.forEach((item, i) => {\r\n\t\tif (item.type == 0) {\r\n\t\t\tliInc.unshift(\r\n\t\t\t\t<li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\r\n\t\t\t);\t\t\r\n\t\t}\r\n\t})\r\n\r\n\tlet liDec = [];\r\n\tpay_HistoryLocal.forEach((item, i) => {\r\n\t\tif (item.type == 1) {\r\n\t\t\tliDec.unshift(\r\n\t\t\t\t<li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\r\n\t\t\t);\r\n\t\t}\r\n\t})\r\n\r\n\tconst PayHistory = styled.div({\r\n\t\tmargin: '0',\r\n\t\tpadding: '0',\r\n\t\t'.colona': {\r\n\t\t\tpadding: '0 3px',\r\n\t\t\tmarginBottom: '15px',\r\n\t\t\th3: {\r\n\t\t\t\tfontSize: '16px'\r\n\t\t\t},\r\n\t\t\tul: {\r\n\t\t\t\tborderRadius: '5px',\r\n\t\t\t\toverflow: 'auto',\r\n\t\t\t\tmaxHeight: '268px',\r\n\t\t\t\t'&::-webkit-scrollbar': {\r\n\t\t\t\t\twidth: '10px',\r\n\t\t\t\t\tbackgroundColor:'rgba(0, 0, 0, 0.5)',\r\n\t\t\t\t\tborderRadius: '10px'\r\n\t\t\t\t},\r\n\t\t\t\t'&::-webkit-scrollbar-thumb': {\r\n\t\t\t\t\tbackgroundColor: '#17a2b8',\r\n\t\t\t\t\tborderRadius: '10px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tli: {\r\n\t\t\t\tspan: {\r\n\t\t\t\t\tfontSize: '17px',\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.colona-1': {\r\n\t\t\tul: {\r\n\t\t\t\tborder: '1px solid #28a745'\r\n\t\t\t},\r\n\t\t\tli: {\r\n\t\t\t\tspan: {\r\n\t\t\t\t\tcolor: '#28a745',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.colona-2': {\r\n\t\t\tul: {\r\n\t\t\t\tborder: '1px solid #f27474'\r\n\t\t\t},\r\n\t\t\tli: {\r\n\t\t\t\tspan: {\r\n\t\t\t\t\tcolor: '#28a745',\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<PayHistory className='col-12 row'>\r\n\t\t\t<div className=\"colona colona-1 col-6\">\r\n\t\t\t<h3 className=\"badge bg-success text-light\">Пополнение</h3>\r\n\t\t\t<ul className=\"list-group\">\r\n\t\t\t  {liInc}\r\n\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"colona colona-2 col-6\">\r\n\t\t\t<h3 className=\"badge bg-danger text-light\">Оплата</h3>\r\n\t\t\t<ul className=\"list-group\">\r\n\t\t\t  {liDec}\r\n\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</PayHistory>\r\n\t);\r\n}\r\n\r\nexport default PayHistory;","import React, {useState, useEffect} from 'react'\r\nimport { Comment, Avatar, Form, Button, List, Input } from 'antd';\r\nimport Url from '../../../../../../url/url.js';\r\nimport moment from 'moment';\r\nimport {swallErr} from './../../../../../../alert/alert.js'\r\nimport localStorage_change from './../../../../../../#localStorage_change.js'\r\nimport RestrictionMessage from '../../../../../restriction-message/restriction-message.js'\r\n\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst Chat = ({notesGlobal, update, _id}) => {\r\n\r\n\tconst { TextArea } = Input;\r\n\r\n\tconst CommentList = ({ comments }) => (\r\n\t\t<List\r\n\t\t\tdataSource={comments}\r\n\t\t\theader={`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`}\r\n\t\t\titemLayout=\"horizontal\"\r\n\t\t\trenderItem={props => <Comment {...props} />}/>\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.querySelector('.ant-input').value = ''\r\n\t\tlet block = document.querySelector('.ant-drawer-body')\r\n  \t\tblock.scrollTop = block.scrollHeight\r\n\t})\r\n\r\n\t// ===========================================================================================================================\r\n\r\n\tlet {surname, name, midname} = require('jsonwebtoken').decode(localStorage.getItem('tokenID'))\r\n\r\n\tlet UserName = `${surname} ${name} ${midname}`\r\n\r\n\tconst [comments, setComments] = useState(notesGlobal)\r\n\tconst [submitting, setSubmitting] = useState(false)\r\n\tlet value = ''\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconsole.log(moment().locale('ru').format(\"dddd, D MMMM YYYY г., HH:mm\"))\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tif (!value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetSubmitting(true)\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: `${Url}/CRM/Pupils/${_id}/Notes`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\ttext: value\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then(() => {\r\n\r\n\t\t\tsetSubmitting(false)\r\n\t\t\tsetComments([...comments, {\r\n\t\t\t\tauthor: UserName,\r\n\t\t\t\tcontent: <p>{value}</p>,\r\n\t\t\t\tdatetime: moment().locale('ru').format(\"dddd, D MMMM YYYY г., HH:MM\"),\r\n\t\t\t}])\r\n\t\t\t// update()\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t\tlet {status, data} = error.response;\r\n\r\n\t\t\t\tif (status == 404) {\r\n\t\t\t\t\tswallErr('404', 'Сервер не найден')\r\n\t\t\t\t} else if (status == 401) {\r\n\r\n\t\t\t\t\tif (data.message == 'TOKEN_EXPIRED') {\r\n\r\n\t\t\t\t\t\tlocalStorage_change(data.token);\r\n\t\t\t\t\t\tvalue = value\r\n\t\t\t\t\t\thandleSubmit();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocalStorage.removeItem('tokenID');\r\n\t\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\r\n\r\n    return (\r\n      <>\r\n        {comments.length > 0 && <CommentList comments={comments} />}\r\n        \t<Comment\r\n\t          content={\r\n\t          \t<>\r\n\t\t            <Form.Item>\r\n\t\t\t\t\t\t<TextArea \r\n\t\t\t\t\t\t\tid='TextArea'\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdocument.querySelector(\"#TextArea\").value = ''\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\trows={4} onChange={(e) => {value = e.target.value}} placeholder='Добавить комментарий'/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button htmlType=\"submit\" loading={submitting} onClick={handleSubmit} type=\"primary\">\r\n\t\t\t\t\t\t\tДобавить комментарий\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</>\r\n\t          }\r\n\t        />\r\n      </>\r\n    );\r\n}\r\n\r\nexport default Chat","import React, {useState} from 'react';\r\nimport {Drawer, Button} from 'antd';\r\n\r\nimport ChatItem from './chat-item/chat.js'\r\n\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst DrawerChat = ({notes, update, _id}) => {\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    const showDrawer = () => {\r\n        setVisible(true);\r\n    };\r\n\r\n    const onClose = () => {\r\n        if (visible) {\r\n            update()\r\n        }\r\n        setVisible(false);\r\n    };\r\n\r\n    const COMEN = styled.div({\r\n        '.ant-comment-content-detail': {\r\n            borderBottom: '1px solid #f0f0f0'\r\n        }\r\n    })\r\n\r\n    let notesLocal = notes? notes : []\r\n    let notesGlobal = []\r\n    notesLocal.forEach(item => {\r\n\r\n        let {author, date, text} = item\r\n\r\n        notesGlobal.push(\r\n            {\r\n                author: author,\r\n                content: <p>{text}</p>,\r\n                datetime: date,\r\n            }\r\n        )\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <Button className='Button-Drawer' type=\"primary\" onClick={showDrawer}>\r\n                Открыть коментарии\r\n            </Button>\r\n            <Drawer\r\n                width={'400px'}\r\n                placement=\"right\"\r\n                closable={false}\r\n                onClose={onClose}\r\n                visible={visible}\r\n            >\r\n                <COMEN>\r\n                    <ChatItem notesGlobal={notesGlobal} update={update} _id={_id}/>\r\n                </COMEN>\r\n            </Drawer>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DrawerChat","let jwt = require('jsonwebtoken');\r\n\r\nconst CheckRole = () => {\r\n\tif (jwt.decode(localStorage.getItem('tokenID')).accountType != 'teacher') {\r\n\t\treturn true\r\n\t}\r\n\treturn false\r\n}\r\n\r\nexport let Display = ''\r\n\r\nif (localStorage.getItem('tokenID')) {\r\n\tif (jwt.decode(localStorage.getItem('tokenID')).accountType = 'teacher') {\r\n\t\tconsole.log(jwt.decode(localStorage.getItem('tokenID')))\r\n\t\tDisplay = ' displayNone'\r\n\t}\r\n}\r\n\r\nexport default CheckRole;","import React, {useState} from 'react';\r\nimport {Menu, Dropdown} from 'antd';\r\n\r\nimport Change_Balance from './../../../change-balance/changeBalance.js';\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst Balance = ({balance_item, pageStudent_id, updeteStudent}) => {\r\n\r\n    const [visible, setVisible] = useState(false)\r\n    const [balance, setBalance] = useState(+balance_item ? +balance_item : 0);\r\n\r\n    let incBalance = 0;\r\n\r\n    const returnBalance = () => {\r\n        setBalance(balance)\r\n    }\r\n\r\n    const ChangeBalance = () => {\r\n        let sum = +balance + +incBalance\r\n        setBalance(sum);\r\n\r\n        Change_Balance(incBalance, pageStudent_id, updeteStudent, undefined, undefined, undefined, returnBalance);\r\n    }\r\n\r\n    const Span = styled.span({\r\n        borderRadius: '6px',\r\n        fontWeight: '500',\r\n        cursor: 'pointer',\r\n        fontSize: '14px'\r\n    });\r\n\r\n    const menu = (\r\n        <Menu>\r\n            <Menu.Item>\r\n                <input\r\n                    placeholder=\"Пополнить\"\r\n                    onChange={(e) => {\r\n                        incBalance = e.target.value\r\n                    }}\r\n                    type=\"number\" className=\"text-info form-control col-12\"\r\n                />\r\n            </Menu.Item>\r\n            <Menu.Item>\r\n                <Span\r\n                    onClick={() => {\r\n                        setVisible(!visible)\r\n                        ChangeBalance()\r\n                    }}\r\n                    className=\"badge bg-warning text-dark\">\r\n                    Сохранить\r\n                </Span>\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    return (\r\n        <div className=\"balance col-md-12 row\">\r\n            <h6 className=\"calendar badge bg-success text-light\">\r\n                {balance}\r\n                <span>₽</span>\r\n            </h6>\r\n            <Dropdown overlay={menu} visible={visible} trigger={['click']}>\r\n                <i id=\"dropdownMenuReference\"\r\n                   className=\"bi bi-plus\"\r\n                   onClick={() => {\r\n                       setVisible(!visible)\r\n                   }}\r\n                   style={{fontSize: \"30px\", color: '#17a2b8', cursor: 'pointer'}}\r\n                />\r\n            </Dropdown>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Balance;","import React, {useState, useEffect} from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport Url from './../../../../url/url.js';\r\nimport localStorage_change from './../../../../#localStorage_change.js';\r\nimport {swallErr} from './../../../../alert/alert.js'\r\n\r\nimport ReturnAge from './../../return-age/returnAge.js';\r\nimport PupilsSandTime from './../../group/group-page/PupilsSandTime/PupilsSandTime.js';\r\nimport InfoTable from './Info-table/InfoTable.js';\r\nimport PayHistory from './payment-history/paymentHistory.js';\r\nimport DrawerChat from './chat/drawer-chat.js'\r\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\r\n\r\nimport CheckRole from './../../CheckRole/CheckRole.js'\r\n// Block\r\nimport Balance from './balance/balance.js';\r\n\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst PageStudent = ({setUrlPage}) => {\r\n\r\n\tlet pageStudent_id = useParams().id\r\n\r\n\tlet jwt = require('jsonwebtoken');\r\n\r\n\tconst [dataStudent, setDataS] = useState({\r\n\t    _id: \"60ba505dc12d3b9783c51d0f\",\r\n\t    name: \"Загрузка...\", \r\n\t\tsurname: \"\", \r\n\t\tmidname: \"\", \r\n\t\tgender: \"\", \r\n\t\tage: \"2004-12-07\",\r\n\t\tphone: \"\",\r\n\t\tparentPhone: \"\", \r\n\t\tdiscord: \"\",\r\n\t\tbalance: 0,\r\n\t\tlocalSchedule: {},\r\n\t\tgroups: [],\r\n\t\tpaymentHistory: [\r\n\t\t\t{type: 1, date: \"\", amount: 0, issuer: \"\", subscription: null},\r\n\t\t\t{type: 0, date: \"\", amount: 0, issuer: \"\", subscription: null}\r\n\t\t],\r\n\t\tnotes: []\r\n\t});\r\n\r\n\tconst {_id, notes, groups, name, surname, midname, gender, age, phone, parentPhone, discord, balance, localSchedule, paymentHistory} = dataStudent;\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconst getStudent_Id = () => {\r\n\t\taxios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: `${Url}/CRM/Pupils/${pageStudent_id}`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tsetDataS(res.data);\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t\tlet {status, data} = error.response;\r\n\r\n\t\t\t\tif (status == 404) {\r\n\t\t\t\t\tswallErr('404', 'Сервер не найден')\r\n\t\t\t\t} else if (status == 401) {\r\n\r\n\t\t\t\t\tif (data.message == 'TOKEN_EXPIRED') {\r\n\r\n\t\t\t\t\t\tlocalStorage_change(data.token);\r\n\t\t\t\t\t\tgetStudent_Id();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocalStorage.removeItem('tokenID');\r\n\t\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetStudent_Id();\r\n\t}, []);\r\n\r\n\tlet arrIdSch = [];\r\n\tfor (let key in localSchedule) {\r\n\t\tarrIdSch.push(key);\r\n\t}\r\n\r\n\tlet groups_id = [];\r\n\r\n\tgroups.forEach((item) => {\r\n\t\tgroups_id.push(item.GROUP_NAME);\r\n\t}); \r\n\r\n\tlet PupilsSandTimeGroup = arrIdSch.map((id, i) => {\r\n\t\tconsole.log(dataStudent)\r\n\r\n\t\tif (i < groups_id.length) {\r\n\t\t\treturn <PupilsSandTime key={id} setUrlPage={setUrlPage} pageInfo={'group'} itemG={dataStudent} dataGroup={id} getGroup_Id={getStudent_Id} setData={setDataS} name={groups_id[i]} type='pupil'/>\r\n\t\t}\r\n\r\n\t});\r\n\t\r\n\t// Style\r\n\r\n\tconst breakpoints = [767],\r\n\t\t  mq = breakpoints.map(\r\n\t\t\tbp => `@media (max-width: ${bp}px)`\r\n\t\t);\r\n\r\n\tconst StudentPage = styled.div({\r\n\t\tmarginTop: '0px',\r\n\t\tmargin: '0 auto',\r\n\t\t'.pad': {\r\n\t\t\tpadding: '0px',\r\n\t\t\tpaddingRight: '10px',\r\n\t\t\t[mq[0]]: {\r\n\t\t\t\tpaddingRight: '0px'\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.infoLog': {\r\n\t\t\tmarginBottom: '10px',\r\n\t\t\tpadding: '0',\r\n\t\t\t[mq[0]]: {\r\n\t\t\t\tpaddingBottom: '10px'\r\n\t\t\t},\r\n\t\t\t'.calendar': {\r\n\t\t\t\tmargin: 'auto 0',\r\n    \t\t\tmarginRight: '10px',\r\n    \t\t\tfontSize: '20px',\r\n    \t\t\tspan: {\r\n    \t\t\t\tpaddingLeft: '6px'\r\n    \t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.group-name': {\r\n\t\t\tborderBottom: '1px solid #0dcaf0',\r\n\t\t\tpadding: '0px',\r\n\t\t\t[mq[0]]: {\r\n\t\t\t\tborderRight: 'none'\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.balance': {\r\n\t\t\th5: {\r\n\t\t\t\tfontSize: '1.25rem'\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.Button-Drawer': {\r\n\t\t\tposition: 'absolute',\r\n\t\t\tright: '0',\r\n\t\t\ttop: '8px'\r\n\t\t},\r\n\t\t'.ulBox': {\r\n\t\t\tborderRadius: '15px',\r\n\t\t\tpadding: '0px',\r\n\t\t},\r\n\t\t'.editing': {\r\n\t\t\tbackground: '#fff',\r\n    \t\tborderRadius: '10px 10px 0 0',\r\n    \t\ti: {\r\n    \t\t\tmarginLeft: '95%',\r\n    \t\t\tcursor: 'pointer'\r\n    \t\t}\r\n\t\t},\r\n\t\tli: {\r\n\t\t\tbackgroundColor: 'none',\r\n\t\t\tspan: {\r\n\t\t\t\tfontSize: '16px',\r\n\t\t\t\tmargin: '0 5px 5px 0'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst TablePupils = styled.div({\r\n\t\tbackground: '#fff',\r\n\t    margin: '10px 0',\r\n\t    padding: '10px',\r\n\t    borderRadius: '15px',\r\n\t\t'& > h3': {\r\n\t\t\tfontSize: '22px'\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<StudentPage className=\"container row col-12\">\r\n\t\t\t\t<div className=\"col-12 col-md-6 pad\">\r\n\t\t\t\t\t<div className=\"infoLog align-self-start col-md-12 col-12\">\r\n\t\t\t\t\t\t<div className=\"group-name col-12 col-lg-12\">\r\n\t\t\t\t\t\t\t<h3>{name}</h3>\r\n\t\t\t\t\t\t\t<DrawerChat notes={notes} update={getStudent_Id} _id={pageStudent_id}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Balance balance_item={balance} pageStudent_id={pageStudent_id} updeteStudent={getStudent_Id}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<PayHistory pay_History={paymentHistory}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-6 ulBox\">\r\n\t\t\t\t\t<InfoTable dataStudent={dataStudent} updetePage={setDataS}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<TablePupils className=\"container col-12\">\r\n\t\t\t\t\t<h3 className=\"badge bg-warning\">Группы:</h3>\r\n\t\t\t\t\t{PupilsSandTimeGroup}\r\n\t\t\t\t</TablePupils>\r\n\t\t</StudentPage>\r\n\t);\r\n};\r\n\r\nexport default PageStudent;\r\n","import React, {useState, useEffect} from 'react';\r\nimport Url from './../../../url/url.js';\r\nimport localStorage_change from './../../../#localStorage_change.js';\r\nimport {swallGood, swallErr} from './../../../alert/alert.js';\r\nimport Pagination from './../#more-functions/pagination/pagination.js'\r\nimport RestrictionMessage from '../../restriction-message/restriction-message.js'\r\n\r\nimport {Link} from \"react-router-dom\";\r\nimport {Modal, Button} from 'antd';\r\n\r\n// Style \r\nimport styled from '@emotion/styled';\r\nimport './group.css';\r\n\r\nconst Group = ({setPageGruop}) => {\r\n\r\n    // Modal\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n    // /Modal\r\n\r\n    const [offsetG, setOffsetG] = useState(0)\r\n    const [Count, setCount] = useState(1)\r\n\r\n    const [availableStudents, setAvailableStudents] = useState(['Пусто...']);\r\n    const [PUPILS_search, setPUPILS_search] = useState([]);\r\n    const [availableTutor, setAvailableTutor] = useState([]);\r\n\r\n    const [groups, setGroups] = useState([]);\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    // Получить учеников\r\n    const getPupils = () => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Pupils/find?limit=150&offset=0`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            let arr = [];\r\n            res.data.forEach((item) => {\r\n                arr.push([`${item.surname} ${item.name}`, item._id]);\r\n            });\r\n            setAvailableStudents(arr);\r\n            setPUPILS_search(arr);\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                if (error.response.status === 401) {\r\n\r\n                    if (error.response.data.message === 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(error.response.data.token);\r\n                        update();\r\n                    } else {\r\n\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Получить группы\r\n    const getGroup = (offset = 0) => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Groups/find?limit=10&offset=${offset}`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            let {data, headers} = res\r\n            setGroups(data)\r\n            setCount(headers.count)\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                if (error.response.status === 401) {\r\n\r\n                    if (error.response.data.message === 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(error.response.data.token);\r\n                        update();\r\n                    } else {\r\n\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const getTUTOR = (offset = 0) => {\r\n        axios({\r\n            method: 'get',\r\n            url: `${Url}/AdminPanel/CRMAccounts?limit=10&offset=${offset}&accountType=teacher`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            let {data} = res\r\n            setAvailableTutor(data)\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                if (error.response.status === 401) {\r\n\r\n                    if (error.response.data.message === 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(error.response.data.token);\r\n                        getTUTOR();\r\n                    } else {\r\n\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    const update = () => {\r\n        getTUTOR();\r\n        getPupils();\r\n        getGroup(offsetG);\r\n    };\r\n\r\n    useEffect(() => {\r\n        update();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isModalVisible) {\r\n            document.getElementById('fort').focus();\r\n        }\r\n    });\r\n\r\n    let A_Students = availableStudents.map((item, i) => {\r\n        return (\r\n            <option key={item[0] + i} value={item[0]}>{item[0]}</option>\r\n        );\r\n    });\r\n\r\n    let A_Tutor = availableTutor.map((item, i) => {\r\n        let {name, surname, midname, _id} = item\r\n        return (\r\n            <option key={name + i} value={_id}>{surname} {name} {midname}</option>\r\n        );\r\n    });\r\n\r\n    const [PUPILS, setPupils] = useState([]);\r\n\r\n    const [GROUP_NAME, setGROUP_NAME] = useState(''),\r\n        [PLACES, setPLACES] = useState(''),\r\n        [TUTOR, setTUTOR] = useState(''),\r\n        [LEVEL, setLEVEL] = useState('');\r\n\r\n    let dataInput = {\r\n        GROUP_NAME: GROUP_NAME,\r\n        PLACES: PLACES,\r\n        TUTOR: TUTOR,\r\n        LEVEL: LEVEL\r\n    };\r\n\r\n    const inputSave = () => {\r\n        let {GROUP_NAME, PLACES, TUTOR, LEVEL} = dataInput;\r\n        setGROUP_NAME(GROUP_NAME);\r\n        setPLACES(PLACES);\r\n        setTUTOR(TUTOR);\r\n        setLEVEL(LEVEL);\r\n    }\r\n\r\n\r\n    const [SearchValue, setSearchValue] = useState('');\r\n    const changePUPILS = (e) => {\r\n\r\n        let regex = RegExp(e.target.value, 'gi');\r\n\r\n        let arrPupils = availableStudents.filter(item => regex.test(item[0]));\r\n        setSearchValue(e.target.value);\r\n        setPUPILS_search(arrPupils);\r\n\r\n        inputSave();\r\n    }\r\n\r\n    let PUPILS_search_Li = PUPILS_search.map((item) => {\r\n\r\n        const choice = () => {\r\n\r\n            let arr = [...PUPILS, item];\r\n\r\n            PUPILS.forEach((ite) => {\r\n                if (ite[1] == item[1]) {\r\n                    arr = [...PUPILS];\r\n                }\r\n            });\r\n\r\n            setPupils(arr);\r\n            inputSave();\r\n        };\r\n        return (\r\n            <li key={item[1]}\r\n                onClick={choice}\r\n                className=\"list-group-item\">\r\n                <span className=\"badge bg-warning text-dark\">{item[0]}</span>\r\n            </li>\r\n        );\r\n    });\r\n\r\n    let PUPILS_btn = PUPILS.map((item, i) => {\r\n\r\n        const nameDelete = () => {\r\n            let data = [...PUPILS];\r\n            data.splice(i, 1);\r\n            setPupils(data);\r\n            inputSave();\r\n        }\r\n\r\n        return (\r\n            <button onClick={nameDelete} key={item[1]} type=\"button\" className=\"btn btn-info\">\r\n                {item[0]} <i className=\"bi bi-x\" style={{fontSize: '15px'}}></i>\r\n            </button>\r\n        );\r\n    });\r\n\r\n    let tableGroup = groups.map((item) => {\r\n\r\n        const trashGroup = () => {\r\n\r\n            let i = document.getElementById(item._id);\r\n            i.style.opacity = '0.3';\r\n\r\n            axios({\r\n                method: \"DELETE\",\r\n                url: `${Url}/CRM/Groups/${item._id}`,\r\n                headers: {\r\n                    \"Content-Type\": \"application/json;charset=utf-8\",\r\n                    Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n                },\r\n            })\r\n            .then((res) => {\r\n                getGroup(offsetG);\r\n                i.style.opacity = '1';\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    RestrictionMessage(error.response.status)\r\n                    let {status, data} = error.response;\r\n\r\n                    if (data.message == \"TOKEN_EXPIRED\") {\r\n                        localStorage_change(data.token);\r\n                        trashGroup();\r\n                    } else if (status == 401) {\r\n                        localStorage.removeItem(\"tokenID\");\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            });\r\n        };\r\n\r\n        const {GROUP_NAME, TUTOR, LEVEL, PLACES, PUPILS, GLOBAL_SCHEDULE, _id} = item;\r\n\r\n        let PUPILS01 = PUPILS? PUPILS : []\r\n\r\n        let tutor = 'Учитель не добавлен...',\r\n            time = '-'\r\n\r\n        if (GLOBAL_SCHEDULE) {\r\n            if (GLOBAL_SCHEDULE[0]) {\r\n\r\n                let {duration} = GLOBAL_SCHEDULE[0]\r\n\r\n                time = `с ${duration[0]} до ${duration[1]}`\r\n            }\r\n        }\r\n\r\n        if (TUTOR) {\r\n            let {surname, name, midname} = TUTOR\r\n            tutor = `${surname} ${name} ${midname}`\r\n        }\r\n\r\n        return (\r\n            <tr key={`${_id}`}>\r\n                <td className=\"td-trash\" scope=\"row\">\r\n                    <i id={_id} onClick={trashGroup} className=\"bi bi-trash\"\r\n                       style={{fontSize: '30px', color: '#F56767'}}></i>\r\n                </td>\r\n                <td className=\"align-middle td-use\">\r\n                    <Link\r\n                        className=\"link-info\"\r\n                        onClick={() => {\r\n                            setPageGruop(_id)\r\n                        }}\r\n                        to={`/group/${_id}`}>\r\n                        {GROUP_NAME}\r\n                    </Link>\r\n                </td>\r\n                <td className=\"align-middle td-use\">{tutor}</td>\r\n                <td className=\"align-middle td-use\">{LEVEL} класс</td>\r\n                <td className=\"align-middle td-use\">{PLACES}</td>\r\n                <td className=\"align-middle td-use\">{PLACES - PUPILS01.length}</td>\r\n                <td className=\"align-middle td-use\">{time}</td>\r\n            </tr>\r\n        );\r\n\r\n    });\r\n\r\n    const formSubmit = () => {\r\n\r\n        let {GROUP_NAME, PLACES, TUTOR, LEVEL} = dataInput; // + PUPILS\r\n\r\n        let PUPILS_ID = [];\r\n        PUPILS.forEach((item) => {\r\n            PUPILS_ID.push(item[1]);\r\n        });\r\n\r\n        setLoading(true)\r\n\r\n        axios({\r\n            method: \"POST\",\r\n            url: `${Url}/CRM/Groups`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n            },\r\n            data: {\r\n                GROUP_NAME,\r\n                TUTOR: TUTOR || undefined,\r\n                LEVEL: +LEVEL,\r\n                PLACES: +PLACES,\r\n                PUPILS: PUPILS_ID\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setLoading(false)\r\n            swallGood('Группа создана', 'Теперь добавьте расписание');\r\n            setIsModalVisible(false)\r\n            getGroup();\r\n            setGROUP_NAME('')\r\n            setPupils([])\r\n            setPLACES('')\r\n            setTUTOR('')\r\n            setLEVEL('')\r\n\r\n        })\r\n        .catch((error) => {\r\n            setLoading(false)\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data} = error.response;\r\n\r\n                if (status == 400) {\r\n                    if (+PLACES < PUPILS_ID.length) {\r\n                        swallErr('Ой...', 'Мест для учеников не хватает');\r\n                    } else {\r\n                        swallErr('Ой...', 'Заполните поля правильно');\r\n                    }\r\n                } else if (status == 401) {\r\n                    swallErr('Ой...', 'Где токен ?');\r\n                } else if (status == 500) {\r\n                    swallErr('Произошла поломка сервера', 'Сообщите об ошибке владельцу сервиса')\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    const breakpoints = [1020, 700],\r\n        mq = breakpoints.map(\r\n            bp => `@media (max-width: ${bp}px)`\r\n        );\r\n    const Table = styled.div({\r\n        padding: '0 30px',\r\n        [mq[1]]: {\r\n            padding: '0 0',\r\n        },\r\n        '.table_user': {\r\n            overflowX: 'auto',\r\n            '&::-webkit-scrollbar': {\r\n                height: '10px',\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                borderRadius: '10px'\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n                backgroundColor: '#17a2b8',\r\n                borderRadius: '10px'\r\n            },\r\n        },\r\n        '.log_h2': {},\r\n        td: {\r\n            paddingTop: '1px',\r\n            paddingBottom: '4px'\r\n        },\r\n        'th, td': {\r\n            whiteSpace: 'nowrap'\r\n        }\r\n    });\r\n    const Form = styled.form({\r\n        '.addPUPILS': {\r\n            '.input-group': {\r\n                ul: {\r\n                    overflowY: 'scroll',\r\n                    height: '100px'\r\n                },\r\n                li: {\r\n                    cursor: 'pointer',\r\n                    padding: '5px',\r\n                    span: {\r\n                        fontSize: '11px'\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\r\n                <div className=\"container-fluid d-flex\">\r\n                    <div className=\"collapse d-flex flex-row h3-person\">\r\n                        <div className=\"d-flex plus-box\">\r\n                            <div>\r\n                                <h3>Группы</h3>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"collapse d-flex flex-row-reverse\" id=\"navbarScroll\">\r\n                        <div className=\"d-flex plus-box\">\r\n                            <div className=\"nav-item plus\" onClick={showModal}>\r\n                                <i className=\"bi bi-people\" style={{fontSize: '38px', color: '#F56767'}}></i>\r\n                                <i className=\"bi bi-plus\" style={{fontSize: '30px', color: '#F56767'}}></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n\r\n            <Table className=''>\r\n                <div>\r\n                    <div className={`table_user`}>\r\n                        <table className=\"table table-striped\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th className=\"th-h\" scope=\"col\"></th>\r\n                                <th className=\"th-h align-middle\" scope=\"col\">Группы</th>\r\n                                <th className=\"th-h align-middle\" scope=\"col\">Учитель</th>\r\n                                <th className=\"th-h align-middle\" scope=\"col\">Уровень</th>\r\n                                <th className=\"th-h align-middle\" scope=\"col\">Количество мест</th>\r\n                                <th className=\"th-h align-middle\" scope=\"col\">Свободных мест</th>\r\n                                <th className=\"th-h align-middle\" scope=\"col\">Время занятий</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {tableGroup}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <Pagination getItem={getGroup} count={Count} offset={offsetG} setOffset={setOffsetG}/>\r\n                </div>\r\n            </Table>\r\n\r\n            <Modal\r\n                title=\"Добавить группу\"\r\n                visible={isModalVisible}\r\n                onCancel={handleCancel}\r\n                width={1000}\r\n                footer={[\r\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\r\n                        Отмена\r\n                    </Button>,\r\n                    <Button\r\n                        key=\"onOk1\"\r\n                        onClick={formSubmit}\r\n                        loading={loading}\r\n                        type=\"primary\"\r\n                    >\r\n                        Сохранить\r\n                    </Button>\r\n                ]}\r\n            >\r\n                <Form>\r\n                    <div className=\"modal-body\">\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputName\" className=\"fs-5 col-sm-4 col-form-label\">Имя группы</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input defaultValue={dataInput.GROUP_NAME} autoComplete='off' onChange={(e) => {\r\n                                    dataInput.GROUP_NAME = e.target.value\r\n                                }} required type=\"text\" name=\"GROUP_NAME\" className={`form-control`} id=\"GROUP_NAME\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputMidname\" className=\"fs-5 col-sm-4 col-form-label\">Количество\r\n                                мест</label>\r\n                            <div className=\"col-sm-8\">\r\n                                <input defaultValue={dataInput.PLACES} autoComplete='off' onChange={(e) => {\r\n                                    dataInput.PLACES = e.target.value\r\n                                }} required type=\"number\" name=\"PLACES\" className={`form-control`} id=\"PLACES\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Уровень\r\n                                подготовки</label>\r\n                            <div className=\"col-sm-8 input-group\">\r\n                                <select defaultValue={dataInput.LEVEL} onChange={(e) => {\r\n                                    dataInput.LEVEL = e.target.value\r\n                                }} required className=\"form-control\" id=\"inputGroupSelect01\">\r\n                                    <option defaultValue></option>\r\n                                    <option value=\"1\">1 класс</option>\r\n                                    <option value=\"2\">2 класс</option>\r\n                                    <option value=\"3\">3 класс</option>\r\n                                    <option value=\"4\">4 класс</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row mb-3\">\r\n                            <label className=\"fs-5 col-sm-4 col-form-label\">Учитель</label>\r\n                            <div className=\"col-sm-8 input-group\">\r\n                                <select defaultValue={dataInput.TUTOR} onChange={(e) => {\r\n                                    dataInput.TUTOR = e.target.value\r\n                                }} className=\"form-control\">\r\n                                    <option defaultValue></option>\r\n                                    {A_Tutor}\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mb-3\">\r\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Добавить\r\n                                учеников</label>\r\n                            <div className=\"row addPUPILS\">\r\n                                <div className=\"col-sm-6 input-group\">\r\n                                    <input\r\n                                        id=\"fort\"\r\n                                        onChange={changePUPILS}\r\n                                        defaultValue={SearchValue}\r\n                                        autoComplete='off' type=\"search\" className=\"form-control\" name=\"q\"\r\n                                        placeholder=\"Найти...\"/>\r\n\r\n                                    <ul className=\"col-12 list-group list-group-flush\">\r\n                                        {PUPILS_search_Li}\r\n                                    </ul>\r\n                                </div>\r\n                                <div className=\"col-sm-6 boxPUPILS\">\r\n                                    {PUPILS_btn}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Group;"," import React, {useState, useEffect} from 'react';\r\nimport Url from './../../../url/url.js';\r\n\r\nimport moment from 'moment';\r\n// import localStorage_change from './../../../#localStorage_change.js';\r\n// import {swallGood, swallErr} from './../../../alert/alert.js';\r\n\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst Schedule = ({GLOBAL_SCHEDULE}) => {\r\n\r\n\tconst SchedulE = styled.div({\r\n\t\tpadding: '0',\r\n\t\tmarginBottom: '15px',\r\n\t\t'.boxS': {\r\n\t\t\t    overflow:'auto',\r\n    \t\t\tmaxHeight: '200px',\r\n\t\t},\r\n\t\t'.dataNumber': {\r\n\t\t\tmargin: '0 3px 0 0',\r\n\t\t    fontSize: '15px',\r\n\t\t    fontWeight: '600',\r\n\t\t    width: '48px'\r\n\t\t}\r\n\t});\r\n\r\n\tif (!GLOBAL_SCHEDULE[0]) {\r\n\t\treturn (\r\n\t\t\t<SchedulE  className=\"col-12\">\r\n\t\t\t\t<h5>Расписания нет...</h5>\r\n\t\t\t</SchedulE>\r\n\t\t);\r\n\t}\r\n\r\n\t// GLOBAL_SCHEDULE.duration = ['0', '0'];\r\n\r\n\tlet SpanDay = GLOBAL_SCHEDULE.map((item) => {\r\n\r\n\t\tlet date = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\r\n\r\n\t\treturn (\r\n\t\t\t<span key={item.date} className=\"badge bg-light text-dark dataNumber\">{date}</span>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<SchedulE className=\"col-12\">\r\n\t\t\t<h5>{GLOBAL_SCHEDULE[0].duration[0]} до {GLOBAL_SCHEDULE[0].duration[1]}</h5>\r\n\t\t\t<div className=\"boxS\">\r\n\t\t\t\t{SpanDay}\r\n\t\t\t</div>\r\n\t\t</SchedulE>\r\n\t);\r\n};\r\n\r\nexport default Schedule;","import React, {useState, useEffect} from 'react';\r\nimport Url from './../../../../url/url.js';\r\nimport localStorage_change from './../../../../#localStorage_change.js';\r\nimport {swallGood, swallErr} from './../../../../alert/alert.js';\r\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\r\n\r\nimport moment from 'moment';\r\nimport { Modal, Button } from 'antd';\r\n\r\n// Style\r\nimport styled from '@emotion/styled';\r\n\r\nconst ScheduleForm = ({updateGroup, groupID}) => {\r\n\r\n\t// Modal\r\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst showModal = () => {\r\n\t\tsetIsModalVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetIsModalVisible(false);\r\n\t};\r\n\t// /Modal\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tlet dataInputs = {\r\n\t\tstartDate: '',\r\n\t\tendDate: '',\r\n\t\tduration_Start: '',\r\n\t\tduration_End: '',\r\n\t\tweekDay: []\r\n\t};\r\n\r\n\tlet weekDay = {\r\n\t\tone: [],\r\n\t\ttwo: [],\r\n\t\tthree: [],\r\n\t\tfour: [],\r\n\t\tfive: [],\r\n\t\tsix: [],\r\n\t\tzero: []\r\n\t}; \r\n\r\n\tlet schedule = [];\r\n\r\n\tconst FindNeedle = () => {\r\n\r\n\t\tlet regDay = /([a-zа-яё]+)/ig,\r\n\t\t\tregNumber = /([0-9]+)/i;\r\n\r\n\t\tlet dayNumber = moment(dataInputs.startDate).day();\r\n\r\n\r\n\t\tlet {endDate} = dataInputs;\r\n\t\tlet day_end = moment(endDate).format('DD.MM.YYYY');\r\n\r\n\t\tlet day = moment(dataInputs.startDate).format('DD.MM.YYYY'),\r\n\t\t\tday_number = moment(day, 'DD.MM.YYYY').day(),\r\n\t\t    inc = 1;\r\n\r\n\t\tconst PushDay = () => {\r\n\t\t\tdataInputs.weekDay.forEach((item) => {\r\n\r\n\t\t\t\tif (item == day_number) {\r\n\t\t\t\t\tlet scheduleItem = {\r\n\t\t\t\t      \tdate: day,\r\n\t\t\t\t      \tduration: [dataInputs.duration_Start, dataInputs.duration_End],\r\n\t\t\t\t\t    status: '',\r\n\t\t\t\t\t    tutor: '',\r\n\t\t\t\t\t    paid: false,\r\n\t\t\t\t\t    title: ''\r\n\t\t\t\t\t};\r\n\t\t\t\t\tschedule.push(scheduleItem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\tPushDay();\r\n\r\n\t\tdo {\r\n\t\t\tday = moment(dataInputs.startDate).day(dayNumber + inc).format('DD.MM.YYYY');\r\n\t\t\tday_number = moment(day, 'DD.MM.YYYY').day();\r\n\r\n\t\t\tPushDay();\r\n\r\n\t\t\tinc++;\r\n\t\t} while (day != day_end);\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: `${Url}/CRM/Groups/${groupID}/Schedule`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t},\r\n\t\t\tdata: schedule\r\n\t\t})\r\n\t\t.then((res) => {\r\n\r\n\t\t\tdocument.querySelectorAll(\"input\").forEach((item) => {item.value = ''});\r\n\t\t\tsetLoading(false)\r\n\t\t\tsetIsModalVisible(false)\r\n\t\t\tswallGood('Расписание создано', '');\r\n\t    \tfor (let key in weekDay) {\r\n\t\t\t\tweekDay[key] = [];\r\n\t\t\t}\r\n\t\t\tupdateGroup(); // Обновить группу.\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t\tlet {status, data} = error.response;\r\n\r\n\t\t\t\tif (status == 400) {\r\n\t\t\t\t\tswallErr('Не верно введены данные');\r\n\t\t\t\t}\r\n\t\t\t\tif (data.message == 'TOKEN_EXPIRED') {\r\n\t\t\t\t\tlocalStorage_change(data.token);\r\n\t\t\t\t\tFindNeedle();\r\n\t\t\t\t} else if (status == 401) {\r\n\t\t\t\t\tlocalStorage.removeItem('tokenID');\r\n\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t} else if (status == 500) {\r\n\t\t\t\t\tswallErr('Ошибка сервера');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tconsole.log(schedule);\r\n\t};\r\n\r\n\r\n\tconst FormChance = () => {\r\n\t\tsetLoading(true)\r\n\r\n\t\tfor (let key in weekDay) {\r\n\t\t\tif (weekDay[key][0]) {\r\n\t\t\t\tdataInputs.weekDay.push(weekDay[key][1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tFindNeedle();\r\n\t};\r\n\r\n\tconst ScheduleForm = styled.div({\r\n\t\t'.form-check': {\r\n\t\t\tmarginRight: '12px',\r\n\t\t\tpaddingLeft: '100px'\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<i onClick={showModal}\r\n\t\t\t\t\t  className=\"bi bi-calendar2-plus\" \r\n\t\t\t\t\t  style={{fontSize: \"26px\", color: '#17a2b8', cursor: 'pointer'}}\r\n\t\t\t\t\t  ></i>\r\n\r\n\t\t\t<Modal \r\n\t\t\t\ttitle=\"Добавить расписание\" \r\n\t\t\t\tvisible={isModalVisible} \r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\twidth={1000}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button key=\"onCancel1\" onClick={handleCancel}>\r\n\t\t\t\t\t\tОтмена\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\t<Button \r\n\t\t\t\t\t\tkey=\"onOk1\" \r\n\t\t\t\t\t\tonClick={FormChance}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t<ScheduleForm>\r\n\t\t\t\t\t<form className=\"row g-3\">\r\n\t\t\t        \t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t    <label className=\"form-label\">Период:</label>\r\n\t\t\t\t\t\t    <div className=\"row periud\">\r\n\t\t\t\t\t\t    \t<input\r\n\t\t\t\t\t\t    \t\tonChange={(e) => {dataInputs.startDate = e.target.value}} \r\n\t\t\t\t\t\t    \t\ttype=\"date\" className=\"form-control col-5\"/>\r\n\t\t\t\t\t\t\t    <div className=\"input-group-text\">до</div>\r\n\t      \t\t\t\t\t\t<input\r\n\t      \t\t\t\t\t\t\tonChange={(e) => {dataInputs.endDate = e.target.value}} \r\n\t      \t\t\t\t\t\t\ttype=\"date\" className=\"form-control col-5\"/>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t    <label className=\"form-label\">Время занятия:</label>\r\n\t\t\t\t\t\t    <div className=\"row periud\">\r\n\t\t\t\t\t\t    \t<input\r\n\t\t\t\t\t\t    \t\tonChange={(e) => {dataInputs.duration_Start = e.target.value}} \r\n\t\t\t\t\t\t    \t\ttype=\"time\" className=\"form-control col-5\"/>\r\n\t\t\t\t\t\t\t    <div className=\"input-group-text\">до</div>\r\n\t      \t\t\t\t\t\t<input\r\n\t      \t\t\t\t\t\t\tonChange={(e) => {dataInputs.duration_End = e.target.value}} \r\n\t      \t\t\t\t\t\t\ttype=\"time\" className=\"form-control col-5\"/>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<label className=\"form-label\">Дни недели:</label>\r\n\t\t\t\t\t\t    <div className=\"row col-12\">\r\n\t\t\t\t\t\t    \t<div className=\"form-check\">\r\n\t\t\t\t\t\t\t        <input\r\n\t\t\t\t\t\t\t        \tonChange={(e) => {\r\n\t\t\t\t\t\t\t        \t\tweekDay.one = [e.target.checked, e.target.value]\r\n\t\t\t\t\t\t\t        \t}} \r\n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='1' type=\"checkbox\"/>\r\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\r\n\t\t\t\t\t\t\t        \tПн\r\n\t\t\t\t\t\t\t      \t</label>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t    <div className=\"form-check\">\r\n\t\t\t\t\t\t\t        <input\r\n\t\t\t\t\t\t\t        \tonChange={(e) => {\r\n\t\t\t\t\t\t\t        \t\tweekDay.two = [e.target.checked, e.target.value]\r\n\t\t\t\t\t\t\t        \t}}  \r\n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='2' type=\"checkbox\"/>\r\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\r\n\t\t\t\t\t\t\t        \tВт\r\n\t\t\t\t\t\t\t      \t</label>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t    <div className=\"form-check\">\r\n\t\t\t\t\t\t\t        <input\r\n\t\t\t\t\t\t\t        \tonChange={(e) => {\r\n\t\t\t\t\t\t\t        \t\tweekDay.three = [e.target.checked, e.target.value]\r\n\t\t\t\t\t\t\t        \t}}  \r\n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='3' type=\"checkbox\"/>\r\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\r\n\t\t\t\t\t\t\t        \tСр\r\n\t\t\t\t\t\t\t      \t</label>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t    <div className=\"form-check\">\r\n\t\t\t\t\t\t\t        <input\r\n\t\t\t\t\t\t\t        \tonChange={(e) => {\r\n\t\t\t\t\t\t\t        \t\tweekDay.four = [e.target.checked, e.target.value]\r\n\t\t\t\t\t\t\t        \t}}  \r\n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='4' type=\"checkbox\"/>\r\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\r\n\t\t\t\t\t\t\t        \tЧт\r\n\t\t\t\t\t\t\t      \t</label>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t    <div className=\"form-check\">\r\n\t\t\t\t\t\t\t        <input\r\n\t\t\t\t\t\t\t        \tonChange={(e) => {\r\n\t\t\t\t\t\t\t        \t\tweekDay.five = [e.target.checked, e.target.value]\r\n\t\t\t\t\t\t\t        \t}} \r\n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='5' type=\"checkbox\"/>\r\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\r\n\t\t\t\t\t\t\t        \tПт\r\n\t\t\t\t\t\t\t      \t</label>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t    <div className=\"form-check\">\r\n\t\t\t\t\t\t\t        <input\r\n\t\t\t\t\t\t\t        \tonChange={(e) => {\r\n\t\t\t\t\t\t\t        \t\tweekDay.six = [e.target.checked, e.target.value]\r\n\t\t\t\t\t\t\t        \t}}  \r\n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='6' type=\"checkbox\"/>\r\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\r\n\t\t\t\t\t\t\t        \tСб\r\n\t\t\t\t\t\t\t      \t</label>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t    <div className=\"form-check\">\r\n\t\t\t\t\t\t\t        <input \r\n\t\t\t\t\t\t\t        \tonChange={(e) => {\r\n\t\t\t\t\t\t\t        \t\tweekDay.zero = [e.target.checked, e.target.value]\r\n\t\t\t\t\t\t\t        \t}} \r\n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='0' type=\"checkbox\"/>\r\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\r\n\t\t\t\t\t\t\t        \tВс\r\n\t\t\t\t\t\t\t      \t</label>\r\n\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t        </form>\r\n\t\t\t    </ScheduleForm>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ScheduleForm;","import React, {useState, useEffect} from 'react';\r\nimport {Modal, Button} from 'antd';\r\n\r\nimport Url from './../../../../url/url.js';\r\nimport localStorage_change from './../../../../#localStorage_change.js';\r\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\r\n\r\nimport {loading, Swalclose} from './../../../../alert/alert.js';\r\n\r\nimport moment from 'moment';\r\n\r\n//Style\r\nimport styled from '@emotion/styled';\r\n\r\nconst AddStydent_Group = ({PupilsGroup, http, title, pageId, update, schedule}) => {\r\n\r\n    // Modal\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n    // /Modal\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    const [PUPILS, setPupils] = useState([]);\r\n\r\n    const getPupils = () => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}${http}/find?limit=150&offset=0`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n\r\n            let {data} = res;\r\n            setPupils([...data])\r\n\r\n            let arr = [],\r\n                itn = 0;\r\n\r\n            // if (!PupilsGroup.length) {\r\n            //     setPupils(data);\r\n            //     return;\r\n            // }\r\n\r\n            data.forEach((itemS, i) => {\r\n\r\n                // let copu = true;\r\n\r\n\r\n                if (itemS._id !== PupilsGroup[itn]._id) {\r\n                    arr.push(itemS);\r\n                }\r\n\r\n                if (PupilsGroup.length - 1 > itn) {\r\n                    itn++;\r\n                }\r\n            })\r\n            console.log(arr)\r\n            console.log(data)\r\n            // setPupils([...arr])\r\n        })\r\n        .catch(error => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n            }\r\n        })\r\n    };\r\n\r\n    const changeSchedulePupil = (idPupil) => {\r\n\r\n        let newSchedule = [];\r\n\r\n        schedule.forEach((item) => {\r\n\r\n            let day = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\r\n                time_day = moment().diff(day, 'day');\r\n\r\n            if (time_day <= 0) {\r\n                newSchedule.push(item);\r\n            }\r\n        })\r\n\r\n        axios({\r\n            method: 'put',\r\n            url: `${Url}/CRM/Groups/${pageId}/Pupils/${idPupil}/Schedule`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: newSchedule\r\n        })\r\n        .then((res) => {\r\n            update();\r\n            Swalclose();\r\n        })\r\n        .catch(error => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n            }\r\n        })\r\n    }\r\n    const addPUPILS_Group = (data, idPupil) => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Groups/${pageId}/Pupils`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: data\r\n        })\r\n        .then((res) => {\r\n            changeSchedulePupil(idPupil);\r\n        })\r\n        .catch((error) => {\r\n            if (error.respons) {\r\n                RestrictionMessage(error.response.status)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getPupils()\r\n    }, []);\r\n\r\n    console.log(PUPILS)\r\n\r\n    let PUPILS_search_Li = PUPILS.map((item, i) => {\r\n\r\n        const choice = () => {\r\n\r\n            loading('Ученик добавляется', 'Пожалуйста подождите');\r\n\r\n            addPUPILS_Group([item._id], item._id);\r\n        };\r\n\r\n        const Li = styled.li({\r\n            span: {\r\n                cursor: 'pointer'\r\n            }\r\n        });\r\n        console.log(i)\r\n        return (\r\n            <Li key={item._id}\r\n                onClick={choice}\r\n                className=\"list-group-item\">\r\n                <span className=\"badge bg-warning text-dark\">{item.surname} {item.name}</span>\r\n            </Li>\r\n        );\r\n    });\r\n\r\n    const Span = styled.span({\r\n        cursor: 'pointer'\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <Span\r\n                className=\"btn \"\r\n                onClick={showModal}\r\n            >\r\n                <i className=\"bi bi-person-plus-fill\" style={{color: '#ffc107', fontSize: '24px'}}></i>\r\n            </Span>\r\n\r\n            <Modal\r\n                title={`Добавить ${title}`}\r\n                visible={isModalVisible}\r\n                onCancel={handleCancel}\r\n                width={600}\r\n                footer={[\r\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\r\n                        Отмена\r\n                    </Button>\r\n                ]}\r\n            >\r\n                <div className=\"row addPUPILS\">\r\n                    <div className=\"col-12 input-group\">\r\n                        <input\r\n                            id=\"fort\"\r\n                            onChange={() => {\r\n                            }}\r\n                            autoComplete=\"off\"\r\n                            type=\"search\"\r\n                            className=\"form-control\"\r\n                            name=\"q\"\r\n                            placeholder=\"Поиск находится в разработке...\"\r\n                        />\r\n\r\n                        <ul className=\"col-12 list-group list-group-flush\">\r\n                            {PUPILS_search_Li}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nexport default AddStydent_Group;","import React, {useState, useEffect} from 'react';\r\nimport { Menu, Dropdown } from 'antd';\r\n\r\nimport Url from './../../../../../url/url.js';\r\nimport localStorage_change from './../../../../../#localStorage_change.js';\r\nimport ReturnAge from './../../../return-age/returnAge.js';\r\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\r\n\r\nimport InputMask from 'react-input-mask';\r\n\r\nimport {Toast, loading, Swalclose} from './../../../../../alert/alert.js';\r\n\r\n// Style\r\nimport styled from '@emotion/styled';\r\n\r\nconst InfoTable = ({Data_ALL, updetePage}) => {\r\n\r\n\t// let jwt = require('jsonwebtoken');\r\n\r\n\t// let Display = ''\r\n\r\n\t// if (jwt.decode(localStorage.getItem('tokenID')).role = 'teacher') {\r\n\t// \tDisplay = ' displayNone'\r\n\t// }\r\n\r\n\tlet newInfo = {};\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconst [visible, setVisible] = useState('')\r\n\r\n\tconst [info, setInfo] = useState(Data_ALL),\r\n\t\t  {GROUP_NAME, TUTOR, LEVEL, PLACES, PUPILS, GLOBAL_SCHEDULE, _id} = info;\r\n\r\n\tlet PUPILS0 = PUPILS? PUPILS : ''\r\n\r\n\tlet tutor = 'Учитель не добавлен...'\r\n\r\n\tif (TUTOR) {\r\n\t\tlet { surname, name, midname } = TUTOR\r\n\t\ttutor = `${surname} ${name} ${midname}`\r\n\t}\t  \r\n\r\n\tconst [AllTutor, setAllTutor] = useState([{\r\n\t\tname: 'Учителей не обнаруженно...',\r\n\t\tsurname: '',\r\n\t\tmidname: '',\r\n\t\t_id: '546456'\r\n\t}]);\r\n\r\n\tconst getTUTOR = (offset = 0) => {\r\n\t\taxios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: `${Url}/AdminPanel/CRMAccounts?limit=20&offset=${offset}&accountType=teacher`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tlet {data} = res\r\n\t\t\tconsole.log(data)\r\n\t\t\tsetAllTutor(data)\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t\tif (error.response.status == 401) {\r\n\r\n\t\t\t\t\tif (error.response.data.message == 'TOKEN_EXPIRED') {\r\n\r\n\t\t\t\t\t\tlocalStorage_change(error.response.data.token);\r\n\t\t\t\t\t\tgetTUTOR();\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tlocalStorage.removeItem('tokenID');\r\n\t\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst onChangeInfo = () => {\r\n\t\taxios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tupdetePage(res.data);\r\n\t\t\tconsole.log(newInfo);\r\n\t\t\t\r\n\t\t\tSwalclose();\r\n\t\t\tToast.fire({\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: 'Изменения сохранены'\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst onAddTutur = (id) => {\r\n\r\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: `${Url}/CRM/Groups/${_id}/Teacher?tutor_id=${id}`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then(() => {\r\n\t\t\tonChangeInfo()\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tlet A_Tutor = AllTutor.map((item, i) => {\r\n\t\tlet {name, surname, midname} = item\r\n\r\n\t\treturn (\r\n\t\t\t<option key={item._id} value={item._id}>{surname} {name} {midname}</option>\r\n\t\t\t);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tgetTUTOR()\r\n\t}, [])\r\n\r\n\tconst onChangeInfoItem = () => {\r\n\r\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'patch',\r\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t},\r\n\t\t\tdata: newInfo\r\n\t\t})\r\n\t\t.then(() => {\r\n\t\t\tonChangeInfo();\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst UL = styled.ul({\r\n\t\twidth: '318px',\r\n\t\tpadding: '10px',\r\n\t\tbackground: 'rgba(0, 0, 0, 0.5)',\r\n\t\t'.save': {\r\n\t\t\tmarginTop: '16px',\r\n\t\t\tcursor: 'pointer'\r\n\t\t},\r\n\t\tli: {\r\n\t\t\tborder: 'none'\r\n\t\t}\r\n\t})\r\n\r\n\tconst Box = styled.span({\r\n\t\tfontSize: '13px'\r\n\t})\r\n\t// +^\r\n\tconst menuGROUP_NAME = (\r\n\t    <Menu>\r\n\t        <Menu.Item>\r\n\t            <input\r\n\t                placeholder='Изменить название'\r\n\t                onChange={(e) => {\r\n\t                    newInfo = { GROUP_NAME: `${e.target.value}` };\r\n\t                }}\r\n\t                type=\"text\"\r\n\t                className=\"text-dark form-control col-12\"\r\n\t            />\r\n\t        </Menu.Item>\r\n\t        <Menu.Item>\r\n\t            <Box\r\n\t                onClick={() => {\r\n\t                    onChangeInfoItem();\r\n\t                    setVisible(\"\");\r\n\t                }}\r\n\t                className=\"badge bg-warning text-dark save\"\r\n\t            >\r\n\t                Сохранить\r\n\t            </Box>\r\n\t        </Menu.Item>\r\n\t    </Menu>\r\n\t)\r\n\tconst menuTutor = (\r\n\t    <Menu>\r\n\t        <Menu.Item>\r\n\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t    <select\r\n\t\t\t\t        onChange={(e) => {\r\n\t\t\t\t            onAddTutur(e.target.value);\r\n\t\t\t\t        }}\r\n\t\t\t\t        className=\"form-control\"\r\n\t\t\t\t    >\r\n\t\t\t\t        <option></option>\r\n\t\t\t\t        {A_Tutor}\r\n\t\t\t\t    </select>\r\n\t\t\t\t</div>\r\n\t        </Menu.Item>\r\n\t    </Menu>\r\n\t)\r\n\tconst menuLEVEL = (\r\n\t    <Menu>\r\n\t        <Menu.Item>\r\n\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t    <select\r\n\t\t\t\t        onChange={(e) => {\r\n\t\t\t\t            newInfo = { LEVEL: +e.target.value };\r\n\t\t\t\t        }}\r\n\t\t\t\t        className=\"form-control\"\r\n\t\t\t\t    >\r\n\t\t\t\t        <option></option>\r\n\t\t\t\t        <option value=\"1\">1 класс</option>\r\n\t\t\t\t        <option value=\"2\">2 класс</option>\r\n\t\t\t\t        <option value=\"3\">3 класс</option>\r\n\t\t\t\t        <option value=\"4\">4 класс</option>\r\n\t\t\t\t    </select>\r\n\t\t\t\t</div>\r\n\t        </Menu.Item>\r\n\t        <Menu.Item>\r\n\t            <Box\r\n\t                onClick={() => {\r\n\t                    onChangeInfoItem();\r\n\t                    setVisible(\"\");\r\n\t                }}\r\n\t                className=\"badge bg-warning text-dark save\"\r\n\t            >\r\n\t                Сохранить\r\n\t            </Box>\r\n\t        </Menu.Item>\r\n\t    </Menu>\r\n\t)\r\n\tconst menuPLACES = (\r\n\t\t<Menu>\r\n\t        <Menu.Item>\r\n\t\t\t\t<input\r\n\t\t\t\t\tplaceholder=\"Изменить колличество мест\"\r\n\t\t\t\t\tonChange={(e) => {newInfo = {PLACES: +e.target.value}}}\r\n\t\t\t\t\ttype=\"number\" className=\"text-dark form-control col-12\"/>\r\n\t        </Menu.Item>\r\n\t        <Menu.Item>\r\n\t            <Box\r\n\t                onClick={() => {\r\n\t                    onChangeInfoItem();\r\n\t                    setVisible(\"\");\r\n\t                }}\r\n\t                className=\"badge bg-warning text-dark save\"\r\n\t            >\r\n\t                Сохранить\r\n\t            </Box>\r\n\t        </Menu.Item>\r\n\t    </Menu>\r\n\t)\r\n\r\n\tconst changeData = (menu, data_name) => {\r\n\r\n\t\treturn (\r\n\t\t\t<Dropdown\r\n\t\t\t    overlay={menu}\r\n\t\t\t    visible={() => {\r\n\t\t\t        if (visible === data_name) {\r\n\t\t\t            return true;\r\n\t\t\t        } else {\r\n\t\t\t            return false;\r\n\t\t\t        }\r\n\t\t\t    }}\r\n\t\t\t    trigger={[\"click\"]}\r\n\t\t\t>\r\n\t\t\t    <i  className=\"bi bi-pencil\" \r\n\t\t\t\t    onClick={() => {\r\n\t\t\t\t    \tif (visible === data_name) {\r\n\t\t\t\t    \t\tsetVisible('')\r\n\t\t\t\t    \t} else {\r\n\t\t\t\t    \t\tsetVisible(data_name)\r\n\t\t\t\t    \t}\r\n\t\t\t\t    }}\r\n\t\t\t\t    style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\r\n\t\t\t\t    ></i>\r\n\t\t\t</Dropdown>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<li className=\"list-group-item\">Название: <span className=\"badge bg-info text-light\">{GROUP_NAME}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t    {changeData(menuGROUP_NAME,'GROUP_NAME')}\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Учитель: <span className=\"badge bg-warning text-dark\">{tutor}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t\t{changeData(menuTutor,'tutor')}\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Класс: <span className=\"badge bg-success\">{LEVEL}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t\t{changeData(menuLEVEL,'LEVEL')}\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Mест в группе: <span className=\"badge bg-info text-dark\">{PLACES}</span>\r\n\t\t\t\t<div className={`btn-group`}>\r\n\t\t\t\t\t{changeData(menuPLACES,'PLACES')}\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li className=\"list-group-item\">Свободных мест: <span className=\"badge bg-light text-dark\">{PLACES - PUPILS0.length}</span></li>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default InfoTable;","import React, {useState, useEffect} from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\n\r\nimport Schedule from './../../#schedule/schedule.js';\r\nimport ScheduleForm from './../../#schedule/form/scheduleForm.js';\r\nimport PupilsSandTime from './../group-page/PupilsSandTime/PupilsSandTime.js';\r\nimport AddStydentGroup from './../../#more-functions/add-student_group/add-Student_Group.js';\r\nimport InfoTable from './Info-table/InfoTable.js';\r\nimport PayHistory from './payment-history/paymentHistory.js';\r\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\r\n\r\nimport moment from 'moment';\r\n\r\nimport Url from './../../../../url/url.js';\r\nimport localStorage_change from './../../../../#localStorage_change.js';\r\n// Style \r\nimport './group-page.css';\r\nimport styled from '@emotion/styled';\r\n\r\nconst GroupPage = ({setUrlPage}) => {\r\n\r\n    let dataGroup = useParams().id\r\n\r\n    let localSchedule = {};\r\n    const [DataALL, setDataALL] = useState({\r\n        PUPILS: [\r\n            {\r\n                _id: '564564',\r\n                localSchedule: localSchedule\r\n            }\r\n        ],\r\n        GROUP_NAME: \"Загрузка...\",\r\n        TUTOR: \"\",\r\n        LEVEL: '',\r\n        PLACES: '',\r\n        GLOBAL_SCHEDULE: [\r\n            {\r\n                duration: ['--:--', '--:--']\r\n            }\r\n        ],\r\n        _id: '6456'\r\n    });\r\n\r\n    const {GROUP_NAME, TUTOR, LEVEL, PLACES, PUPILS, GLOBAL_SCHEDULE, _id} = DataALL;\r\n\r\n    let arrPayHistory = [];\r\n    if (PUPILS) {\r\n        PUPILS.forEach((item) => {\r\n\r\n            if (item.paymentHistory) {\r\n                item.paymentHistory.forEach((itemLocal) => {\r\n                    if (itemLocal.group_id == _id) {\r\n                        arrPayHistory.push(itemLocal);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    // let SCHEDULE = [\r\n    // \t{date: \"01.01.2021\", duration: ['10:00', '11:00'], status: \"\", tutor: \"\"},\r\n    //    {date: \"04.01.2021\", duration: ['10:00', '11:00'], status: \"\", tutor: \"\"},\r\n    //    {date: \"06.01.2021\", duration: ['10:00', '11:00'], status: \"\", tutor: \"\"}\r\n    // ];\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    const getGroup_Id = () => {\r\n        axios({\r\n            method: 'get',\r\n            url: `${Url}/CRM/Groups/${dataGroup}`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setDataALL(res.data);\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                if (error.response.status == 401) {\r\n\r\n                    if (error.response.data.message == 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(error.response.data.token);\r\n                        getGroup_Id();\r\n                    } else {\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getGroup_Id();\r\n    }, []);\r\n\r\n    const ChangeGroup = () => {\r\n        // Редактирование группы.\r\n    }\r\n\r\n    const breakpoints = [767],\r\n        mq = breakpoints.map(\r\n            bp => `@media (max-width: ${bp}px)`\r\n        );\r\n\r\n    const GroupPage = styled.div({\r\n        marginTop: '0px',\r\n        margin: '0 auto',\r\n        '.pad': {\r\n            padding: '0px',\r\n            paddingRight: '10px',\r\n            [mq[0]]: {\r\n                paddingRight: '0px'\r\n            }\r\n        },\r\n        '.infoLog': {\r\n            marginBottom: '10px',\r\n            padding: '0',\r\n            [mq[0]]: {\r\n                paddingBottom: '10px'\r\n            },\r\n            '.calendar': {\r\n                margin: '9px 0',\r\n                marginRight: '10px',\r\n                fontSize: '15px'\r\n            }\r\n        },\r\n        '.group-name': {\r\n            padding: '0',\r\n            borderBottom: '1px solid #0dcaf0',\r\n            [mq[0]]: {\r\n                borderRight: 'none'\r\n            }\r\n        },\r\n        '.time': {\r\n            margin: '0',\r\n            padding: '0',\r\n            h5: {\r\n                fontSize: '1.25rem'\r\n            }\r\n        },\r\n        '.ulBox': {\r\n            borderRadius: '15px',\r\n            padding: '0px'\r\n        },\r\n        '.editing': {\r\n            background: '#fff',\r\n            borderRadius: '10px 10px 0 0',\r\n            i: {\r\n                marginLeft: '95%',\r\n                cursor: 'pointer'\r\n            }\r\n        },\r\n        li: {\r\n            backgroundColor: 'none',\r\n            span: {\r\n                fontSize: '16px',\r\n                margin: '0 5px 5px 0'\r\n            }\r\n        }\r\n    });\r\n    const TablePupils = styled.div({\r\n        background: '#fff',\r\n        margin: '10px 0',\r\n        padding: '10px',\r\n        borderRadius: '15px',\r\n        '& > h3': {\r\n            fontSize: '22px'\r\n        }\r\n    });\r\n\r\n    let PUPILS_List = ''\r\n\r\n    if (PUPILS) {\r\n        PUPILS_List = PUPILS.map((item) => {\r\n            return (\r\n                <span key={item._id} className=\"badge bg-info text-dark\">{`${item.name} ${item.surname}`}</span>\r\n            );\r\n        });\r\n    }\r\n\r\n    let PUPILSandTIME = ''\r\n\r\n    if (PUPILS) {\r\n        PUPILSandTIME = PUPILS.map((itemG) => {\r\n            return <PupilsSandTime key={itemG._id} setUrlPage={setUrlPage} itemG={itemG} dataGroup={dataGroup}\r\n                                   getGroup_Id={getGroup_Id} setData={setDataALL} surname={itemG.surname}\r\n                                   name={itemG.name} type='group'/>;\r\n        });\r\n    }\r\n\r\n    let jwt = require('jsonwebtoken')\r\n    console.log(PUPILS)\r\n    let addPupils_g =\r\n        <AddStydentGroup\r\n            PupilsGroup={PUPILS}\r\n            schedule={GLOBAL_SCHEDULE}\r\n            update={getGroup_Id}\r\n            pageId={dataGroup}\r\n            http='/CRM/Pupils'\r\n            title='ученика'\r\n        />\r\n    return (\r\n        <>\r\n            <GroupPage className=\"container row col-12\">\r\n                <div className=\"col-12 col-md-6 pad\">\r\n                    <div className=\"infoLog align-self-start col-md-12 col-12\">\r\n                        <div className=\"group-name col-12 col-lg-12\">\r\n                            <h3>{GROUP_NAME}</h3>\r\n                        </div>\r\n                        <div className=\"time col-md-12 row\">\r\n                            <h6 className=\"calendar badge bg-info text-dark\">Расписание: </h6>\r\n                            {/*{calendarPlus}*/}\r\n                            <ScheduleForm updateGroup={getGroup_Id} groupID={dataGroup}/>\r\n                            <Schedule GLOBAL_SCHEDULE={GLOBAL_SCHEDULE ? GLOBAL_SCHEDULE : []}/>\r\n                        </div>\r\n                        {/*<PayHistory pay_History={arrPayHistory}/>*/}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-6 ulBox\">\r\n                    <ul className=\"list-group list-group-flush\">\r\n                        <InfoTable Data_ALL={DataALL} updetePage={setDataALL}/>\r\n                        <li className=\"list-group-item\">Ученики: {PUPILS_List} {addPupils_g}</li>\r\n                    </ul>\r\n                </div>\r\n                <TablePupils className=\"container col-12\">\r\n                    <h3 className=\"badge bg-warning\">Ученики:</h3>\r\n                    {PUPILSandTIME}\r\n                </TablePupils>\r\n            </GroupPage>\r\n        </>\r\n    );\r\n};\r\nexport default GroupPage;\r\n// useParams()","import React, {useState} from 'react'\r\nimport styled from '@emotion/styled'\r\n\r\nconst SalesFunnel = () => {\r\n\r\n    const [cardList, setCadtList] = useState([\r\n        {id: 1, color: 'red', order: 4, text: 'КАРТОЧКА 4'},\r\n        {id: 2, color: '#ff4', order: 3, text: 'КАРТОЧКА 3'},\r\n        {id: 3, color: '#222', order: 2, text: 'КАРТОЧКА 2'},\r\n        {id: 4, color: '#777', order: 1, text: 'КАРТОЧКА 1'}\r\n    ])\r\n\r\n    const [currentCard, setCurrentCard] = useState(null)\r\n\r\n    const App = styled.div({\r\n        width: '100vw',\r\n        height: '100vh',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        '.card': {\r\n            width: '200px',\r\n            height: '300px',\r\n            borderRadius: '12px',\r\n            border: '5px solid',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            margin: '20px',\r\n            cursor: 'grab'\r\n        }\r\n    })\r\n\r\n    function dragStartHandler(e, card) {\r\n        console.log('drag', card)\r\n        setCurrentCard(card)\r\n    }\r\n\r\n    function dragEndHandler(e, color) {\r\n        e.target.style.background = color\r\n    }\r\n\r\n    function dragOverHandler(e) {\r\n        e.preventDefault()\r\n        e.target.style.background = 'lightgray'\r\n    }\r\n\r\n    function dropHandler(e, card) {\r\n        e.preventDefault()\r\n        setCadtList(cardList.map(c => {\r\n            if (c.id === card.id) {\r\n                return {...c, order: currentCard.order}\r\n            }\r\n            if (c.id === currentCard.id) {\r\n                return {...c, order: card.order}\r\n            }\r\n            return c\r\n        }))\r\n        e.target.style.background = '#fff'\r\n    }\r\n\r\n    const sortCards = (a, b) => {\r\n        if (a.order > b.order) {\r\n            return 1\r\n        } else {\r\n            return -1\r\n        }\r\n    }\r\n\r\n    return (\r\n        <App>\r\n            {/*{cardList.sort(sortCards).map(card =>*/}\r\n            {/*    <div*/}\r\n            {/*        onDragStart={(e) => dragStartHandler(e, card)}*/}\r\n            {/*        onDragLeave={(e) => dragEndHandler(e, card.color)}*/}\r\n            {/*        onDragEnd={(e) => dragEndHandler(e, card.color)}*/}\r\n            {/*        onDragOver={(e) => dragOverHandler(e)}*/}\r\n            {/*        onDrop={(e) => dropHandler(e, card)}*/}\r\n            {/*        draggable={true}*/}\r\n            {/*        className={'card'}*/}\r\n            {/*        style={{background: `${card.color}`}}>*/}\r\n            {/*        {card.text}*/}\r\n            {/*    </div>*/}\r\n            {/*)}*/}\r\n        </App>\r\n    )\r\n}\r\n\r\nexport default SalesFunnel","import React from 'react';\r\n\r\nimport {Upload, Button} from 'antd';\r\n\r\nimport 'antd/dist/antd.css';\r\n\r\nimport Url from './../../../url/url.js'\r\nimport {Toast} from '../../../alert/alert.js'\r\n\r\nimport styled from '@emotion/styled'\r\n\r\nconst UploadPupils = () => {\r\n\r\n    const Box = styled.div({\r\n        '.ButtonUpload': {\r\n            padding: 0,\r\n            background: 'rgba(0, 0, 0, 0)',\r\n            border: 'none',\r\n            color: '#a6adb4',\r\n            '&:hover': {\r\n                color: '#fff'\r\n            }\r\n        }\r\n    })\r\n\r\n    const props = {\r\n        name: 'file',\r\n        action: `${Url}/CRM/Pupils/uploadFile`,\r\n        accept: '.csv,.xlsx',\r\n        headers: {\r\n            authorization: 'authorization-text',\r\n\r\n        },\r\n        onChange(info) {\r\n\r\n            if (info.file.status === 'done') {\r\n\r\n                Toast.fire({\r\n                    icon: 'success',\r\n                    title: `Фаил ${info.file.name}, успешно загружен`\r\n                })\r\n            } else if (info.file.status === 'error') {\r\n                Toast.fire({\r\n                    icon: 'error',\r\n                    title: `В ${info.file.name}, ошибки на строках: ${info.file.response.message.join(\", \")}`\r\n                })\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box>\r\n            <Upload {...props}>\r\n                <Button className={'ButtonUpload'}>Загрузите файлы c учениками</Button>\r\n            </Upload>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default UploadPupils","import React, {useState} from 'react';\r\nimport { Table, Button, Tag, Input, Space, Checkbox, Menu } from 'antd';\r\n\r\n\r\nimport Url from './../../url/url.js';\r\n\r\nimport { \r\n\tSearchOutlined, \r\n\tCloseCircleOutlined, \r\n\tFilterFilled, \r\n\tMenuFoldOutlined \r\n} from '@ant-design/icons';\r\n\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst TableGroups = ({ \r\n\tdataSource = [], \r\n\tcolumns = [], \r\n\tsetParamFilrers, \r\n\tparamFilrers, \r\n\tupdate = () => {} }) => {\r\n\r\n\tconst Box = styled.div({\r\n\t\t// [mq[1]]: {\r\n\t\t// \tpadding: '0 0',\r\n\t\t// },\r\n\t\t'.log_h2': {\r\n\r\n\t\t},\r\n\t\ttd: {\r\n\t\t\tpaddingTop: '1px',\r\n\t\t\tpaddingBottom: '4px'\r\n\t\t},\r\n\t\t'th, td': {\r\n\t\t\tpadding: '16px 11px',\r\n\t\t\twhiteSpace: 'nowrap'\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Table\r\n\t\t\t    pagination={false}\r\n\t\t\t    dataSource={dataSource}\r\n\t\t\t    columns={columns}\r\n\t\t\t    scroll={{ x: 0 }}\r\n\t\t\t    onChange={(pagination, filters, sorter, extra) => {\r\n\t\t\t    \tconsole.log(filters)\r\n\t\t\t    \tlet box = {...paramFilrers}\r\n\t\t\t    \tfor (let key in filters) {\r\n\t\t\t    \t\tif (filters[key]) {\r\n\t\t\t    \t\t\tconsole.log(filters[key])\r\n\t\t\t    \t\t\tbox[key] = filters[key]\r\n\t\t\t    \t\t} else if (key != 'GROUP_NAME') {\r\n\t\t\t    \t\t\tbox[key] = []\r\n\t\t\t    \t\t}\r\n\t\t\t    \t}\r\n\t\t\t    \tupdate(0, box)\r\n\t\t\t    \tsetParamFilrers(box)\r\n\t\t\t    }}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default TableGroups","import React from 'react';\r\nimport { MenuFoldOutlined } from '@ant-design/icons';\r\n\r\nexport const getColumn = (con, fnc, title, dataIndex) => ({\r\n    title: () => (\r\n        <>\r\n            <MenuFoldOutlined\r\n                onClick={() => {\r\n                    // console.log(columns);\r\n                    if (con[1]) {\r\n                        fnc([\"\", \"\"]);\r\n                    } else {\r\n                        fnc([\r\n                            <span style={{ paddingLeft: \"7px\" }}>{title}</span>,\r\n                            dataIndex,\r\n                        ]);\r\n                    }\r\n                }}\r\n            />\r\n            {con[0]}\r\n        </>\r\n    ),\r\n    dataIndex: `${con[1]}`,\r\n})","import React, {useState, useEffect} from 'react';\r\nimport {Link} from \"react-router-dom\"\r\nimport { Table, Button, Tag, Input, Space, Checkbox, Menu } from 'antd';\r\nimport { SearchOutlined, CloseCircleOutlined, FilterFilled, MenuFoldOutlined } from '@ant-design/icons';\r\n\r\nimport TableGroups from './../../../table-groups/table-groups.js'\r\nimport { getColumn } from './../change-column/change-column.js'\r\nimport Pagination from './../pagination/pagination.js'\r\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\r\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\r\n\r\nimport localStorage_change from './../../../../#localStorage_change.js'\r\n// Style\r\nimport styled from '@emotion/styled';\r\n\r\n\r\nimport Url from './../../../../url/url.js'\r\n\r\nconst Create_Columns_Rows_Groups = () => {\r\n\r\n\tconst [offsetG, setOffsetG] = useState(0)\r\n\tconst [Count, setCount] = useState(1)\r\n\r\n\tconst [dataObj, setDataObj] = useState([])\r\n\r\n\t// Filters\r\n\tconst [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\r\n\tconst [filterDropdownVisible, setFilterDropdownVisible] = useState({\r\n\t    GROUP_NAME: false,\r\n\t})\r\n\r\n\tconst [GROUP_NAME, setGROUP_NAME] = useState('')\r\n\t// /Filters\r\n\r\n\t// Change colums\r\n\tconst [g, setG] = useState([\r\n\t\t<span style={{ paddingLeft: \"7px\" }}>Группа</span>,\r\n\t\t\"GROUP_NAME\",\r\n\t])\r\n\tconst [l, setL] = useState([\r\n\t\t<span style={{ paddingLeft: \"7px\" }}>Уровень группы</span>,\r\n\t\t\"LEVEL\",\r\n\t])\r\n\tconst [p, setP] = useState([\r\n\t\t<span style={{ paddingLeft: \"7px\" }}>Количество мест</span>,\r\n\t\t\"PLACES\",\r\n\t])\r\n\tconst [o, setO] = useState([\r\n\t\t<span style={{ paddingLeft: \"7px\" }}>Свободных мест</span>,\r\n\t\t\"OCCUPIED\",\r\n\t])\r\n\tconst [n, setN] = useState([\r\n\t\t<span style={{ paddingLeft: \"7px\" }}>Число учеников</span>,\r\n\t\t\"NUMBER_PUPILS\",\r\n\t])\r\n\tconst [t, setT] = useState([\r\n\t\t<span style={{ paddingLeft: \"7px\" }}>Учитель</span>,\r\n\t\t\"TUTOR\",\r\n\t])\r\n\t// /Change colums\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconst [Tutors, setTutors] = useState([])\r\n\r\n\tconst addTUTOR = () => {\r\n\t\taxios({\r\n\t\t\tmethod: 'get',\r\n\t\t\turl: `${Url}/AdminPanel/CRMAccounts?limit=100&offset=0&accountType=teacher`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tlet {data} = res\r\n\t\t\tsetTutors(data)\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t\tlet { status, data, statusText } = error.response;\r\n\t\t\t\tif (status == 401) {\r\n\t\t\t\t\tif (data.message == \"TOKEN_EXPIRED\") {\r\n\t\t\t\t\t\tlocalStorage_change(error.response.data.token);\r\n\t\t\t\t\t\taddTUTOR()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"tokenID\");\r\n\t\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst update = (offset = 0, filters = {}) => { // console.log(filters)\r\n\r\n\t\tsetLoadingButtomFilrer(true)\r\n\t\t\r\n\t\tlet box = {}\r\n\r\n\t\tfor (let key in filters) {\r\n\t\t\tif (key != 'OCCUPIED' & filters[key][0] != undefined) {\r\n\t\t\t\tconsole.log(filters[key], 1)\r\n\t\t\t\tbox[`${key}S`] = filters[key]\r\n\t\t\t} else if (filters[key].length) {\r\n\t\t\t\tconsole.log(filters[key], 2)\r\n\t\t\t\tbox[key] = filters[key][0]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconsole.log(box)\r\n\r\n\t\taxios({\r\n\t\t\tmethod: 'post',\r\n\t\t\turl: `${Url}/CRM/Groups/find?limit=${getLimit}&offset=${offset}`,\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\r\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n\t\t\t},\r\n\t\t\tdata: {\r\n\t\t\t\tfilters: box\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then(res => {\r\n\t\t\tlet {data, headers} = res\r\n\t\t\tsetDataObj(data)\r\n\t\t\tsetFilterDropdownVisible({GROUP_NAME: false})\r\n\t\t\tsetLoadingButtomFilrer(false)\r\n\t\t\tsetCount(headers.count);\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t\tsetLoadingButtomFilrer(false)\r\n\t\t\t\tlet { status, data } = error.response;\r\n\r\n\t\t\t\tif (status == 401) {\r\n\t\t\t\t\tif (data.message == \"TOKEN_EXPIRED\") {\r\n\t\t\t\t\t\tlocalStorage_change(data.token);\r\n\t\t\t\t\t\tupdate()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"tokenID\");\r\n\t\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\taddTUTOR()\r\n\t\tupdate()\r\n\t}, [])\r\n\r\n\t// Filrers\r\n\tconst [paramFilrers, setParamFilrers] = useState({ // paramFilrers\r\n\t\tGROUP_NAME: [],\r\n\t\tLEVEL: [],\r\n\t\tTUTOR: [],\r\n\t\tOCCUPIED: []\r\n\t});\r\n\r\n\tconsole.log(paramFilrers)\r\n\r\n\tlet CheckboxValue = {\r\n\t    GROUP_NAME: {}\r\n\t};\r\n\r\n\tfor (let key in CheckboxValue) {\r\n\t    paramFilrers[key].forEach((item) => {\r\n\t        CheckboxValue[key][item] = true;\r\n\t    });\r\n\t}\r\n\r\n\t// const [dataGroupsChecked, setDataGroupsChecked] = useState({})\r\n\t// // { // delete obj['gh']\r\n\t// // \tid: ['text', true],\r\n\t// // \tkg: ['java', true]\r\n\t// // })\r\n\t// const [GroupsCheckedF, setGroupsCheckedF] = useState({})\r\n\r\n\t// let heapGroups = {...dataGroupsChecked, ...GroupsCheckedF}\r\n\r\n\t// let dataGroupsCheck = []\r\n\r\n\t// for (let key in heapGroups) {\r\n\r\n\t// \tdataGroupsCheck.push({\r\n\t// \t\tid: key,\r\n\t// \t\ttext: heapGroups[key][0],\r\n\t// \t\tchecked: heapGroups[key][1]\r\n\t// \t})\r\n\t// }\r\n\r\n\r\n\tconst [globalFilters, setGlobalFilters] = useState({\r\n\t    GROUP_NAME: []\r\n\t});\r\n\r\n\tconst handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n\r\n\t    if (selectedKeys[0]) {\r\n\t    \tlet FiltersLocal = { ...globalFilters };\r\n\r\n\t    \tFiltersLocal[dataIndex].push({\r\n\t    \t\ttext: selectedKeys[0],\r\n\t    \t\tvalue: selectedKeys[0],\r\n\t    \t});\r\n\r\n\t    \tsetGlobalFilters(FiltersLocal);\r\n\t    \tselectedKeys[0] = ''\r\n\t    }\r\n\t};\r\n\r\n\tlet DataSource = dataObj.map(item => {\r\n\r\n\t\tlet {GROUP_NAME, LEVEL, PLACES, PUPILS, TUTOR, _id} = item\r\n\r\n\t\treturn ({\r\n\t\t\tkey: _id,\r\n\t\t\tGROUP_NAME: [GROUP_NAME, _id],\r\n\t\t\tLEVEL: LEVEL,\r\n\t\t\tPLACES: PLACES,\r\n\t\t\tNUMBER_PUPILS: PUPILS? PUPILS.length : '',\r\n\t\t\tTUTOR: TUTOR? `${TUTOR.surname} ${TUTOR.name} ${TUTOR.midname}` : '-',\r\n\t\t\tOCCUPIED: PUPILS? PLACES - PUPILS.length : ''\r\n\t\t})\r\n\t})\r\n\r\n\tconst BoxButtom = styled.div({\r\n\t    marginTop: \"10px\",\r\n\t    svg: {\r\n\t        marginBottom: \"3px\",\r\n\t    },\r\n\t});\r\n\r\n\tconst getColumnSearchProps = (dataIndex) => ({\r\n\t    filterDropdown: ({\r\n\t        setSelectedKeys,\r\n\t        selectedKeys,\r\n\t        confirm,\r\n\t        clearFilters,\r\n\t    }) => (\r\n\t        <div style={{ padding: 8 }}>\r\n\t            <Input\r\n\t                placeholder={`Создать фильтр ${dataIndex}`}\r\n\t                value={selectedKeys[0]}\r\n\t                onChange={(e) =>\r\n\t                    setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n\t                }\r\n\t                onPressEnter={() =>\r\n\t                    handleSearch(selectedKeys, confirm, dataIndex)\r\n\t                }\r\n\t                style={{ marginBottom: 8, display: \"block\" }}\r\n\t            />\r\n\t            <Space>\r\n\t                <Button\r\n\t                    type=\"primary\"\r\n\t                    onClick={() => {\r\n\t                        handleSearch(selectedKeys, confirm, dataIndex);\r\n\t                    }}\r\n\t                    // onClick={() => {\r\n\t                    // \tconfirm({ closeDropdown: false })\r\n\r\n\t                    // \tsetSelectedKeys(selectedKeys[0])\r\n\t                    // \tsetSearchedColumn(dataIndex)\r\n\t                    // }}\r\n\t                    size=\"small\"\r\n\t                    style={{ width: 140 }}\r\n\t                >\r\n\t                    Добавить в фильтр\r\n\t                </Button>\r\n\t                <Button\r\n\t                    type=\"link\"\r\n\t                    size=\"small\"\r\n\t                    // icon={<SearchOutlined />}\r\n\t                    onClick={() => {\r\n\t                        let filters = { ...globalFilters };\r\n\t                        filters[dataIndex] = [];\r\n\t                        // setGlobalFilters(filters);\r\n\t                        setGlobalFilters(filters)\r\n\r\n\t                        let dataFilters = { ...paramFilrers };\r\n\t                        dataFilters[dataIndex] = [];\r\n\t                        // setParamFilrers(dataFilters);\r\n\r\n\t                        setParamFilrers(dataFilters)\r\n\r\n\t                        update(0, dataFilters);\r\n\t                    }}\r\n\t                >\r\n\t                    Очистить фильтр\r\n\t                </Button>\r\n\t            </Space>\r\n\t            <Menu>\r\n\t                {globalFilters[dataIndex].map((item, i) => {\r\n\t                    let checked = false;\r\n\t                    paramFilrers[dataIndex].forEach((param) => {\r\n\t                        if (param == item.text) {\r\n\t                            checked = true;\r\n\t                        }\r\n\t                    });\r\n\r\n\t                    return (\r\n\t                        <Menu.Item key={`${item.text}${i}`}>\r\n\t                            <Checkbox\r\n\t                                defaultChecked={checked}\r\n\t                                onChange={(e) => {\r\n\t                                    if (e.target.checked) {\r\n\t                                        CheckboxValue[dataIndex][\r\n\t                                            item.text\r\n\t                                        ] = true;\r\n\t                                    } else {\r\n\t                                        CheckboxValue[dataIndex][\r\n\t                                            item.text\r\n\t                                        ] = false;\r\n\t                                    }\r\n\t                                }}\r\n\t                            >\r\n\t                                {item.text}\r\n\t                            </Checkbox>\r\n\t                        </Menu.Item>\r\n\t                    );\r\n\t                })}\r\n\t            </Menu>\r\n\t            <BoxButtom>\r\n\t                <Button\r\n\t                    loading={loadingButtomFilrer}\r\n\t                    type=\"primary\"\r\n\t                    size=\"small\"\r\n\t                    icon={<SearchOutlined />}\r\n\t                    onClick={() => {\r\n\t                        let paramLocal = []; //...paramFilrers[dataIndex]\r\n\r\n\t                        for (let key in CheckboxValue[dataIndex]) {\r\n\t                            if (CheckboxValue[dataIndex][key]) {\r\n\t                                paramLocal.push(key);\r\n\t                            }\r\n\t                        }\r\n\t                        let data = { ...paramFilrers };\r\n\t                        data[dataIndex] = paramLocal;\r\n\r\n\t                        // setParamFilrers(data);\r\n\r\n\t                        setParamFilrers(data)\r\n\t                        setGlobalFilters(globalFilters)\r\n\r\n\t                        update(0, data);\r\n\t                    }}\r\n\t                >\r\n\t                    Применить фильтр\r\n\t                </Button>\r\n\t            </BoxButtom>\r\n\t        </div>\r\n\t    ),\r\n\t    filterIcon: () => {\r\n\t        let color = undefined;\r\n\t        if (paramFilrers[dataIndex][0]) {\r\n\t            color = \"#1890ff\";\r\n\t        }\r\n\r\n\t        if (filterDropdownVisible[dataIndex]) {\r\n\t            return <CloseCircleOutlined />;\r\n\t        } else {\r\n\t            return (\r\n\t            \t<>\r\n\t            \t\t<SearchOutlined style={{ color: color }} />\r\n\t            \t</>\r\n\t            )\r\n\t        }\r\n\t    },\r\n\t    onFilterDropdownVisibleChange: (Visible) => {\r\n\t        let per = { ...filterDropdownVisible };\r\n\t        per[dataIndex] = Visible;\r\n\t        setFilterDropdownVisible(per);\r\n\r\n\t        if (!Visible) {\r\n\t\t        setParamFilrers(paramFilrers)\r\n\t\t        setGlobalFilters(globalFilters)\r\n\t    \t}\r\n\t    },\r\n\t    filterDropdownVisible: filterDropdownVisible[dataIndex],\r\n\t});\r\n\t// /Filrers\r\n\r\n\tlet filtersTutors = Tutors.map(item => ({\r\n\t\ttext: `${item.surname} ${item.name}`,\r\n\t\tvalue: item._id\r\n\t}))\r\n\r\n\tlet Columns = [\r\n\t\t{\r\n\t\t\t...getColumn(g, setG, 'Группа', 'GROUP_NAME'),\r\n\t\t\tkey: 'GROUP_NAME',\r\n\t\t\trender: (GROUP_NAME) => {\r\n\t\t\t    return <Link to={`/group/${GROUP_NAME[1]}`}>{GROUP_NAME[0]}</Link>\r\n\t\t\t},\r\n\t\t\t...getColumnSearchProps(\"GROUP_NAME\")\r\n\t\t},\r\n\t\t{\r\n\t\t\t...getColumn(l, setL, 'Уровень группы', 'LEVEL'),\r\n\t\t\tkey: 'LEVEL',\r\n\t\t\tfilters: [\r\n\t            {\r\n\t                text: \"1\",\r\n\t                value: 1,\r\n\t            },\r\n\t            {\r\n\t                text: \"2\",\r\n\t                value: 2,\r\n\t            },\r\n\t            {\r\n\t                text: \"3\",\r\n\t                value: 3,\r\n\t            },\r\n\t            {\r\n\t                text: \"4\",\r\n\t                value: 4,\r\n\t            }\r\n\t        ],\r\n\t        defaultFilteredValue: paramFilrers.LEVEL.map(item => item + '')\r\n\t\t},\r\n\t\t{\r\n\t\t\t...getColumn(p, setP, 'Количество мест', 'PLACES'),\r\n\t\t\tkey: 'PLACES'\r\n\t\t},\r\n\t\t{\r\n\t\t\t...getColumn(o, setO, 'Свободных мест', 'OCCUPIED'),\r\n\t\t\tkey: 'OCCUPIED',\r\n\t\t\tfilters: [\r\n\t            {\r\n\t                text: \"Заполненно\",\r\n\t                value: true,\r\n\t            },\r\n\t            {\r\n\t                text: \"Свободно\",\r\n\t                value: false,\r\n\t            },\r\n\t        ],\r\n\t        defaultFilteredValue: paramFilrers.OCCUPIED.map(item => `${item}`)  // ...paramFilrers.OCCUPIED\r\n\t\t},\r\n\t\t{\r\n\t\t\t...getColumn(n, setN, 'Число учеников', 'NUMBER_PUPILS'),\r\n\t\t\tkey: 'NUMBER_PUPILS'\r\n\t\t},\r\n\t\t{\r\n\t\t\t...getColumn(t, setT, 'Учитель', 'TUTOR'),\r\n\t\t\tkey: 'TUTOR',\r\n\t\t\tfilters: filtersTutors,\r\n\t\t\tdefaultFilteredValue: [...paramFilrers.TUTOR]\r\n\t\t}\r\n\t]\r\n\r\n\tconst Box = styled.div({\r\n\t\tpadding: '0 30px'\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<TableGroups \r\n\t\t\t\tdataSource={DataSource} \r\n\t\t\t\tcolumns={Columns}\r\n\t\t\t\tsetParamFilrers={setParamFilrers}\r\n\t\t\t\tparamFilrers={paramFilrers}\r\n\t\t\t\tupdate={update}/>\r\n\t\t\t<Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default Create_Columns_Rows_Groups","import React, {useState, useEffect} from 'react';\r\nimport { Table } from 'antd';\r\n\r\nimport Url from './../../url/url.js';\r\nimport { getColumn } from './../home-page/#more-functions/change-column/change-column.js'\r\n\r\nimport { SearchOutlined, CloseCircleOutlined, FilterFilled, MenuFoldOutlined } from '@ant-design/icons';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst Table_Pupils = ({\r\n\t\tparamFilrers,\r\n\t\tsetParamFilrers,\r\n\t\tglobalFiltersG,\r\n\t\tsetGlobalFiltersG,\r\n\r\n\t\tdataGroupsChecked,\r\n\t\tsetDataGroupsCheckedG,\r\n\r\n\t\tdataSource,\r\n\t\tupdate,\r\n\t\tloadingButtomFilrer,\r\n\t\tsetLoadingButtomFilrer,\r\n\t\tfilterDropdownVisible,\r\n\t\tsetFilterDropdownVisible,\r\n\t\tcolumns,\r\n\r\n\t\tscrollLeft\r\n\t}) => {\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.querySelector('.ant-table-content').scrollLeft = scrollLeft\r\n\t})\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconst Box = styled.div({\r\n\t\t// width: '1515px',\r\n\t\t'th, td': {\r\n\t\t\tpadding: '16px 11px'\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<Table\r\n\t\t\t    pagination={false}\r\n\t\t\t    dataSource={dataSource}\r\n\t\t\t    columns={columns}\r\n\t\t\t    scroll={{ x: 0 }}\r\n\t\t\t    // width={1515}\r\n\t\t\t    onChange={(pagination, filters, sorter, extra) => {\r\n\t\t\t    \tlet box = {...paramFilrers}\r\n\t\t\t    \tif (filters.gender) {\r\n\t\t\t    \t\tbox.gender = filters.gender\r\n\t\t\t    \t} else {\r\n\t\t\t    \t\tbox.gender = []\r\n\t\t\t    \t}\r\n\r\n\t\t\t    \tif (filters.balance) {\r\n\t\t\t    \t\tbox.balance = filters.balance\r\n\t\t\t    \t} else {\r\n\t\t\t    \t\tbox.balance = []\r\n\t\t\t    \t}\r\n\r\n\t\t\t    \tsetParamFilrers(box)\r\n\t\t\t    \tupdate(box, dataGroupsChecked)\r\n\t\t\t    }}\r\n\t\t\t/>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default Table_Pupils","import React, {useState, useEffect} from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport { Table, Button, Tag, Input, Space, Checkbox, Menu } from 'antd';\r\n\r\nimport Table_Pupils from './../../../table-pupils/table.js'\r\nimport { getColumn } from './../change-column/change-column.js'\r\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\r\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\r\n\r\nimport { SearchOutlined, CloseCircleOutlined, FilterFilled, MenuFoldOutlined } from '@ant-design/icons';\r\n\r\n// Style\r\nimport styled from '@emotion/styled'\r\n\r\nimport Url from './../../../../url/url.js'\r\nimport localStorage_change from './../../../../#localStorage_change.js'\r\nimport ReturnAge from './../../return-age/returnAge.js' // Определяет возраст\r\nimport Pagination from './../../#more-functions/pagination/pagination.js'\r\n\r\nconst Create_Columns_Rows_Pupils = () => {\r\n\r\n\tconst [ValueGroup, setValueGroup] = useState('')\r\n\r\n\tconst [offsetG, setOffsetG] = useState(0)\r\n\tconst [Count, setCount] = useState(0)\r\n\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tconst [objPupils, setObjPupils] = useState([])\r\n\r\n\tlet dataSource = objPupils.map(item => {\r\n\r\n\t\tlet {\r\n\t\t    _id,\r\n\t\t    surname,\r\n\t\t    name,\r\n\t\t    midname,\r\n\t\t    age,\r\n\t\t    gender,\r\n\t\t    phone,\r\n\t\t    balance,\r\n\t\t    parentPhone,\r\n\t\t    discord,\r\n\t\t    groups,\r\n\t\t} = item\r\n\r\n\t\treturn ({\r\n\t\t\tkey: _id,\r\n\t\t\tsurname: () => (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName=\"link-info\"\r\n\t\t\t\t\tto={`/student/${_id}`}>\r\n\r\n\t\t\t\t\t{surname}\r\n\t\t\t\t</Link>\r\n\t\t\t\t),\r\n\t\t\tname: name,\r\n\t\t\tmidname: midname,\r\n\t\t\tage: ReturnAge(age),\r\n\t\t\tgender: gender,\r\n\t\t\tphoneNumber: phone,\r\n\t\t\ttutor: '',\r\n\t\t\tparentPhoneNumber: parentPhone,\r\n\t\t\tbalance: `${balance}`,\r\n\t\t\tgroups: groups,\r\n\t\t\tdiscordNickname: discord\r\n\t\t})\r\n\t})\r\n\r\n\tconst [scrollLeft, setScrollLeft] = useState(0)\r\n\r\n\t// Filtered\r\n\tconst [paramFilrers, setParamFilrers] = useState({\r\n\t    surname: [],\r\n\t    name: [],\r\n\t    midname: [],\r\n\t    age: [],\r\n\t    gender: [],\r\n\t    groups: [],\r\n\t    balance: [], // {\r\n\t    // \t$gt: 0, // Больше\r\n\t    // \t// $lte: 0 // Меньше или равно\r\n\t    // \t$lt: 0 // Меньше\r\n\t    // }\r\n\t})\r\n\tconst [emptyAge, setEmptyAge] = useState(false)\r\n\r\n\tlet emptyAgeLocal = false\r\n\r\n\tconst [globalFiltersG, setGlobalFiltersG] = useState({\r\n\t    surname: [],\r\n\t    name: [],\r\n\t    midname: [],\r\n\t    age: [],\r\n\t    balance: []\r\n\t})\r\n\r\n\tconst [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\r\n\r\n\tconst [filterDropdownVisible, setFilterDropdownVisible] = useState({\r\n\t    surname: false,\r\n\t    name: false,\r\n\t    midname: false,\r\n\t    age: false,\r\n\t    groups: false\r\n\t})\r\n\r\n\r\n\tconst [s, setS] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Фамилия</span>,\r\n\t    \"surname\",\r\n\t])\r\n\tconst [n, setN] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Имя</span>,\r\n\t    \"name\",\r\n\t])\r\n\tconst [m, setM] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Отчество</span>,\r\n\t    \"midname\",\r\n\t])\r\n\tconst [a, setA] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Возраст</span>,\r\n\t    \"age\",\r\n\t])\r\n\tconst [g, setG] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Пол</span>,\r\n\t    \"gender\",\r\n\t])\r\n\tconst [PhoneTitle, setPhoneTitle] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Номер телефона</span>,\r\n\t    \"phoneNumber\",\r\n\t])\r\n\tconst [p, setP] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Номер телефона родителя</span>,\r\n\t    \"parentPhoneNumber\",\r\n\t])\r\n\tconst [b, setB] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Баланс</span>,\r\n\t    \"balance\",\r\n\t])\r\n\tconst [d, setD] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Дискорд никнейм</span>,\r\n\t    \"discordNickname\",\r\n\t])\r\n\tconst [gr, setGr] = useState([\r\n\t    <span style={{ paddingLeft: \"7px\" }}>Группы</span>,\r\n\t    \"groups\",\r\n\t])\r\n\r\n\tlet CheckboxValue = {\r\n\t    surname: {},\r\n\t    name: {},\r\n\t    midname: {},\r\n\t    age: {}\r\n\t};\r\n\r\n\tfor (let key in CheckboxValue) {\r\n\t    paramFilrers[key].forEach((item) => {\r\n\t        CheckboxValue[key][item] = true;\r\n\t    });\r\n\t}\r\n\r\n\t// Groups filter\r\n\tconst [dataGroupsChecked, setDataGroupsChecked] = useState({})\r\n\t// { // delete obj['gh']\r\n\t// \tid: ['text', true],\r\n\t// \tkg: ['java', true]\r\n\t// })\r\n\r\n\t\r\n\tconst [GroupsCheckedF, setGroupsCheckedF] = useState({})\r\n\r\n\tlet heapGroups = {...dataGroupsChecked, ...GroupsCheckedF}\r\n\t\r\n\tlet dataGroupsCheck = []\r\n\r\n\tfor (let key in heapGroups) {\r\n\r\n\t\tdataGroupsCheck.push({\r\n\t\t\tid: key,\r\n\t\t\ttext: heapGroups[key][0],\r\n\t\t\tchecked: heapGroups[key][1]\r\n\t\t})\r\n\t}\r\n\r\n\t// /Groups filter\r\n\r\n\tconst [globalFilters, setGlobalFilters] = useState(globalFiltersG);\r\n\r\n\tconst handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n\r\n\t    if (selectedKeys[0]) {\r\n\t    \tlet FiltersLocal = { ...globalFilters };\r\n\r\n\t    \tFiltersLocal[dataIndex].push({\r\n\t    \t\ttext: selectedKeys[0],\r\n\t    \t\tvalue: selectedKeys[0],\r\n\t    \t});\r\n\r\n\t    \tsetGlobalFilters(FiltersLocal);\r\n\t    \tselectedKeys[0] = ''\r\n\t    }\r\n\t};\r\n\r\n\tconst BoxButtom = styled.div({\r\n\t    marginTop: \"10px\",\r\n\t    svg: {\r\n\t        marginBottom: \"3px\",\r\n\t    },\r\n\t});\r\n\r\n\tconst emptyAgeGet = (dataIndex) => {\r\n\t\tif (dataIndex == 'age') {\r\n\t\t\treturn 'block'\r\n\t\t} else {\r\n\t\t\treturn ' none'\r\n\t\t}\r\n\t}\r\n\tconst ageGet = (type) => {\r\n\t\tif (type == 'age') {\r\n\t\t\treturn 'number'\r\n\t\t} else {\r\n\t\t\treturn 'text'\r\n\t\t}\r\n\t}\r\n\r\n\tconst getColumnSearchProps = (dataIndex) => ({\r\n\t    filterDropdown: ({\r\n\t        setSelectedKeys,\r\n\t        selectedKeys,\r\n\t        confirm,\r\n\t        clearFilters,\r\n\t    }) => (\r\n\t        <div style={{ padding: 8 }}>\r\n\t            <Input\r\n\t            \ttype={ageGet(dataIndex)}\r\n\t                placeholder={`Создать фильтр ${dataIndex}`}\r\n\t                value={selectedKeys[0]}\r\n\t                onChange={(e) =>\r\n\t                    setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n\t                }\r\n\t                onPressEnter={() =>\r\n\t                    handleSearch(selectedKeys, confirm, dataIndex)\r\n\t                }\r\n\t                style={{ marginBottom: 8, display: \"block\" }}\r\n\t            />\r\n\t            <Space>\r\n\t                <Button\r\n\t                    type=\"primary\"\r\n\t                    onClick={() => {\r\n\t                        handleSearch(selectedKeys, confirm, dataIndex);\r\n\t                    }}\r\n\t                    // onClick={() => {\r\n\t                    // \tconfirm({ closeDropdown: false })\r\n\r\n\t                    // \tsetSelectedKeys(selectedKeys[0])\r\n\t                    // \tsetSearchedColumn(dataIndex)\r\n\t                    // }}\r\n\t                    size=\"small\"\r\n\t                    style={{ width: 140 }}\r\n\t                >\r\n\t                    Добавить в фильтр\r\n\t                </Button>\r\n\t                <Button\r\n\t                    type=\"link\"\r\n\t                    size=\"small\"\r\n\t                    // icon={<SearchOutlined />}\r\n\t                    onClick={() => {\r\n\t                        let filters = { ...globalFilters };\r\n\t                        filters[dataIndex] = [];\r\n\t                        // setGlobalFilters(filters);\r\n\t                        setGlobalFiltersG(filters)\r\n\r\n\t                        let dataFilters = { ...paramFilrers };\r\n\t                        dataFilters[dataIndex] = [];\r\n\t                        // setParamFilrers(dataFilters);\r\n\r\n\t                        setParamFilrers(dataFilters)\r\n\r\n\t                        setFilterAxios(dataFilters, dataGroupsChecked);\r\n\t                        update()\r\n\t                    }}\r\n\t                >\r\n\t                    Очистить фильтр\r\n\t                </Button>\r\n\t            </Space>\r\n\t            <Menu>\r\n\t                {globalFilters[dataIndex].map((item, i) => {\r\n\t                    let checked = false;\r\n\t                    paramFilrers[dataIndex].forEach((param) => {\r\n\t                        if (param == item.text) {\r\n\t                            checked = true;\r\n\t                        }\r\n\t                    });\r\n\r\n\t                    return (\r\n\t                        <Menu.Item key={`${item.text}${i}`}>\r\n\t                            <Checkbox\r\n\t                                defaultChecked={checked}\r\n\t                                onChange={(e) => {\r\n\t                                    if (e.target.checked) {\r\n\t                                        CheckboxValue[dataIndex][\r\n\t                                            item.text\r\n\t                                        ] = true;\r\n\t                                    } else {\r\n\t                                        CheckboxValue[dataIndex][\r\n\t                                            item.text\r\n\t                                        ] = false;\r\n\t                                    }\r\n\t                                }}\r\n\t                            >\r\n\t                                {item.text}\r\n\t                            </Checkbox>\r\n\t                        </Menu.Item>\r\n\t                    );\r\n\t                })}\r\n\t                <Menu.Item\r\n\t                \tstyle={{display: emptyAgeGet(dataIndex)}} \r\n\t                \tkey='emptyAge'>\r\n\t                \t<Checkbox\r\n\t\t                \tdefaultChecked={emptyAge}\r\n\t\t                \tonChange={(e) => {\r\n\t\t                \t\temptyAgeLocal = e.target.checked\r\n\t\t                \t}}>\r\n\t\t                \tВозраст не указан\r\n\t\t                </Checkbox>\r\n\t                </Menu.Item>\r\n\t            </Menu>\r\n\t            <BoxButtom>\r\n\t                <Button\r\n\t                    loading={loadingButtomFilrer}\r\n\t                    type=\"primary\"\r\n\t                    size=\"small\"\r\n\t                    icon={<SearchOutlined />}\r\n\t                    onClick={() => {\r\n\t                        let paramLocal = []; //...paramFilrers[dataIndex]\r\n\r\n\t                        for (let key in CheckboxValue[dataIndex]) {\r\n\t                            if (CheckboxValue[dataIndex][key]) {\r\n\t                                paramLocal.push(key);\r\n\t                            }\r\n\t                        }\r\n\t                        let data = { ...paramFilrers };\r\n\t                        data[dataIndex] = paramLocal;\r\n\r\n\t                        // setParamFilrers(data);\r\n\r\n\t                        setParamFilrers(data)\r\n\t                        setGlobalFiltersG(globalFilters)\r\n\r\n\t                        setFilterAxios(data, dataGroupsChecked);\r\n\t                    }}\r\n\t                >\t\r\n\t                    Применить фильтр\r\n\t                </Button>\r\n\t            </BoxButtom>\r\n\t        </div>\r\n\t    ),\r\n\t    filterIcon: () => {\r\n\t        let color = undefined;\r\n\t        if (paramFilrers[dataIndex][0]) {\r\n\t            color = \"#1890ff\";\r\n\t        }\r\n\r\n\t        if (filterDropdownVisible[dataIndex]) {\r\n\t            return <CloseCircleOutlined />;\r\n\t        } else {\r\n\t            return (\r\n\t            \t<>\r\n\t            \t\t<SearchOutlined style={{ color: color }} />\r\n\t            \t</>\r\n\t            )\r\n\t        }\r\n\t    },\r\n\t    onFilterDropdownVisibleChange: (Visible) => {\r\n\t        let per = { ...filterDropdownVisible };\r\n\t        per[dataIndex] = Visible;\r\n\t        setFilterDropdownVisible(per);\r\n\r\n\t        if (!Visible) {\r\n\t\t        setParamFilrers(paramFilrers)\r\n\t\t        setGlobalFiltersG(globalFilters)\r\n\t    \t}\r\n\t    },\r\n\t    filterDropdownVisible: filterDropdownVisible[dataIndex],\r\n\t});\r\n\r\n\tconst aaaaa = (value) => {\r\n\r\n\t\tlet localUrl = encodeURI(value);\r\n\r\n\t\taxios({\r\n\t\t    method: \"get\",\r\n\t\t    url: `${Url}/CRM/Search/autocompletion?query=${localUrl}`,\r\n\t\t    headers: {\r\n\t\t        \"Content-Type\": \"application/json\",\r\n\t\t        Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n\t\t    },\r\n\t\t}).then((res) => {\r\n\r\n\t\t\tlet box = {} //...GroupsCheckedF\r\n\r\n\t\t\tres.data.body.hits.hits.map(item => {\r\n\t\t\t\tlet {id, GROUP_NAME, type} = item._source\r\n\r\n\t\t\t\tif (type == 'group') {\r\n\t\t\t\t\tbox[id] = [`${GROUP_NAME}`, false]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tsetValueGroup(value)\r\n\r\n\t\t\tsetGroupsCheckedF(box)\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tif (error.response) {\r\n\t\t\t\tRestrictionMessage(error.response.status)\r\n\t\t\t    let { status, data } = error.response;\r\n\t\t\t    if (status == 401) {\r\n\t\t\t        if (data.message == \"TOKEN_EXPIRED\") {\r\n\t\t\t            localStorage_change(data.token);\r\n\t\t\t            aaaaa()\r\n\t\t\t        } else {\r\n\t\t\t            localStorage.removeItem(\"tokenID\");\r\n\t\t\t            window.location.replace(\"/\");\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tlet typingTimer; //timer identifier\r\n\tlet doneTypingInterval = 500; //time in ms (5 seconds)\r\n\r\n\tconst SearchGroups = (text) => {\r\n\t    clearTimeout(typingTimer);\r\n\t    if (text) {\r\n\t        typingTimer = setTimeout(() => {\r\n\t        \t// setValueGroup(text)\r\n\t            aaaaa(text);\r\n\t        }, doneTypingInterval);\r\n\t    } else {\r\n\t    \tsetValueGroup('')\r\n\t    \tsetGroupsCheckedF({})\r\n\t    }\r\n\t}\r\n\r\n\tconst handleSearchGroup = (selectedKeys, confirm) => {\r\n\r\n\t}\r\n\r\n\tconst filterGroups = () => ({\r\n\t    filterDropdown: ({\r\n\t        setSelectedKeys,\r\n\t        selectedKeys,\r\n\t        confirm,\r\n\t        clearFilters,\r\n\t    }) => (\r\n\t    \t<div style={{ padding: 8 }}>\r\n\t    \t\t<Input\r\n\t    \t\t\t// focus={true}\r\n\t    \t\t\tid='inputGroup'\r\n\t                placeholder={`Найти группы`}\r\n\t                defaultValue={ValueGroup}\r\n\t                onChange={(e) => {\r\n\t                \tSearchGroups(e.target.value)\r\n\t                    // setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n\t                }}\r\n\t                onPressEnter={() =>\r\n\t                    handleSearchGroup(selectedKeys, confirm)\r\n\t                }\r\n\t                style={{ marginBottom: 8, display: \"block\" }}\r\n\t            />\r\n\t            <Menu>\r\n\r\n\t            \t{dataGroupsCheck.map(item => {\r\n\t            \t\tlet {id, text, checked} = item\r\n\r\n\t            \t\treturn (\r\n\t\t\t\t\t\t\t<Menu.Item key={id}>\r\n\t\t\t\t\t\t\t    <Checkbox\r\n\t\t\t\t\t\t\t        defaultChecked={checked}\r\n\t\t\t\t\t\t\t        onChange={(e) => {\r\n\r\n\t\t\t\t\t\t\t        \tlet box = {...dataGroupsChecked}\r\n\r\n\t\t\t\t\t\t\t        \tif (e.target.checked) {\r\n\t\t\t\t\t\t\t        \t\tbox[id] = [text, true]\r\n\t\t\t\t\t\t\t        \t} else {\r\n\t\t\t\t\t\t\t        \t\tdelete box[id]\r\n\t\t\t\t\t\t\t        \t\t// delete obj['gh']\r\n\t\t\t\t\t\t\t        \t}\r\n\t\t\t\t\t\t\t        \t\r\n\t\t\t\t\t\t\t        \tsetDataGroupsChecked(box)\r\n\t\t\t\t\t\t\t        \tsetGroupsCheckedF({})\r\n\t\t\t\t\t\t\t        }}\r\n\t\t\t\t\t\t\t    >\r\n\t\t\t\t\t\t\t        {text}\r\n\t\t\t\t\t\t\t    </Checkbox>\r\n\t\t\t\t\t\t\t</Menu.Item>\r\n\t            \t\t)\r\n\t            \t})}\r\n\t            </Menu>\r\n\t            <BoxButtom>\r\n\t                <Button\r\n\t                    loading={loadingButtomFilrer}\r\n\t                    type=\"primary\"\r\n\t                    size=\"small\"\r\n\t                    icon={<SearchOutlined />}\r\n\t                    onClick={() => {\r\n\r\n\t                    \t// setDataGroupsChecked(dataGroupsChecked)\r\n\t                    \tsetFilterAxios(paramFilrers, dataGroupsChecked)\r\n\t                    }}\r\n\t                >\r\n\t                    Применить фильтр\r\n\t                </Button>\r\n\t            </BoxButtom>\r\n\t    \t</div>\r\n\t    ),\r\n\t    onFilterDropdownVisibleChange: (Visible) => {\r\n\r\n\r\n\t    \tif (Visible) {\r\n\t    \t\tsetScrollLeft(document.querySelector('.ant-table-content').scrollLeft)\r\n\t    \t} else {\r\n\t    \t\tsetScrollLeft(0)\r\n\t    \t}\r\n\r\n\t    \tlet per = { ...filterDropdownVisible };\r\n\t        per.groups = Visible;\r\n\t        setFilterDropdownVisible(per);\r\n\r\n\t    \tif (!Visible) {\r\n\t    \t\t// setDataGroupsChecked(dataGroupsChecked)\r\n\t    \t\tsetFilterAxios(paramFilrers, dataGroupsChecked)\r\n\t    \t}\r\n\t    },\r\n\t    filterDropdownVisible: filterDropdownVisible.groups,\r\n\t    filterIcon: () => {\r\n\t    \tif (Object.keys(dataGroupsChecked).length) {\r\n\t    \t\treturn <FilterFilled style={{color: '#1890ff'}}/>\r\n\t    \t} else {\r\n\t    \t\treturn <FilterFilled/>\r\n\t    \t}\r\n\t    }\r\n\t})\r\n\r\n\tconst columns = [\r\n\t    {\t\r\n\t    \t...getColumn(s, setS, 'Фамилия', 'surname'),\r\n\t        key: \"surname\",\r\n\t        render: (surname) => {\r\n\t        \tif (typeof(surname) == 'function') {\r\n\t        \t\treturn surname()\r\n\t        \t}\r\n\t        },\r\n\t        ...getColumnSearchProps(\"surname\"),\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(n, setN, 'Имя', 'name'),\r\n\t        key: \"name\",\r\n\t        ...getColumnSearchProps(\"name\"),\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(m, setM, 'Отчество', 'midname'),\r\n\t        key: \"midname\",\r\n\t        ...getColumnSearchProps(\"midname\"),\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(a, setA, 'Возраст', 'age'),\r\n\t        key: \"age\",\r\n\t        ...getColumnSearchProps('age')\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(g, setG, 'Пол', 'gender'),\r\n\t        key: \"gender\",\r\n\t        filters: [\r\n\t            {\r\n\t                text: \"Мужской\",\r\n\t                value: \"Мужской\",\r\n\t            },\r\n\t            {\r\n\t                text: \"Женский\",\r\n\t                value: \"Женский\",\r\n\t            },\r\n\t        ],\r\n\t        defaultFilteredValue: [...paramFilrers.gender]\r\n\t    },\r\n\t    {\t\r\n\t    \t...getColumn(PhoneTitle, setPhoneTitle, 'Номер телефона', 'phoneNumber'),\r\n\t        key: \"phoneNumber\"\r\n\t        // filterIcon: () => {\r\n\t        // \treturn <CloseCircleOutlined onClick={() => {}}/>\r\n\t        // }\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(p, setP, 'Номер телефона родителя', 'parentPhoneNumber'),\r\n\t        key: \"parentPhoneNumber\",\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(b, setB, 'Баланс', 'balance'),\r\n\t        key: \"balance\",\r\n\t        filters: [\r\n\t            {\r\n\t                text: \"Положительный\",\r\n\t                value: '1',\r\n\t            },\r\n\t            {\r\n\t                text: \"Отрицательный\",\r\n\t                value: '2',\r\n\t            },\r\n\t        ],\r\n\t        defaultFilteredValue: [...paramFilrers.balance] //...paramFilrers.balance\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(gr, setGr, 'Группы', 'groups'),\r\n\t        key: \"groups\",\r\n\t        render: (groups) => {\r\n\r\n\t    \t\tconsole.log(groups)\r\n\t        \t// if (typeof(groups.map) == 'function') {\r\n\t\t\t\t// \treturn (\r\n\t\t\t\t// \t    <>\r\n\t\t\t\t// \t        {groups.map((item) => (\r\n\t\t\t\t// \t            <Tag color=\"blue\" key={`${item._id}${item.GROUP_NAME}`}>\r\n\t\t\t\t// \t                {item.GROUP_NAME}\r\n\t\t\t\t// \t            </Tag>\r\n\t\t\t\t// \t        ))}\r\n\t\t\t\t// \t    </>\r\n\t\t\t\t// \t)\r\n\t        \t// }\r\n\t        },\r\n\t        ...filterGroups()\r\n\t    },\r\n\t    {\r\n\t    \t...getColumn(d, setD, \"Дискорд никнейм\", \"discordNickname\"),\r\n\t        key: \"discordNickname\",\r\n\t    },\r\n\t]\r\n\r\n\t// /Filtered\r\n\r\n\tconst [FILTER, SET_FILTER] = useState({\r\n\t        filters: {},\r\n\t    })\r\n\r\n\tconst update = (offset = 0, p) => {\r\n\t    setLoadingButtomFilrer(true);\r\n\r\n\t    axios({\r\n\t        method: \"post\",\r\n\t        url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`,\r\n\t        headers: {\r\n\t            \"Content-Type\": \"application/json;charset=utf-8\",\r\n\t            Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n\t        },\r\n\t        data: p? p : FILTER,\r\n\t    })\r\n\t        .then((res) => {\r\n\t            let { data, headers } = res;\r\n\t            setObjPupils(data);\r\n\t            setCount(headers.count);\r\n\r\n\t            setFilterDropdownVisible({\r\n\t                surname: false,\r\n\t                name: false,\r\n\t                midname: false,\r\n\t            });\r\n\t            setLoadingButtomFilrer(false);\r\n\t        })\r\n\t        .catch((error) => {\r\n\t            if (error.response) {\r\n\t            \tRestrictionMessage(error.response.status)\r\n\t                setLoadingButtomFilrer(false);\r\n\t                let { status, data } = error.response;\r\n\t                if (status == 401) {\r\n\t                    if (data.message == \"TOKEN_EXPIRED\") {\r\n\t                        localStorage_change(data.token);\r\n\t                        update();\r\n\t                    } else {\r\n\t                        localStorage.removeItem(\"tokenID\");\r\n\t                        window.location.replace(\"/\");\r\n\t                    }\r\n\t                } else if (status == 500) {\r\n\t                    // swallErr(\"Ошибка сервера\");\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t};\r\n\r\n\tconst setFilterAxios = (param = {}, filtersGroups = {}) => {\r\n\t\tlet filtersLocal = {};\r\n\r\n\t    for (let key in filtersGroups) {\r\n\t        if (filtersLocal.groups) {\r\n\t            filtersLocal.groups.push(key);\r\n\t        } else {\r\n\t            filtersLocal.groups = [];\r\n\t            filtersLocal.groups.push(key);\r\n\t        }\r\n\t        // filtersLocal.groups = [...filtersLocal.groups]\r\n\t    }\r\n\r\n\t    for (let key in param) {\r\n\t        if (param[key][0]) {\r\n\t            if (\r\n\t                key == \"surname\" ||\r\n\t                key == \"name\" ||\r\n\t                key == \"midname\" ||\r\n\t                key == \"age\"\r\n\t            ) {\r\n\t                filtersLocal[`${key}s`] = param[key];\r\n\t            } else {\r\n\t                filtersLocal[`${key}`] = param[key];\r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t    if (filtersLocal.ages) {\r\n\t        let age = [...filtersLocal.ages];\r\n\t        filtersLocal.ages = [];\r\n\t        age.forEach((age) => {\r\n\t            filtersLocal.ages.push(+age);\r\n\t        });\r\n\t    }\r\n\r\n\t    if (filtersLocal.balance) {\r\n\t        let balance = [...filtersLocal.balance];\r\n\t        if ((balance[0] == 1) & !balance[1]) {\r\n\t            filtersLocal.balance = { $gte: 0 };\r\n\t        } else if ((balance[0] == 2) & !balance[1]) {\r\n\t            filtersLocal.balance = { $lt: 0 };\r\n\t        } else if (balance[1]) {\r\n\t            filtersLocal.balance = { $gte: 0, $lte: 0 };\r\n\t        }\r\n\t    }\r\n\r\n\t    filtersLocal.emptyAge = emptyAgeLocal\r\n\r\n\t    let p = {\r\n\t        filters: filtersLocal,\r\n\t    };\r\n\t    setEmptyAge(emptyAgeLocal)\r\n\t    SET_FILTER(p)\r\n\t    update(0, p)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t    update();\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tlet input = document.getElementById('inputGroup')\r\n\t\tif (input) {\r\n\t\t\tinput.focus()\r\n\t\t}\r\n\t})\r\n\r\n\tconst breakpoints = [1020, 700],\r\n\tmq = breakpoints.map(\r\n\t\tbp => `@media (max-width: ${bp}px)`\r\n\t\t)\r\n\r\n\tconst TableL = styled.div({\r\n\t\tpadding: '0 30px',\r\n\t\t[mq[1]]: {\r\n\t\t\tpadding: '0 0',\r\n\t\t},\r\n\t\t'.log_h2': {\r\n\r\n\t\t},\r\n\t\ttd: {\r\n\t\t\tpaddingTop: '1px',\r\n\t\t\tpaddingBottom: '4px'\r\n\t\t},\r\n\t\t'th, td': {\r\n\t\t\twhiteSpace: 'nowrap'\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<TableL>\r\n\t\t\t<Table_Pupils\r\n\t\t\t\tparamFilrers={paramFilrers}\r\n\t\t\t\tsetParamFilrers={setParamFilrers}\r\n\t\t\t\tglobalFiltersG={globalFilters}\r\n\t\t\t\tsetGlobalFiltersG={setGlobalFilters}\r\n\t\t\t\tdataGroupsChecked={dataGroupsChecked}\r\n\t\t\t\tsetDataGroupsChecked={setDataGroupsChecked}\r\n\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tupdate={setFilterAxios}\r\n\r\n\t\t\t\tloadingButtomFilrer={loadingButtomFilrer}\r\n\t\t\t\tsetLoadingButtomFilrer={setLoadingButtomFilrer}\r\n\t\t\t\tfilterDropdownVisible={filterDropdownVisible}\r\n\t\t\t\tsetFilterDropdownVisible={setFilterDropdownVisible}\r\n\t\t\t\tcolumns={columns}\r\n\r\n\t\t\t\tscrollLeft={scrollLeft}\r\n\t\t\t/>\r\n\t\t\t<Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\r\n\t\t</TableL>\r\n\t)\r\n}\r\n\r\nexport default Create_Columns_Rows_Pupils","import React, {useState, useEffect} from 'react'\r\nimport {BrowserRouter as Router, Route, Switch, Link} from \"react-router-dom\"\r\n\r\nimport {Layout, Menu} from 'antd'\r\nimport {\r\n    LogoutOutlined,\r\n    TeamOutlined,\r\n    UserOutlined,\r\n    SearchOutlined,\r\n    DatabaseOutlined,\r\n    UploadOutlined\r\n} from '@ant-design/icons'\r\n\r\nimport SearchAll from './../search/search.js'\r\n\r\nimport Student from './student/student.js'\r\nimport StudentPage from './student/pageStudent/pageStudent.js'\r\n\r\nimport Group from './group/group.js'\r\nimport GroupPage from './group/group-page/group-page.js'\r\n\r\nimport SalesFunnel from './sales-funnel/sales-funnel.js'\r\nimport UploadPupils from './upload-pupils/upload-pupils'\r\n// Сводные таблицы\r\nimport Create_Columns_Rows_Groups from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js'\r\nimport Create_Columns_Rows_Pupils from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js'\r\n\r\nimport styled from '@emotion/styled'\r\n\r\nconst HomePage = ({logOut}) => {\r\n\r\n    const [pageGruop, setPageGruop] = useState(['0', '0']);\r\n    const [pageStudent, setPageStudent] = useState('1');\r\n\r\n    // const breakpoints = [379, 700, 1024];\r\n\r\n    // const mq = breakpoints.map(\r\n    // \tbp => `@media (max-width: ${bp}px)`\r\n    // );\r\n\r\n    // const BoxStudent = styled.div({\r\n    // \tmarginLeft: '100px',\r\n    // \toverflowY: 'auto',\r\n    //   \t \theight:'100vh',\r\n    //   \t \tpaddingBottom: '100px',\r\n    //   \t \t'&::-webkit-scrollbar': {\r\n    //   \t \t\theight: '5px',\r\n    //   \t \t\tbackgroundColor:'rgba(0, 0, 0, 0.5)',\r\n    //   \t \t\tborderRadius: '10px'\r\n    //   \t \t},\r\n    //   \t \t'&::-webkit-scrollbar-thumb': {\r\n    //   \t \t\tbackgroundColor: '#17a2b8',\r\n    //   \t \t\tborderRadius: '10px'\r\n    //   \t \t},\r\n    // \t[mq[1]]: {\r\n    // \t\tmarginLeft: '0px'\r\n    // \t}\r\n    // });\r\n\r\n\r\n    const {Header, Sider} = Layout;\r\n    const {SubMenu} = Menu;\r\n\r\n    const [collapsed, setCollapsed] = useState(false)\r\n\r\n    const onCollapse = collapsed => {\r\n        setCollapsed(collapsed);\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '257px'\r\n    })\r\n\r\n    const Vag = styled.div({\r\n        '.ant-menu': {\r\n            height: '100vh',\r\n            position: 'relative',\r\n            width: collapsed ? '80px' : '257px'\r\n        },\r\n        '.vag123': {\r\n            position: 'absolute',\r\n            bottom: '48px',\r\n            width: collapsed ? '80px' : ''\r\n        },\r\n        '.site-layout': {\r\n            padding: '15px'\r\n        },\r\n        '& > section': {\r\n            '& > aside': {\r\n                position: 'fixed',\r\n                zIndex: 99\r\n            },\r\n            '& > section': {\r\n                marginLeft: collapsed ? '80px' : '257px'\r\n            }\r\n        }\r\n        // 'ul.ant-menu': {\r\n        // \tposition: 'fixed',\r\n        // \twidth: '200px'\r\n        // }\r\n    })\r\n\r\n    const Box = styled.div({\r\n        overflow: 'auto'\r\n    })\r\n\r\n    // if (window.location.pathname != '/' & document.readyState == 'loading') {\r\n    // \twindow.location.replace(\"/\");\r\n    // }\r\n\r\n    return (\r\n        <>\r\n            <Router>\r\n                <Vag>\r\n                    <Layout style={{minHeight: '100vh'}}>\r\n                        <Sider\r\n                            collapsible\r\n                            collapsed={collapsed}\r\n                            onCollapse={onCollapse}\r\n                        >\r\n                            <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n                                <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\r\n                                    <SearchAll setPageStudent={setPageStudent} setPageGruop={setPageGruop}/>\r\n                                </Menu.Item>\r\n                                <Menu.Item\r\n                                    icon={<UploadOutlined onClick={() => document.querySelector(\".ButtonUpload\").click()}/>}>\r\n                                    <UploadPupils/>\r\n                                </Menu.Item>\r\n                                <Menu.Item key=\"2\" icon={<UserOutlined/>}>\r\n                                    <Link to='/student'>\r\n                                        Ученики\r\n                                    </Link>\r\n                                </Menu.Item>\r\n                                <Menu.Item key=\"3\" icon={<TeamOutlined/>}>\r\n                                    <Link to='/group'>\r\n                                        Группы\r\n                                    </Link>\r\n                                </Menu.Item>\r\n                                <Menu.Item key=\"4\" icon={<TeamOutlined/>}>\r\n                                    <Link to='/sales-funnel'>\r\n                                        Воронка продаж\r\n                                    </Link>\r\n                                </Menu.Item>\r\n                                <SubMenu key=\"sub1\" icon={<DatabaseOutlined/>} title=\"Сводные таблицы\">\r\n                                    <Menu.Item key=\"sub-student\">\r\n                                        <Link to='/table-pupils'>\r\n                                            Ученики\r\n                                        </Link>\r\n                                    </Menu.Item>\r\n                                    <Menu.Item key=\"sub-groups\">\r\n                                        <Link to='/table-groups'>\r\n                                            Группы\r\n                                        </Link>\r\n                                    </Menu.Item>\r\n                                </SubMenu>\r\n                                <Menu.Item\r\n                                    onClick={() => {\r\n                                        localStorage.removeItem('tokenID');\r\n                                        logOut()\r\n                                    }}\r\n                                    id='LogoutOut'\r\n                                    key=\"Logout\"\r\n                                    className='vag123'\r\n                                    icon={<LogoutOutlined/>}>\r\n                                    <Link to='/'>\r\n                                        Выход\r\n                                    </Link>\r\n                                </Menu.Item>\r\n                            </Menu>\r\n                        </Sider>\r\n                        <Layout className=\"site-layout\">\r\n                            <Switch>\r\n                                <Route exact path='/student'\r\n                                       component={() => <Student setPageStudent={setPageStudent}/>}/>\r\n                                <Route path={`/student/:id`} children={() => <StudentPage setUrlPage={setPageGruop}/>}/>\r\n\r\n                                <Route exact path='/group' component={() => <Group setPageGruop={setPageGruop}/>}/>\r\n                                <Route path={`/group/:id`} children={() => <GroupPage setUrlPage={setPageStudent}/>}/>\r\n                                <Route path={'/sales-funnel'} component={SalesFunnel}/>\r\n                                {/*Сводные таблицы*/}\r\n                                <Route exact path='/table-groups' component={() => <Create_Columns_Rows_Groups/>}/>\r\n\r\n                                <Route exact path='/table-pupils' component={() => (\r\n                                    <Box>\r\n                                        <Create_Columns_Rows_Pupils/>\r\n                                    </Box>)}/>\r\n\r\n                                <Route path=\"/student/*\">\r\n                                    <h2>Странца не найдена</h2>\r\n                                </Route>\r\n                            </Switch>\r\n                        </Layout>\r\n                    </Layout>\r\n                </Vag>\r\n            </Router>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default HomePage;","import React, {useState, useEffect} from 'react';\r\n\r\nimport localStorage_change from './../../../../../#localStorage_change.js'\r\nimport Url from './../../../../../url/url.js'\r\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\r\n// import {loading} from './../../../../../alert/alert.js'\r\n\r\nimport {Table, Tag, Space, Input, Pagination, Button} from 'antd';\r\n\r\n\r\nconst TablePupils = ({ID_Group, Group, getUser}) => {\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    const {Column, ColumnGroup} = Table\r\n    const {TextArea} = Input\r\n\r\n    const axiosPut = (mass, pupil_id) => {\r\n        axios({\r\n            method: 'put',\r\n            url: `${Url}/CRM/Groups/${Group._id}/Pupils/${pupil_id}/Schedule`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: mass\r\n        })\r\n        .then((res) => {\r\n            getUser('Сохранение')\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data} = error.response;\r\n\r\n                if (status == 404) {\r\n\r\n                } else if (status == 401) {\r\n\r\n                    if (data.message == 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(data.token);\r\n                        axiosPut();\r\n                    } else {\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    const axiosNotes = (pupil_id, value) => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Pupils/${pupil_id}/Notes`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: {\r\n                text: value\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data} = error.response;\r\n\r\n                if (status == 404) {\r\n\r\n                } else if (status == 401) {\r\n\r\n                    if (data.message == 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(data.token);\r\n                        axiosNotes();\r\n                    } else {\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const [GLOBAL_ARR_PUPILS, set_GLOBAL_ARR_DAY] = useState({})\r\n    const [GLOBAL_ROW_KEY, set_GLOBAL_ROW_KEY] = useState([])\r\n\r\n    let ARR_PUPILS = {...GLOBAL_ARR_PUPILS},\r\n        RowKeys = [...GLOBAL_ROW_KEY]\r\n\r\n    const setRowKeys = () => {\r\n\r\n        RowKeys = []\r\n\r\n        for (let key in ARR_PUPILS) {\r\n            if (ARR_PUPILS[key].arr[ID_Group].status == 2) {\r\n                RowKeys.push(key)\r\n            }\r\n        }\r\n    }\r\n\r\n    let Notes = {}\r\n\r\n    const onSeveChange = () => {\r\n        for (let key in ARR_PUPILS) {\r\n            axiosPut(ARR_PUPILS[key].arr, key)\r\n            console.log(key)\r\n        }\r\n        for (let key in Notes) {\r\n            axiosNotes(key, Notes[key].text)\r\n        }\r\n    }\r\n\r\n    const data = Group.PUPILS.map((item, i) => {\r\n\r\n        let {_id, name, surname, midname} = item\r\n\r\n        ARR_PUPILS[_id] = {\r\n            arr: item.localSchedule ? item.localSchedule[Group._id] : [],\r\n            pupil_id: _id\r\n        }\r\n        setRowKeys()\r\n\r\n\r\n        let start = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].start : '',\r\n            finish = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].finish : ''\r\n\r\n        const titleProgresStart = (key, text) => {\r\n            console.log(ARR_PUPILS[_id].arr[ID_Group])\r\n            ARR_PUPILS[_id].arr[ID_Group][key] = text\r\n        }\r\n\r\n        const onChangeStatys = (arr) => {\r\n            if (ARR_PUPILS[_id]) {\r\n                ARR_PUPILS[_id].arr = arr\r\n            } else if (!ARR_PUPILS[_id]) {\r\n                ARR_PUPILS[_id] = {\r\n                    arr: arr,\r\n                    pupil_id: _id\r\n                }\r\n            }\r\n\r\n            console.log(ARR_PUPILS)\r\n        }\r\n\r\n        let changeDayPupil = (index = 3) => {\r\n            let arr = [...item.localSchedule[Group._id]];\r\n\r\n            if (index == 2 & arr[ID_Group].status == 3) {\r\n                arr[ID_Group].status = index;\r\n\r\n                onChangeStatys(arr)\r\n\r\n            } else if (index == 3) {\r\n                arr[ID_Group].status = index;\r\n\r\n                onChangeStatys(arr)\r\n\r\n            } else if (index != 3 & index != 2) {\r\n                arr[ID_Group].title = index;\r\n\r\n                onChangeStatys(arr)\r\n            } else {\r\n                // swallErr('Не возможно установить статус');\r\n            }\r\n        };\r\n\r\n        let titlePupil = ''\r\n        if (Group.PUPILS[i]) {\r\n            titlePupil = Group.PUPILS[i].localSchedule[Group._id][ID_Group].title\r\n            console.log(item)\r\n        }\r\n\r\n        console.log(titlePupil)\r\n\r\n        return {\r\n            key: _id,\r\n            name: `${surname} ${name} ${midname}`,\r\n            title: {\r\n                text: titlePupil,\r\n                action: changeDayPupil,\r\n                addNotes: (value) => {\r\n                    Notes[_id] = {\r\n                        text: value,\r\n                        id: _id\r\n                    }\r\n                }\r\n            },\r\n            progres: {\r\n                start: start,\r\n                finish: finish,\r\n                action: titleProgresStart\r\n            }\r\n        }\r\n    })\r\n\r\n    const rowSelection = {\r\n\r\n        selectedRowKeys: RowKeys,\r\n\r\n        onChange: () => {\r\n            set_GLOBAL_ARR_DAY(ARR_PUPILS)\r\n            set_GLOBAL_ROW_KEY(RowKeys)\r\n        },\r\n        onSelect: (e) => {\r\n\r\n            let i,\r\n                box = ARR_PUPILS[e.key].arr[ID_Group].status\r\n            if (box == 2) {\r\n                i = 3\r\n            } else {\r\n                i = 2\r\n            }\r\n\r\n            ARR_PUPILS[e.key].arr[ID_Group].status = i\r\n\r\n            setRowKeys()\r\n        },\r\n        onSelectAll: (e) => {\r\n\r\n            if (e) {\r\n                for (let key in ARR_PUPILS) {\r\n                    ARR_PUPILS[key].arr[ID_Group].status = 2\r\n                }\r\n            } else if (!e) {\r\n                for (let key in ARR_PUPILS) {\r\n                    ARR_PUPILS[key].arr[ID_Group].status = 3\r\n                }\r\n            }\r\n\r\n            setRowKeys()\r\n        }\r\n    };\r\n\r\n    let pagination = {\r\n        pageSize: 150,\r\n        onChange: (i) => {\r\n            console.log(`Страница: ${i}`)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Table\r\n                pagination={false}\r\n                loading={false}\r\n                rowSelection={rowSelection}\r\n                scroll={{x: 0}}\r\n\r\n                dataSource={data}>\r\n                <Column\r\n                    title=\"Ученик\"\r\n                    dataIndex=\"name\"\r\n                    key=\"name\"\r\n                    render={(name) => (\r\n                        <Tag color=\"blue\">{name}</Tag>\r\n                    )}/>\r\n                <ColumnGroup title='Прогресс'>\r\n                    <Column\r\n                        title=\"Коментарии\"\r\n                        dataIndex=\"title\"\r\n                        key=\"title\"\r\n                        render={(title) => (\r\n                            <TextArea\r\n                                defaultValue={title.text}\r\n                                placeholder=\"Коментарий ученику\"\r\n                                onBlur={e => {\r\n                                    title.action(e.target.value)\r\n                                    title.addNotes(e.target.value)\r\n                                }}\r\n                                autoSize={{minRows: 2, maxRows: 6}}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <Column\r\n                        title=\"Начало\"\r\n                        dataIndex=\"progres\"\r\n                        key=\"progres\"\r\n                        render={(progres) => (\r\n                            <TextArea\r\n                                defaultValue={progres.start}\r\n                                placeholder='Старт...'\r\n                                onBlur={e => {\r\n                                    progres.action('start', e.target.value)\r\n                                }}\r\n                                autoSize={{minRows: 2, maxRows: 6}}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <Column\r\n                        title=\"Конец\"\r\n                        dataIndex=\"progres\"\r\n                        key=\"progres\"\r\n                        render={(progres) => (\r\n                            <TextArea\r\n                                defaultValue={progres.finish}\r\n                                placeholder=\"Финиш...\"\r\n                                onBlur={e => {\r\n                                    progres.action('finish', e.target.value)\r\n                                }}\r\n                                autoSize={{minRows: 2, maxRows: 6}}\r\n                            />\r\n                        )}\r\n                    />\r\n                </ColumnGroup>\r\n            </Table>\r\n            <div className='Button'>\r\n                <Button\r\n                    onClick={onSeveChange}\r\n                    type='primary'\r\n                >Сохранить</Button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TablePupils","import React, {useState, useEffect} from 'react';\r\n\r\n// import {loading, Swalclose} from './../../../../alert/alert.js'\r\n// import Url from './../../../../url/url.js'\r\n// import localStorage_change from './../../../../#localStorage_change.js'\r\n\r\nimport TablePupils from './table-pupils/table-pupils.js'\r\n\r\nimport { Typography, Space } from 'antd';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst LessonNow = ({rowKey, setRowKey, GROUP, Group, getUser}) => {\r\n\r\n\tlet G = GROUP\r\n\r\n\tif (!GROUP.group.GROUP_NAME) {\r\n\t\tG = Group\r\n\t}\r\n\r\n\tconst { Text } = Typography;\r\n\r\n\tconst LessonNow = styled.div({\r\n\t\t'.time': {\r\n\t\t\t'h5, h6': {\r\n\t\t\t\tmargin: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.TablePupils': {\r\n\t\t\tmarginTop: '15px',\r\n\t\t\t'.ant-tag': {\r\n\t\t\t\tfontSize: '13px'\r\n\t\t\t},\r\n\t\t\ttd: {\r\n\t\t\t\tpadding: '16px 3px'\r\n\t\t\t}\r\n\t\t},\r\n\t\t'.Button': {\r\n\t\t\tmarginTop: '15px',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\tjustifyContent: 'flex-end'\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<LessonNow className='LessonNow'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t\t<h4><Text type=\"secondary\"> Урок сейчас: </Text> {G.group.GROUP_NAME} </h4>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`col-md-3 time`}>\r\n\t\t\t\t\t<h6> <Text type=\"secondary\">Начало</Text> </h6>\r\n\t\t\t\t\t<h5> <Text type=\"warning\">{G.group.GLOBAL_SCHEDULE[G.indexD].date} в {G.group.GLOBAL_SCHEDULE[0].duration[0]}</Text> </h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"TablePupils\">\r\n\t\t\t\t<TablePupils rowKey={rowKey} getUser={getUser} ID_Group={G.indexD} setRowKey={setRowKey} Group={G.group}/>\r\n\t\t\t</div>\r\n\t\t</LessonNow>\r\n\t)\r\n}\r\n\r\nexport default LessonNow","import React, {useState, useEffect} from 'react';\r\n\r\nimport { Table, Tag, Space, Pagination } from 'antd';\r\n\r\n\r\nconst TableGroups = ({Groups, newGroup, setGROUP, GROUP}) => {\r\n\r\n\tconst { Column, ColumnGroup } = Table\r\n\r\n\tconst data = Groups.map((item, i) => {\r\n\r\n\t\tlet {_id, GROUP_NAME, GLOBAL_SCHEDULE} = item.group,\r\n\t\t\tcolor = 'cyan'\r\n\r\n\t\t\tif (GROUP.group) {\r\n\t\t\t\tif (newGroup.group._id == _id & !GROUP.group.GROUP_NAME) {\r\n\r\n\t\t\t\t\tcolor = 'volcano'\r\n\t\t\t\t} else if (_id == GROUP.group._id) {\r\n\r\n\t\t\t\t\tcolor = 'volcano'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tkey: i,\r\n\t\t\tgroupName: { \r\n\t\t\t\tGROUP_NAME: GROUP_NAME,\r\n\t\t\t\tG: item\r\n\t\t\t},\r\n\t\t\tdate: {\r\n\t\t\t\tdate: `${GLOBAL_SCHEDULE[`${item.indexD}`].date} в ${GLOBAL_SCHEDULE[0].duration[0]}`,\r\n\t\t\t\tcolor: color,\r\n\t\t\t\tG: item\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tlet pagination = {\r\n\t\tpageSize: 15,\r\n\t\tonChange: (i) => {\r\n\t\t\tconsole.log(`Страница: ${i}`)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t  <Table \r\n\t  \tpagination={pagination}\r\n\t  \tloading={false}\r\n\t  \tscroll={{ x: 0 }}\r\n\r\n\t  \tdataSource={data}>\r\n\t  \t\t<Column\r\n\t  \t\ttitle=\"Время\"\r\n\t  \t\tdataIndex=\"date\"\r\n\t  \t\tkey=\"date\"\r\n\t  \t\trender={(date) => (\r\n\t  \t\t\t<Tag\r\n\t  \t\t\t\tonClick={() => {setGROUP(date.G)}} \r\n\t  \t\t\t\tstyle={{cursor: 'pointer'}}\r\n\t  \t\t\t\tcolor={date.color}>{date.date}</Tag>\r\n\t  \t\t)}/>\r\n\r\n\t  \t\t<Column\r\n\t  \t\ttitle=\"Группа\"\r\n\t  \t\tdataIndex=\"groupName\"\r\n\t  \t\tkey=\"groupName\"\r\n\t  \t\trender={(groupName) => (\r\n\t  \t\t\t<Tag \r\n\t  \t\t\t\tonClick={() => {setGROUP(groupName.G)}}\r\n\t  \t\t\t\tstyle={{cursor: 'pointer'}}\r\n\t  \t\t\t\tcolor=\"volcano\">{groupName.GROUP_NAME}</Tag>\r\n\t  \t\t)}/>\r\n\t  </Table>\r\n\t)\r\n}\r\n\r\n\r\nTableGroups.defaultProps = {\r\n\tGroups: [{\r\n\t\t\tGROUP_NAME: '',\r\n\t\t\tGLOBAL_SCHEDULE: [\r\n\t\t\t\t{date: \"\", duration: ['', '']}\r\n\t\t\t],\r\n\t\t\tPUPILS: []\r\n\t\t}]\r\n}\r\n\r\nexport default TableGroups","import React, {useState, useEffect} from 'react';\r\n\r\nimport TableGroups from './table-groups/table-groups.js'\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst AllLesson = ({Groups, newGroup, setGROUP, GROUP}) => {\r\n\r\n\tlet gro = [...Groups]\r\n\r\n\t// if (gro[1]) {\r\n\t// \tgro.splice(0, 1)\r\n\t// }\r\n\r\n\tconsole.log(gro)\r\n\r\n\tconst AllLesson = styled.div({\r\n\t\tpadding: '15px',\r\n\t\tborderRadius: '2px',\r\n\t\tbackgroundColor: '#fff'\r\n\t})\r\n\r\n\treturn (\r\n\t\t<AllLesson className='AllLesson'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t\t<h5>Ближайшие уроки</h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"TableGroups\">\r\n\t\t\t\t<TableGroups Groups={gro} newGroup={newGroup} setGROUP={setGROUP} GROUP={GROUP}/>\r\n\t\t\t</div>\r\n\t\t</AllLesson>\r\n\t)\t\r\n}\r\n\r\nexport default AllLesson","import React, {useState, useEffect} from 'react';\r\nimport { Layout, Breadcrumb } from 'antd';\r\n\r\nimport LessonNow from './lesson-now/lesson-now.js'\r\nimport AllLesson from './all-lesson/all-lesson.js'\r\n\r\nimport moment from 'moment'\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst Today = ({rowKey, setRowKey, Groups, GROUP, setGROUP, getUser}) => {\r\n\r\n\tlet indexHours = {\r\n\t\ttimeN: '',\r\n\t\tgroup: {\r\n\t\t\tGROUP_NAME: '',\r\n\t\t\tGLOBAL_SCHEDULE: [\r\n\t\t\t\t{date: \"\", duration: ['', '']}\r\n\t\t\t],\r\n\t\t\tPUPILS: []\r\n\t\t},\r\n\t\tindexD: 0\r\n\t},\r\n\tgroupsAll = [{\r\n\t\ttimeN: '',\r\n\t\tgroup: {\r\n\t\t\tGROUP_NAME: '',\r\n\t\t\tGLOBAL_SCHEDULE: [\r\n\t\t\t\t{date: \"\", duration: ['', '']}\r\n\t\t\t],\r\n\t\t\tPUPILS: []\r\n\t\t},\r\n\t\tindexD: 0\r\n\t}]\r\n\r\n\r\n\tGroups.forEach((item, i) => {\r\n\r\n\t\tlet dataLes_l = []\r\n\t\tlet indexD = 'f'\r\n\r\n\t\tlet GLOBAL_SCHEDULE_Local = item.GLOBAL_SCHEDULE ? item.GLOBAL_SCHEDULE : []\r\n\r\n\t\tGLOBAL_SCHEDULE_Local.forEach((itemGL, i) => {\r\n\r\n\t\t\tlet time = moment(itemGL.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\r\n\t\t\ttime_day = moment().diff(time, 'day');\r\n\r\n\t\t\tif (time_day <= 0) {\r\n\r\n\t\t\t\tif (indexD == 'f') {\r\n\t\t\t\t\tindexD = i\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdataLes_l.push(`${time} ${itemGL.duration[0]}`)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (dataLes_l[0]) {\r\n\r\n\t\t\tif (indexHours.timeN) {\r\n\r\n\t\t\t\tlet indexN = moment().diff(dataLes_l[0], 'hours'),\r\n\t\t\t\t\tposl = moment().diff(indexHours.timeN, 'hours')\r\n\r\n\t\t\t\tif (indexN > posl & indexN <= 0) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tindexHours = {\r\n\t\t\t\t\t\ttimeN: dataLes_l[0],\r\n\t\t\t\t\t\tgroup: item,\r\n\t\t\t\t\t\tindexD: indexD\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (!indexHours.timeN) {\r\n\t\t\t\tindexHours = {\r\n\t\t\t\t\ttimeN: dataLes_l[0],\r\n\t\t\t\t\tgroup: item,\r\n\t\t\t\t\tindexD: indexD\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (dataLes_l[0]) {\r\n\t\t\t\tgroupsAll.push({\r\n\t\t\t\t\ttimeN: dataLes_l[0],\r\n\t\t\t\t\tgroup: item,\r\n\t\t\t\t\tindexD: indexD\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tlet groupCon = [{\r\n\t\ttimeN: '',\r\n\t\tgroup: {\r\n\t\t\tGROUP_NAME: '',\r\n\t\t\tGLOBAL_SCHEDULE: [\r\n\t\t\t\t{date: \"\", duration: ['', '']}\r\n\t\t\t],\r\n\t\t\tPUPILS: []\r\n\t\t},\r\n\t\tindexD: 0\r\n\t}]\r\n\r\n\tlet indexGroup = []\r\n\tgroupsAll.forEach(item => {\r\n\t\tindexGroup.push(moment().diff(item.timeN, 'minutes'))\r\n\t})\r\n\r\n\tindexGroup.sort((a, b) => b - a)\r\n\r\n\tindexGroup.forEach(itemIN => {\r\n\t\tgroupsAll.forEach((item2, i) => {\r\n\r\n\t\t\tif (moment().diff(item2.timeN, 'minutes') == itemIN) {\r\n\r\n\t\t\t\tgroupCon.push(item2)\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n\r\n\tif (groupCon[1] != undefined) {\r\n\t\tgroupCon.splice(0, 1)\r\n\t}\r\n\r\n\t// console.log(groupCon)\r\n\r\n\tconst Today = styled.div({\r\n\t\t'.site-layout-background': {\r\n\t\t\t'.allCol': {\r\n\t\t\t\tpadding: '0 7.5px'\r\n\t\t\t},\r\n\t\t\t'.LessonNow, .AllLesson': {\r\n\t\t\t\tpadding: '15px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackgroundColor: '#fff'\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tif (!GROUP) {\r\n\t\tsetGROUP(groupCon[0])\r\n\t}\r\n\r\n\tconst { Content } = Layout;\r\n\r\n\treturn (\r\n\t\t<Today>\r\n\t\t\t<Content style={{ margin: '0 16px' }}>\r\n\t\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\r\n\t\t\t\t\t<Breadcrumb.Item>Главная</Breadcrumb.Item>\r\n\t\t\t\t\t<Breadcrumb.Item>Ближайшие уроки</Breadcrumb.Item>\r\n\t\t\t\t</Breadcrumb>\r\n\t\t\t\t<div className=\"row site-layout-background\" style={{ padding: '7.5px', minHeight: 360 }}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"allCol col-8\">\r\n\t\t\t\t\t\t<LessonNow rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP} Group={indexHours}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"allCol col-4\">\r\n\t\t\t\t\t\t<AllLesson Groups={groupCon} setGROUP={setGROUP} newGroup={indexHours} GROUP={GROUP}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Content>\r\n\t\t</Today>\r\n\t)\r\n}\r\n\r\nexport default Today","import React, {useState, useEffect} from 'react';\r\nimport {Layout, Breadcrumb, Table, Tag} from 'antd';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nimport moment from 'moment';\r\n\r\nconst Сalendar = ({Groups}) => {\r\n\r\n    console.log(Groups)\r\n\r\n    const columns2 = Groups.map(item => {\r\n        // let text = `${item._id}`\r\n        return (\r\n            {\r\n                title: () => <Tag key={item._id} color=\"magenta\">{item.GROUP_NAME}</Tag>,\r\n                key: item._id,\r\n                dataIndex: 'pupil',\r\n                fixed: 'top',\r\n                width: 100,\r\n                render: () => {\r\n                    return (\r\n                        <>\r\n                            {\r\n                                item.PUPILS.map((itemf, i) => (\r\n                                    <div key={`${item._id}${i}`}>\r\n                                        <Tag\r\n                                            style={{marginBottom: '5px'}}\r\n                                            color=\"green\">{itemf.surname} {itemf.name} {itemf.midname}</Tag>\r\n                                    </div>\r\n                                ))\r\n                            }\r\n                        </>\r\n                    )\r\n                }\r\n            }\r\n        )\r\n    })\r\n\r\n    const data2 = [{\r\n        key: '777',\r\n        pupil: ''\r\n    }]\r\n\r\n    console.log(data2)\r\n\r\n\r\n// ==================\r\n    const columns = [\r\n        {\r\n            title: '',\r\n            key: 'time',\r\n            dataIndex: 'time',\r\n            fixed: 'left',\r\n            width: 100,\r\n            render: (time) => <Tag color=\"cyan\">{time}</Tag>,\r\n        },\r\n        {title: 'Понедельник', dataIndex: '1', key: '1'},\r\n        {title: 'Вторник', dataIndex: '2', key: '2'},\r\n        {title: 'Среда', dataIndex: '3', key: '3'},\r\n        {title: 'Четверг', dataIndex: '4', key: '4'},\r\n        {title: 'Пятница', dataIndex: '5', key: '5'},\r\n        {title: 'Суббота', dataIndex: '6', key: '6'},\r\n        {title: 'Воскресенье', dataIndex: '0', key: '7'}\r\n    ];\r\n    const data = Groups.map(items => {\r\n\r\n        let GLOBAL_SCHEDULE_Local = items.GLOBAL_SCHEDULE ? items.GLOBAL_SCHEDULE : []\r\n\r\n        if (GLOBAL_SCHEDULE_Local[0]) {\r\n            let wekDay = {}\r\n\r\n            items.GLOBAL_SCHEDULE.forEach(day => {\r\n                let wek_day = moment(day.date, 'DD.MM.YYYY').day()\r\n\r\n                wekDay[wek_day] = items.GROUP_NAME\r\n            })\r\n\r\n            return {\r\n                key: items._id,\r\n                ...wekDay,\r\n                time: items.GLOBAL_SCHEDULE[0].duration[0]\r\n            }\r\n        } else {\r\n            return {\r\n                key: items._id,\r\n                '1': `Для группы: \"${items.GROUP_NAME}\" не создано расписание.`,\r\n                time: ''\r\n            }\r\n        }\r\n    })\r\n\r\n\r\n    let inc = 0\r\n    let finalDate = []\r\n\r\n    while (inc <= 24) {\r\n        data.forEach(item => {\r\n\r\n            let hh = moment(item.time, 'hh:mm').hours()\r\n            if (hh == inc) {\r\n                finalDate.push(item)\r\n            }\r\n        })\r\n        inc++\r\n    }\r\n\r\n\r\n    const Сalendar = styled.div({\r\n        padding: '15px',\r\n        borderRadius: '2px',\r\n        backgroundColor: '#fff'\r\n    })\r\n    const GroupsANDpupils = styled.div({\r\n        padding: '15px',\r\n        borderRadius: '2px',\r\n        backgroundColor: '#fff',\r\n        marginBottom: '15px'\r\n    })\r\n\r\n    const {Content} = Layout;\r\n    return (\r\n        <Content style={{margin: '0 16px'}}>\r\n            <Breadcrumb style={{margin: '16px 0'}}>\r\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Расписание уроков</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n            <GroupsANDpupils>\r\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\r\n                    <h4>Группы</h4>\r\n                    <Table bordered columns={columns2} dataSource={data2} scroll={{x: 1000}}/>\r\n                </div>\r\n            </GroupsANDpupils>\r\n            <Сalendar>\r\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\r\n                    <h4>Расписание</h4>\r\n                    <Table bordered columns={columns} dataSource={finalDate} scroll={{x: 1300}}/>\r\n                </div>\r\n            </Сalendar>\r\n        </Content>\r\n    )\r\n}\r\n\r\nexport default Сalendar","import React, {useState, useEffect} from 'react';\r\nimport { Table, Tag, Space, Layout, Breadcrumb } from 'antd';\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport ReturnAge from './../../home-page/return-age/returnAge.js'\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst AllPupils = ({AllPupils}) => {\r\n\r\n\tconst { Content } = Layout;\r\n\tconst { Column, ColumnGroup } = Table;\r\n\r\n\tconst data = []\r\n\r\n\tAllPupils.forEach(item => {\r\n\r\n\t\tlet {surname, name, midname, age, gender, phone, discord, _id} = item\r\n\r\n\t\tlet i = true\r\n\r\n\t\tdata.forEach(item => {\r\n\t\t\tif (item.key == _id) {\r\n\t\t\t\ti = false\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (i) {\r\n\t\t\tdata.push({\r\n\t\t\t\tkey: _id,\r\n\t\t\t\tsurname: [surname, _id],\r\n\t\t\t\tname: name,\r\n\t\t\t\tmidname: midname,\r\n\t\t\t\tage: ReturnAge(age),\r\n\t\t\t\tgender: gender,\r\n\t\t\t\tphone: phone,\r\n\t\t\t\tdiscord: discord\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\n\tconst AllPupilsBox = styled.div({\r\n\t\tpadding: '15px',\r\n\t\tborderRadius: '2px',\r\n\t\tbackgroundColor: '#fff'\r\n\t})\r\n\r\n\treturn (\r\n\r\n\t\t<Content style={{ margin: '0 16px' }}>\r\n\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\r\n\t\t\t\t<Breadcrumb.Item>Главная</Breadcrumb.Item>\r\n\t\t\t\t<Breadcrumb.Item>Таблица Учеников</Breadcrumb.Item>\r\n\t\t\t</Breadcrumb>\r\n\t\t\t<div className=\"site-layout-background\" style={{ padding: '10px', minHeight: 360 }}>\r\n\t\t\t\t<AllPupilsBox>\r\n\t\t\t\t\t<Table dataSource={data}>\r\n\t\t\t\t\t    <Column \r\n\t\t\t\t\t    \ttitle=\"Фамилия\" \r\n\t\t\t\t\t    \tdataIndex=\"surname\" \r\n\t\t\t\t\t    \tkey=\"surname\" \r\n\t\t\t\t\t    \trender={(surname) => (\r\n\t\t\t\t\t    \t\t<Link\r\n\t\t\t\t\t\t    \t\tclassName=\"link-info\"\r\n\t\t\t\t\t\t    \t\tto={`/student/${surname[1]}`}>\r\n\t\t\t\t\t\t    \t\t{surname[0]}\r\n\t\t\t\t\t    \t\t</Link>\r\n\t\t\t\t\t    \t)}/>\r\n\t\t\t\t\t    <Column title=\"Имя\" dataIndex=\"name\" key=\"name\" />\r\n\t\t\t\t\t    <Column title=\"Отчество\" dataIndex=\"midname\" key=\"midname\" />\r\n\t\t\t\t\t    <Column title=\"Возраст\" dataIndex=\"age\" key=\"age\" />\r\n\t\t\t\t\t    <Column title=\"Пол\" dataIndex=\"gender\" key=\"gender\" />\r\n\t\t\t\t\t    <Column title=\"Номер телефона\" dataIndex=\"phone\" key=\"phone\" />\r\n\t\t\t\t\t    <Column title=\"Дискорд никнейм\" dataIndex=\"discord\" key=\"discord\" />\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</AllPupilsBox>\r\n\t\t\t</div>\r\n\t\t</Content>\r\n\t)\r\n}\r\n\r\nexport default AllPupils","import React, {useState, useEffect} from 'react';\r\nimport { Table, Tag, Space, Layout, Breadcrumb } from 'antd';\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst AllGroups = ({AllGroups}) => {\r\n\tconst { Content } = Layout;\r\n\tconst { Column, ColumnGroup } = Table;\r\n\r\n\tconst data = AllGroups.map(item => {\r\n\r\n\t\tlet {GROUP_NAME, TUTOR, LEVEL, PLACES, PUPILS, _id, GLOBAL_SCHEDULE} = item\r\n\r\n\t\tlet time = ''\r\n\t\t// let {surname, name, midname} = TUTOR\r\n\r\n\t\tif (GLOBAL_SCHEDULE) {\r\n\t\t\tif (GLOBAL_SCHEDULE[0]) {\r\n\t\t\t\ttime = `с ${GLOBAL_SCHEDULE[0].duration[0]} до ${GLOBAL_SCHEDULE[0].duration[1]}`\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ({\r\n\t\t\tkey: _id,\r\n\t\t\tGROUP_NAME: [GROUP_NAME, _id],\r\n\t\t\tLEVEL: LEVEL,\r\n\t\t\tPLACES: PLACES,\r\n\t\t\tFREE_PLACES: PLACES - PUPILS.length,\r\n\t\t\tTIME: time\r\n\t\t})\r\n\t})\r\n\r\n\tconst AllGroupsBox = styled.div({\r\n\t\tpadding: '15px',\r\n\t\tborderRadius: '2px',\r\n\t\tbackgroundColor: '#fff'\r\n\t})\r\n\r\n\treturn (\r\n\r\n\t\t<Content style={{ margin: '0 16px' }}>\r\n\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\r\n\t\t\t\t<Breadcrumb.Item>Главная</Breadcrumb.Item>\r\n\t\t\t\t<Breadcrumb.Item>Таблица Групп</Breadcrumb.Item>\r\n\t\t\t</Breadcrumb>\r\n\t\t\t<div className=\"site-layout-background\" style={{ padding: '10px', minHeight: 360 }}>\r\n\t\t\t\t<AllGroupsBox>\r\n\t\t\t\t\t<Table dataSource={data}>\r\n\t\t\t\t\t    <Column \r\n\t\t\t\t\t    \ttitle=\"Имя Группы\" \r\n\t\t\t\t\t    \tdataIndex=\"GROUP_NAME\" \r\n\t\t\t\t\t    \tkey=\"GROUP_NAME\" \r\n\t\t\t\t\t    \trender={(GROUP_NAME) => (\r\n\t\t\t\t\t    \t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"link-info\"\r\n\t\t\t\t\t\t\t\t\tto={`/group/${GROUP_NAME[1]}`}>\r\n\t\t\t\t\t\t\t\t\t{GROUP_NAME[0]}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t    \t)}/>\r\n\t\t\t\t\t    <Column title=\"Уровень\" dataIndex=\"LEVEL\" key=\"LEVEL\" />\r\n\t\t\t\t\t    <Column title=\"Количество мест\" dataIndex=\"PLACES\" key=\"PLACES\" />\r\n\t\t\t\t\t    <Column title=\"Свободных мест\" dataIndex=\"FREE_PLACES\" key=\"FREE_PLACES\" />\r\n\t\t\t\t\t    <Column title=\"Время занятий\" dataIndex=\"TIME\" key=\"TIME\" />\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</AllGroupsBox>\r\n\t\t\t</div>\r\n\t\t</Content>\r\n\t)\r\n}\r\n\r\nexport default AllGroups","import React, {useState, useEffect} from 'react';\r\nimport {BrowserRouter as Router, Route, Link, Switch} from \"react-router-dom\";\r\n\r\nimport {loading, Swalclose} from './../../alert/alert.js'\r\nimport Url from './../../url/url.js'\r\nimport localStorage_change from './../../#localStorage_change.js'\r\nimport RestrictionMessage from '../restriction-message/restriction-message.js'\r\n\r\nimport Today from './today/today.js'\r\nimport Сalendar from './calendar/calendar.js'\r\nimport SearchAll from './../search/search.js'\r\nimport StudentPage from '../home-page/student/pageStudent/pageStudent.js'\r\nimport GroupPage from '../home-page/group/group-page/group-page.js'\r\n\r\nimport AllPupils from './all-pupils/all-pupils.js'\r\nimport AllGroups from './all-groups/all-groups.js'\r\n\r\nimport {Layout, Menu} from 'antd';\r\nimport {\r\n    LogoutOutlined,\r\n    ClockCircleOutlined,\r\n    CalendarOutlined,\r\n    TeamOutlined,\r\n    SearchOutlined,\r\n    UserOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport styled from '@emotion/styled';\r\n\r\nconst HomePageTutor = ({logOut}) => {\r\n\r\n    const [pageGruop, setPageGruop] = useState(['0', '0']);\r\n    const [pageStudent, setPageStudent] = useState('1'); // Удалить потом\r\n\r\n    const onError = (error, fnc) => {\r\n        if (error.response) {\r\n            if (error.response.status == 401) {\r\n\r\n                if (error.response.data.message == 'TOKEN_EXPIRED') {\r\n\r\n                    localStorage_change(error.response.data.token);\r\n                    fnc();\r\n                } else {\r\n\r\n                    localStorage.removeItem('tokenID');\r\n                    window.location.replace(\"/\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const axios = require('axios'); // AJAX\r\n    let jwt = require('jsonwebtoken');\r\n\r\n    const [Groups, setGroups] = useState([])\r\n\r\n    let Pupils = []\r\n    Groups.forEach(item => {\r\n        Pupils.push(...item.PUPILS)\r\n    })\r\n\r\n    console.log(Groups, Pupils)\r\n\r\n    const [user, setUser] = useState({\r\n        groups: [],\r\n        login: \"\",\r\n        midname: \"\",\r\n        name: \"\",\r\n        role: \"\",\r\n        surname: \"\",\r\n        _id: \"456456\"\r\n    })\r\n\r\n\r\n    const getGroups = (l_user) => {\r\n\r\n        let mass_id = [];\r\n        l_user.groups.forEach((item, i) => {\r\n            mass_id.push(item._id)\r\n        });\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Groups/getByIds`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: mass_id\r\n        })\r\n        .then((res) => {\r\n            setGroups(res.data)\r\n            Swalclose()\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                onError(error, getGroups)\r\n            }\r\n        })\r\n    };\r\n\r\n    const getUser = (title) => {\r\n\r\n        loading(title, '')\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: `${Url}/AdminPanel/CRMAccounts/${jwt.decode(localStorage.getItem('tokenID')).id}`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            if (!res.data) {\r\n                localStorage.removeItem('tokenID');\r\n                window.location.replace(\"/\");\r\n            }\r\n\r\n            setUser(res.data)\r\n            getGroups(res.data)\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                onError(error, getGroups)\r\n            }\r\n        })\r\n    };\r\n\r\n    useEffect(() => {\r\n        getUser('Получение данных...')\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '250px'\r\n    })\r\n\r\n    const [rowKey, setRowKey] = useState([])\r\n    const [GROUP, setGROUP] = useState({\r\n        group: {\r\n            GROUP_NAME: '',\r\n            GLOBAL_SCHEDULE: [\r\n                {date: \"00\", duration: ['', '']}\r\n            ],\r\n            PUPILS: [],\r\n            _id: '3443'\r\n        },\r\n        indexD: 0\r\n    })\r\n\r\n    const {Header, Sider} = Layout;\r\n    const {SubMenu} = Menu;\r\n\r\n    const [collapsed, setCollapsed] = useState(false)\r\n\r\n    const onCollapse = collapsed => {\r\n        setCollapsed(collapsed);\r\n    };\r\n\r\n    const SiteLayout = styled.div({})\r\n    const Vag = styled.div({\r\n        '.ant-menu': {\r\n            height: '100vh',\r\n            position: 'relative',\r\n            width: collapsed ? '80px' : '250px'\r\n        },\r\n        '.vag123': {\r\n            position: 'absolute',\r\n            bottom: '48px',\r\n            width: collapsed ? '80px' : ''\r\n        },\r\n        '.site-layout': {\r\n            padding: '15px'\r\n        },\r\n        '& > section': {\r\n            '& > aside': {\r\n                position: 'fixed',\r\n                zIndex: 99\r\n            },\r\n            '& > section': {\r\n                marginLeft: collapsed ? '80px' : '250px'\r\n            }\r\n        }\r\n    })\r\n\r\n    console.log(GROUP, Groups)\r\n\r\n    return (\r\n        <Router>\r\n            <Vag>\r\n                <Layout style={{minHeight: '100vh'}}>\r\n                    <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n                        <div className=\"logo\"/>\r\n                        <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n                            <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\r\n                                <SearchAll setPageStudent={setPageStudent} setPageGruop={setPageGruop}\r\n                                           tutorid={`&tutorid=${jwt.decode(localStorage.getItem('tokenID')).id}`}/>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"1\" icon={<ClockCircleOutlined/>}>\r\n                                <Link to='/'>\r\n                                    Сегодня\r\n                                </Link>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"2\" icon={<CalendarOutlined/>}>\r\n                                <Link to='/calendar'>\r\n                                    Расписание\r\n                                </Link>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"3\" icon={<UserOutlined/>}>\r\n                                <Link to='/pupils'>\r\n                                    Ученики\r\n                                </Link>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"4\" icon={<TeamOutlined/>}>\r\n                                <Link to='/groups'>\r\n                                    Группы\r\n                                </Link>\r\n                            </Menu.Item>\r\n                            <Menu.Item\r\n                                onClick={() => {\r\n                                    localStorage.removeItem('tokenID');\r\n                                    logOut()\r\n                                }}\r\n                                key=\"Logout\" className='vag123' icon={<LogoutOutlined/>}>\r\n                                <Link to='/'>\r\n                                    Выход: {user.login}\r\n                                </Link>\r\n                            </Menu.Item>\r\n                        </Menu>\r\n                    </Sider>\r\n                    <Layout className=\"site-layout\">\r\n                        {/*<Header className=\"site-layout-background\" style={{ padding: 0 }}>\r\n                            <h3>Hello</h3>\r\n                          </Header>*/}\r\n\r\n                        <SiteLayout>\r\n                            <Switch>\r\n                                <Route exact path='/'>\r\n                                    <Today rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP}\r\n                                           setGROUP={setGROUP} Groups={Groups}/>\r\n                                </Route>\r\n                                <Route exact path='/calendar'>\r\n                                    <Сalendar Groups={Groups}/>\r\n                                </Route>\r\n                                <Route exact path='/pupils'>\r\n                                    <AllPupils AllPupils={Pupils}/>\r\n                                </Route>\r\n                                <Route exact path='/groups'>\r\n                                    <AllGroups AllGroups={Groups}/>\r\n                                </Route>\r\n\r\n                                <Route exact path={`/student/:id`}\r\n                                       children={() => <StudentPage setUrlPage={setPageGruop}/>}/>\r\n                                <Route exact path={`/group/:id`}\r\n                                       children={() => <GroupPage setUrlPage={setPageStudent}/>}/>\r\n                            </Switch>\r\n                        </SiteLayout>\r\n\r\n                    </Layout>\r\n                </Layout>\r\n            </Vag>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default HomePageTutor","import React, {useState, useEffect} from 'react'\r\n\r\nimport './App.css';\r\nimport FormlogIn from './form-log-In/form-log-in.js'\r\nimport HomePage from './home-page/home-page.js'\r\n\r\nimport Url from './../url/url.js'\r\n\r\nimport HomePageTutor from './home-page-tutor/home-page-tutor.js'\r\n\r\nconst App = () => {\r\n\tconst axios = require('axios'); // AJAX\r\n\r\n\tlet jwt = require('jsonwebtoken')\r\n\r\n\tconst [User, setUser] = useState('');\r\n\t\t//localStorage.getItem('tokenID')\r\n\tlet form = <FormlogIn setUser={setUser}/>;\r\n\tlet page = localStorage.getItem('tokenID')? <HomePage logOut={setUser}/> : form;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (page !== form) {\r\n\t\t\taxios({\r\n\t\t\t\tmethod: \"get\",\r\n\t\t\t\turl: `${Url}/auth-check`,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tif (error.response) {\r\n\t\t\t\t\tlet {status} = error.response\r\n\t\t\t\t\tif (status === 401) {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"tokenID\");\r\n\t\t\t\t\t\twindow.location.replace(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}, [])\r\n\t\r\n\tif (localStorage.getItem('tokenID')) {\r\n\t\tif (jwt.decode(localStorage.getItem('tokenID')).accountType === 'teacher') {\r\n\t\t\tpage = <HomePageTutor logOut={setUser}/>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t  \t\t{page}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\n// import { DatePicker, Pagination } from 'antd';\n// import 'antd/dist/antd.css';\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}