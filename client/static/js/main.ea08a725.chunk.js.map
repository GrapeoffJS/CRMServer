{"version":3,"sources":["url/url.js","alert/alert.js","components/restriction-message/restriction-message.js","components/form-log-In/form-log-in.js","#localStorage_change.js","components/error-handler/error-handler.js","components/search/search.js","components/home-page/return-age/returnAge.js","components/home-page/#more-functions/getLimit/getLimit.js","components/home-page/#more-functions/pagination/pagination.js","components/home-page/sales-funnel/helpers/sales-funnel-styled.js","components/home-page/sales-funnel/helpers/axios-requests.js","components/home-page/sales-funnel/sales-funnel-modal.jsx","components/home-page/student/student.js","components/home-page/change-balance/changeBalance.js","components/home-page/group/group-page/PupilsSandTime/PupilsSandTime.js","components/home-page/student/pageStudent/Info-table/InfoTable.js","components/home-page/student/pageStudent/payment-history/paymentHistory.js","components/home-page/student/pageStudent/chat/chat-item/chat.js","components/home-page/student/pageStudent/chat/drawer-chat.js","components/home-page/student/pageStudent/balance/balance.js","components/home-page/student/pageStudent/pageStudent.js","components/home-page/group/group.js","components/home-page/#schedule/schedule.js","components/home-page/#schedule/form/scheduleForm.js","components/home-page/#more-functions/add-student_group/add-Student_Group.js","components/home-page/group/group-page/Info-table/InfoTable.js","components/home-page/group/group-page/group-page.js","components/home-page/sales-funnel/helpers/loader.jsx","components/home-page/sales-funnel/helpers/tooltip-functions.js","components/home-page/sales-funnel/sales-funnel-modal-student.jsx","components/home-page/sales-funnel/sales-funnel-students.jsx","components/home-page/sales-funnel/sales-funnel.jsx","components/home-page/upload-pupils/upload-pupils.js","components/table-groups/table-groups.js","components/home-page/#more-functions/change-column/change-column.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js","components/table-pupils/table.js","components/home-page/#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js","components/home-page/home-page.js","components/home-page-tutor/today/lesson-now/table-pupils/write-сomment/write-comment.js","components/home-page-tutor/today/lesson-now/table-pupils/change-schedule/change-schedule.js","components/home-page-tutor/today/lesson-now/table-pupils/table-pupils.js","components/home-page-tutor/today/lesson-now/lesson-now.js","components/home-page-tutor/today/all-lesson/table-groups/table-groups.js","components/home-page-tutor/today/all-lesson/all-lesson.js","components/home-page-tutor/today/today.js","components/home-page-tutor/calendar/calendar.js","components/home-page-tutor/all-pupils/all-pupils.js","components/home-page-tutor/all-groups/all-groups.js","components/home-page-tutor/home-page-tutor.js","components/App.js","index.js"],"names":["Url","MySwalErr","withReactContent","Swal","swallErr","title","text","fire","icon","MySwaGood","swallGood","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","loading","timerInterval","html","showLoading","setInterval","content","getHtmlContainer","b","querySelector","textContent","getTimerLeft","willClose","clearInterval","Swalclose","close","RestrictionMessage","status","axios","require","LogIn","styled","div","height","button","fontWeight","fontSize","width","borderRadius","transition","borderColor","color","backgroundColor","label","input","background","i","cursor","FormlogIn","setUser","useState","icons","type","eye","setEye","valuePassword","setValuePassword","valueLogin","setValueLogin","disabled","setDisabled","message","setMessage","inputBorder_L","set_I_Border_L","inputBorder_P","set_I_Border_P","valueChangeL","valueChangeP","opacityBtn","InputBorder_L_Style","InputBorder_P_Style","Button","regLogin","RegExp","regPassword","FormSubmit","e","a","preventDefault","test","method","url","headers","data","login","password","then","res","localStorage","setItem","token","catch","error","response","className","onSubmit","htmlFor","required","onChange","target","value","defaultValue","autoComplete","name","id","onClick","style","localStorage_change","removeItem","errorHandler","onFunction","additionalActions","forEach","fnc","window","location","replace","Box","paddingBottom","renderItem","obj","to","display","justifyContent","SearchAll","tutorid","Data","setData","Value","setValue","useEffect","document","getElementById","focus","typingTimer","onSearch","localUrl","encodeURI","getItem","body","hits","renderTitle","options","item","_source","surname","midname","push","group_name","onSearchInput","clearTimeout","setTimeout","dropdownClassName","dropdownMatchSelectWidth","defaultOpen","size","placeholder","ReturnAge","year","moment","format","age","diff","getLimit","Math","round","documentElement","clientHeight","PaginationG","offset","setOffset","count","PaginationI","margin","defaultPageSize","defaultCurrent","total","showSizeChanger","StylesForInputMaskPhoneParentOrChild","StylesForUserAddOutlined","top","right","BoldSpan","span","Wrapper","FunnelSection","props","jstctn","FlexFunnelElement","FunnelStep","FunnelStepHeader","FunnelStepAbonementSum","FunnelStepText","p","FunnelStepStudent","axiosGetStudentsEveryStepByPage","pageInfo","salesFunnelStep","pageSize","currentPage","get","students","pupils","pupilsCount","axiosUpdateStudent","student","patch","axiosGetFunnelSteps","salesFunnelSteps","SalesFunnelModal","funnel","loader","bigIcon","update","setLoaded","setPupilsList","validateDiscordNickname","validateChildPhoneAndParent","dateFormat","confirmLoading","setConfirmLoading","visible","setVisible","dateValue","setDateValue","inputName","setInputName","inputSurname","setInputSurname","inputMidname","setInputMidname","selectGender","setSelectGender","inputParentPhone","setInputParentPhone","inputParentFullname","setInputParentFullname","inputChildPhone","setInputChildPhone","inputDiscordNickname","setInputDiscordNickname","selectSalesFunnelStep","setSelectSalesFunnelStep","deletingDataFromForm","prev","handleCancel","showModal","onFocusHandleInputMask","ev","handleOk","checkerEmptyStrings","trim","Error","search","split","filter","length","newStudent","_id","Date","now","gender","dateOfBirth","toISOString","phone","undefined","discord","String","match","shift","parentPhone","parentFullname","params","post","console","log","UserAddOutlined","onCancel","footer","action","date","onFocus","mask","map","step","mq","bp","TableL","padding","paddingTop","whiteSpace","getFunnel","box","Student","offsetG","setOffsetG","Count","setCount","setFunnel","phoneNumber","parentPhoneNumber","discordNickname","groups","users","setUsers","param","filtersGroups","filtersLocal","key","ages","balance","$gte","$lt","$lte","filters","querySelectorAll","dataSource","trashUser","trash","tutor","getColumn","dataIndex","columns","render","GROUP_NAME","pagination","scroll","x","loaded","pupilsList","Change_Balance","sym","pupil_id","updeteStudent","Change","subscription","group_id","returnBalance","urlLocal","Authorization","PupilsSandTime","itemG","dataGroup","getGroup_Id","visibleNumber","setVisibleNumber","fixedSchedule","setFixedSchedule","ScheduleItem","localSchedule","dataS","setDataS","Abic","setAbic","axiosPut","mass","ChangeBalic","statusText","liAbic","abic","Item","arr","n","index","hoursCount","paid","updete","price","href","menu","SchedulePupils","breakpoints","Div_box","borderBottom","marginBottom","left","zIndex","overflowY","h4","marginRight","maxHeight","overflow","marginTop","overflowX","Span","ul","border","textarea","day","opacity","time","time_day","changeDayIndex","addNotes","colorTitle","menuItem","aria-label","visibleLocal","onVisibleChange","s","overlay","trigger","urlPage","page","LinkItem","oplata","decode","accountType","placement","group","pupil","marginLeft","defaultProps","InfoTable","dataStudent","updetePage","newInfo","info","onChangeInfoItem","groups_id","spanGroup","menuSurname","menuName","menuMidname","menuParentPhone","menuPhone","menuDiscord","_d","PayHistory","pay_History","pay_HistoryLocal","liInc","unshift","amount","issuer","liDec","h3","li","TextArea","Input","Chat","notesGlobal","CommentList","comments","header","itemLayout","datetime","locale","block","scrollTop","scrollHeight","UserName","setComments","submitting","setSubmitting","rows","htmlType","handleSubmit","author","DrawerChat","notes","COMEN","closable","onClose","Balance","balance_item","pageStudent_id","setBalance","incBalance","PageStudent","useParams","paymentHistory","getStudent_Id","arrIdSch","PupilsSandTimeGroup","StudentPage","paddingRight","paddingLeft","borderRight","h5","TablePupils","Group","isModalVisible","setIsModalVisible","setLoading","availableStudents","setAvailableStudents","PUPILS_search","setPUPILS_search","availableTutor","setAvailableTutor","setGroups","getPupils","getGroup","getTUTOR","A_Tutor","setPupils","setGROUP_NAME","places","setPLACES","setTUTOR","level","setLEVEL","dataInput","inputSave","SearchValue","setSearchValue","PUPILS_search_Li","ite","PUPILS_btn","splice","tableGroup","global_schedule","PUPILS01","tutorText","duration","scope","trashGroup","Table","Form","form","PUPILS_ID","regex","arrPupils","SchedulE","Schedule","SpanDay","ScheduleForm","updateGroup","groupID","dataInputs","startDate","endDate","duration_Start","duration_End","weekDay","one","two","three","four","five","six","zero","schedule","FindNeedle","dayNumber","day_end","day_number","inc","PushDay","scheduleItem","checked","AddStydent_Group","PupilsGroup","http","pageId","itn","itemS","changeSchedulePupil","idPupil","newSchedule","addPUPILS_Group","ids","Li","Data_ALL","PUPILS0","AllTutor","setAllTutor","onChangeInfo","menuGROUP_NAME","menuTutor","menuLEVEL","menuPLACES","changeData","data_name","GroupPage","DataALL","setDataALL","arrPayHistory","itemLocal","PUPILS_List","PUPILSandTIME","addPupils_g","LoaderTag","precentage","Loader","tooltipNeedsCheckerOfSingleString","string","dop","maxLength","dopTooltipText","tooltipCheckerOfTrioString","stud","SalesFunnelModalStudent","genderFormat","minPaidSubscruption","visibleModalOnStudent","setVisibleModalOnStudent","onOk","join","returnAge","SalesFunnelStudents","card","setCurrentPage","setPupilsCount","nextPage","useCallback","returnNewPupilsList","previous","cardId","olderArray","filteredArray","simple","current","ceil","nextNumberPage","draggableId","provided","draggableProps","dragHandleProps","ref","innerRef","SalesFunnel","UrlProd","salesFunnelList","setSalesFunnelList","salesFunnelFromServer","flat","onDragEndHandler","result","destination","array1","source","droppableId","array2","deletingElement","Array","from","Set","onDragEnd","order","minPaidSubscriptionsAmount","provide","droppableProps","UploadPupils","accept","file","statusCode","td","TableGroups","setParamFilrers","paramFilrers","con","MenuFoldOutlined","Create_Columns_Rows_Groups","dataObj","setDataObj","loadingButtomFilrer","setLoadingButtomFilrer","filterDropdownVisible","setFilterDropdownVisible","g","setG","l","setL","setP","o","setO","setN","t","setT","Tutors","setTutors","addTUTOR","OCCUPIED","CheckboxValue","globalFilters","setGlobalFilters","handleSearch","selectedKeys","confirm","FiltersLocal","DataSource","NUMBER_PUPILS","BoxButtom","svg","filtersTutors","Columns","filterDropdown","setSelectedKeys","clearFilters","onPressEnter","dataFilters","defaultChecked","SearchOutlined","paramLocal","filterIcon","CloseCircleOutlined","onFilterDropdownVisibleChange","Visible","per","defaultFilteredValue","Table_Pupils","dataGroupsChecked","scrollLeft","itemPupils","Create_Columns_Rows_Pupils","ValueGroup","setValueGroup","objPupils","setObjPupils","setScrollLeft","emptyAge","setEmptyAge","emptyAgeLocal","globalFiltersG","setGlobalFiltersG","setS","m","setM","setA","PhoneTitle","setPhoneTitle","setB","d","setD","gr","setGr","setDataGroupsChecked","GroupsCheckedF","setGroupsCheckedF","heapGroups","dataGroupsCheck","emptyAgeGet","getColumnSearchProps","setFilterAxios","searchGroups","SearchGroups","Object","keys","FilterFilled","FILTER","SET_FILTER","Sider","Layout","SubMenu","Menu","HomePage","logOut","collapsed","setCollapsed","Vag","bottom","minHeight","collapsible","onCollapse","theme","defaultSelectedKeys","mode","UploadOutlined","click","UserOutlined","TeamOutlined","FunnelPlotOutlined","DatabaseOutlined","LogoutOutlined","exact","path","component","children","writeComment","changeSchedule","getUser","Column","ColumnGroup","ID_Group","GLOBAL_ARR_PUPILS","set_GLOBAL_ARR_DAY","GLOBAL_ROW_KEY","set_GLOBAL_ROW_KEY","ARR_PUPILS","RowKeys","onRowKeys","Notes","start","finish","onChangeStatys","titlePupil","progres","rowSelection","selectedRowKeys","onSelect","onSelectAll","onBlur","autoSize","minRows","maxRows","LessonNowStyle","Text","Typography","LessonNow","rowKey","setRowKey","GROUP","G","indexD","Groups","newGroup","setGROUP","groupName","AllLessonStyle","AllLesson","Today","indexHours","timeN","groupsAll","dataLes_l","itemGL","indexN","groupCon","indexGroup","sort","itemIN","item2","Content","fixed","СalendarStyle","GroupsANDpupils","Сalendar","columns2","PUPILS","itemf","data2","items","GLOBAL_SCHEDULE","wekDay","wek_day","finalDate","hours","bordered","AllPupilsBox","AllPupils","AllGroupsBox","AllGroups","free_places","jwt","HomePageTutor","role","user","Pupils","getGroups","l_user","mass_id","ClockCircleOutlined","CalendarOutlined","App","ReactDOM"],"mappings":"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","file":"static/js/main.ea08a725.chunk.js","sourcesContent":["const Url = 'http://crm.3place.ru' // https://dvmncrm.herokuapp.com\nexport default Url\n\n// lcp --proxyUrl https://dvmncrm.herokuapp.com/\n// http://crm.3place.ru\n// http://localhost:8010/proxy\n\n// client","import React from 'react';\n\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\nconst MySwalErr = withReactContent(Swal);\n\nexport const swallErr = (title, text) => {\n    MySwalErr.fire({\n        icon: \"error\",\n        title: title,\n        text: text,\n    });\n};\n\nconst MySwaGood = withReactContent(Swal);\n\nexport const swallGood = (title, text) => {\n    MySwaGood.fire({\n        icon: \"success\",\n        title: title,\n        text: text,\n    });\n};\n\nexport const Toast = Swal.mixin({\n    toast: true,\n    position: 'top-end',\n    showConfirmButton: false,\n    timer: 3000,\n    timerProgressBar: true,\n    didOpen: (toast) => {\n        toast.addEventListener('mouseenter', Swal.stopTimer)\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\n    }\n});\n\nexport const loading = (title, text = '') => {\n    let timerInterval\n    Swal.fire({\n      title: title,\n      html: text,\n      timerProgressBar: true,\n      didOpen: () => {\n        Swal.showLoading()\n        timerInterval = setInterval(() => {\n          const content = Swal.getHtmlContainer()\n          if (content) {\n            const b = content.querySelector('b')\n            if (b) {\n              b.textContent = Swal.getTimerLeft()\n          }\n      }\n  }, 100)\n    },\n    willClose: () => {\n        clearInterval(timerInterval)\n    }\n})\n}\n\nexport const Swalclose = () => {\n    Swal.close();\n}","import { Toast } from '../../alert/alert.js'\n\nconst RestrictionMessage = status => {\n\tif (status == 403) {\n\t\tToast.fire({\n\t\t\ticon: 'error',\n\t\t\ttitle: 'У вас недостаточно прав для этого действия'\n\t\t});\n\t}\n}\n\nexport default RestrictionMessage","import React, {useState, useEffect} from 'react';\nimport './form-log-in.css';\nimport Url from '../../url/url.js';\n\nimport {swallErr, Toast} from './../../alert/alert.js';\nimport RestrictionMessage from '../restriction-message/restriction-message.js'\n\nimport styled from '@emotion/styled';\n\nconst axios = require('axios'); // AJAX\n\nconst LogIn = styled.div({\n    height: '500px',\n    button: {\n        fontWeight: 'bold',\n        fontSize: '21px',\n        width: '150px',\n        borderRadius: '19px',\n        transition: '0.3s',\n        borderColor: '#007bff',\n        color: '#000',\n        '&:hover': {\n            transition: '0.3s',\n            backgroundColor: '#f7d99f'\n        }\n    },\n    label: {\n        fontSize: '24px',\n        fontWeight: '400'\n    },\n    input: {\n        color: '#000',\n        fontSize: '20px'\n    },\n    'input[type=text]': {\n        background: 'none'\n    },\n    'input[type=password]': {\n        background: 'none'\n    },\n    i: {\n        cursor: 'pointer'\n    }\n});\n\nconst FormlogIn = ({setUser}) => {\n\n    const [eye, setEye] = useState({\n        icons: 'bi-eye-fill',\n        type: 'password'\n    }); // bi-eye-slash-fill\n    const [valuePassword, setValuePassword] = useState(''),\n        [valueLogin, setValueLogin] = useState('');\n\n    const [disabled, setDisabled] = useState('submit');\n\n    // Message\n    const [message, setMessage] = useState('Логин');\n\n    // Style state\n    const [inputBorder_L, set_I_Border_L] = useState(''),\n        [inputBorder_P, set_I_Border_P] = useState('');\n\n\n    let valueChangeL = valueLogin,\n        valueChangeP = valuePassword;\n\n    const showPassword = () => {\n        setValuePassword(valueChangeP);\n        setValueLogin(valueChangeL);\n\n        if (eye.icons === 'bi-eye-fill') {\n            setEye({\n                icons: 'bi-eye-slash-fill',\n                type: 'text'\n            });\n        } else {\n            setEye({\n                icons: 'bi-eye-fill',\n                type: 'password'\n            });\n        }\n    }\n\n    // Alert\n    const swallGood = () => {\n        Toast.fire({\n            icon: 'success',\n            title: 'Вы успешно вошли в систему'\n        });\n    }\n    // \\alet\n\n    let opacityBtn = '1';\n\n    if (disabled === 'button') {\n        opacityBtn = '0.3';\n    }\n\n    const InputBorder_L_Style = styled.input`\n      border: ${inputBorder_L};\n    `\n    const InputBorder_P_Style = styled.input`\n      border: ${inputBorder_P};\n    `\n    const Button = styled.button`\n      opacity: ${opacityBtn};\n    `\n\n// =============\n\n\n    let regLogin = new RegExp(/^[\\w\\d\\W]{1,40}$/),\n        regPassword = new RegExp(/^.{1,40}$/);\n\n    // console.log(regPassword.test(name));\n\n    const FormSubmit = async (e) => {\n\n        setValuePassword(valueChangeP);\n        setValueLogin(valueChangeL);\n        setMessage('Логин');\n\n        e.preventDefault();\n\n        if (!regLogin.test(valueChangeL)) {\n            set_I_Border_L('2px solid red');\n        } else {\n            set_I_Border_L('');\n        }\n        if (!regPassword.test(valueChangeP)) {\n            set_I_Border_P('2px solid red');\n        } else {\n            set_I_Border_P('');\n        }\n\n        if (regLogin.test(valueChangeL) & regPassword.test(valueChangeP)) {\n            setDisabled('button');\n\n            axios({\n                method: 'post',\n                url: `${Url}/auth`,\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8'\n                },\n                data: {\n                    login: valueChangeL,\n                    password: valueChangeP\n                }\n            })\n            .then((res) => {\n                localStorage.setItem('tokenID', res.data.token)\n                // jwt.decode(localStorage.getItem('tokenID')\n\n                setValuePassword('');\n                setValueLogin('');\n                setDisabled('submit');\n                swallGood();\n                setUser(valueChangeL);\n            })\n            .catch((error) => {\n                if (error.response) {\n                    RestrictionMessage(error.response.status)\n                    let {status} = error.response;\n                    if (status === 400) {\n                        swallErr('Ой..', 'Пользователя не существует');\n                        set_I_Border_L('2px solid red');\n                        set_I_Border_P('2px solid red');\n                        setDisabled('submit');\n                    } else {\n                        setDisabled('submit');\n                    }\n                }\n            });\n        }\n    };\n\n    return (\n        <LogIn className=\"LogIn container d-flex align-items-center justify-content-center\">\n            <form\n                onSubmit={FormSubmit}\n                key={'form1'} className=\"col-md-8 col-12\">\n                <fieldset>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">{message}</label>\n                        <InputBorder_L_Style\n                            required\n                            onChange={(e) => {\n                                valueChangeL = e.target.value\n                            }}\n                            defaultValue={valueLogin} autoComplete=\"current-password\" type=\"name\"\n                            className=\"form-control\" name='login' id=\"exampleInputEmail1\"/>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Пароль</label>\n                        <InputBorder_P_Style\n                            required\n                            onChange={(e) => {\n                                valueChangeP = e.target.value\n                            }}\n                            defaultValue={valuePassword} autoComplete=\"current-password\" type={`${eye.type}`}\n                            className=\"form-control\" name=\"password\" id=\"exampleInputPassword1\"/>\n                        <div className=\"password-control\">\n                            <div className=\"d-flex justify-content-end\">\n                                <i onClick={showPassword} className={`bi ${eye.icons}`}\n                                   style={{fontSize: '28px', color: '#F5896C'}}></i>\n                            </div>\n                        </div>\n                    </div>\n                    <Button\n                        type={disabled} className=\"btn\">Войти\n                    </Button>\n                </fieldset>\n            </form>\n        </LogIn>\n    );\n};\n\nexport default FormlogIn;","const localStorage_change = (token) => {\n\tlocalStorage.removeItem('tokenID');\n\tlocalStorage.setItem('tokenID', token);\n};\n\nexport default localStorage_change;","import RestrictionMessage from \"../restriction-message/restriction-message\";\nimport localStorage_change from \"../../#localStorage_change\";\nimport {swallErr} from \"../../alert/alert\";\n\nconst errorHandler = (onFunction, error, ...additionalActions) => {\n    if (error.response) {\n        additionalActions.forEach(fnc => {fnc()})\n        RestrictionMessage(error.response.status)\n        let {status, data} = error.response;\n\n        if (status == 404) {\n\n        } else if (status == 401) {\n\n            if (data.message == 'TOKEN_EXPIRED') {\n\n                localStorage_change(data.token);\n                onFunction();\n            } else {\n                localStorage.removeItem('tokenID');\n                window.location.replace(\"/\");\n            }\n        } else if (status == 500) {\n            swallErr('Ошибка сервера');\n        } else if (status == 400) {\n            swallErr('Не верно введены данные');\n        }\n    }\n}\n\nexport default errorHandler","import React, {useState, useEffect} from 'react';\nimport Url from './../../url/url.js';\nimport errorHandler from \"../error-handler/error-handler\";\n\nimport {Link} from \"react-router-dom\";\n\nimport { Input, AutoComplete } from 'antd';\n\nimport styled from '@emotion/styled';\n\nconst Box = styled.div({\n  height: '30px',\n  input: {\n    height: '30px'\n  },\n  '.ant-input-search-button': {\n    paddingBottom: 'none'\n  }\n})\n\nconst renderItem = (title, obj) => {\n\n  let url = `/student/${obj.id}`\n\n  if (obj.type == 'pupil') {\n    url = `/student/${obj.id}`\n  } else {\n    url = `/group/${obj.id}`\n  }\n\n  return ({\n    value: title,\n    label: (\n        <Link\n            className=\"link-info\"\n            to={url}\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between'\n            }}>\n\n          {title}\n        </Link>\n    ),\n  })\n};\n\nconst axios = require('axios'); // AJAX\n\nconst SearchAll = ({tutorid = ''}) => {\n\n  const [Data, setData] = useState([])\n  const [Value, setValue] = useState('')\n\n  useEffect(() => {\n    document.getElementById('Search').focus();\n  });\n\n  const onSearch = (value) => {\n\n    let localUrl = encodeURI(value)\n\n    axios({\n      method: 'get',\n      url: `${Url}/CRM/Search/autocompletion?query=${localUrl}${tutorid}`,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n      }\n    })\n    .then((res) => {\n      setValue(value)\n      setData(res.data.body.hits.hits)\n    })\n    .catch((error) => {\n      errorHandler(onSearch, error)\n    })\n  }\n\n  const renderTitle = (title) => (\n    <span>\n      {title}\n    </span>\n  );\n\n  const options = [\n    {\n      label: renderTitle('Ученики'),\n      options: [],\n    },\n    {\n      label: renderTitle('Группы'),\n      options: [],\n    }\n  ];\n\n  Data.forEach(item => {\n\n    if (item._source.type == 'pupil') {\n\n      let {surname, name, midname} = item._source\n      options[0].options.push(renderItem(`${surname} ${name} ${midname}`, item._source))\n\n    } else {\n      let {group_name} = item._source\n      options[1].options.push(renderItem(group_name, item._source))\n    }\n  })\n\n  let typingTimer                //timer identifier\n  let doneTypingInterval = 500  //time in ms (5 seconds)\n\n  const onSearchInput = (text) => {\n    clearTimeout(typingTimer)\n    if (text) {\n        typingTimer = setTimeout(() => {\n            onSearch(text)\n        }, doneTypingInterval);\n\n    } else {\n      setValue('')\n      setData([])\n    }\n  }\n\n\n  return (\n      <Box>\n        <AutoComplete\n            dropdownClassName=\"certain-category-search-dropdown\"\n            dropdownMatchSelectWidth={500}\n            // style={{ width: 250 }}\n            options={options}\n            defaultOpen={() => {\n              if (Value) {\n                return true\n              } else {\n                return false\n              }\n            }} // открывает поиск при рендеринге\n            defaultValue={`${Value}`}\n            onSearch={(text) => {\n              onSearchInput(text)\n            }}\n            id='Search'>\n\n          <Input size=\"large\" placeholder=\"Поиск по CRM\" />\n        </AutoComplete>\n      </Box>\n    );\n}\n\nexport default SearchAll","import moment from 'moment';\n\nconst ReturnAge = (data) => {\n\n    let year = moment(data).format('YYYY-MM-DD') // , 'YYYY-MM-DD'\n\n    let age = moment().diff(year, 'years')\n\n    return age ? age : 'Не указан';\n}\n\nexport default ReturnAge;","const getLimit = Math.round(document.documentElement.clientHeight / 55) - 2\nexport default getLimit","import React from 'react';\n\nimport {Pagination} from 'antd';\nimport 'antd/dist/antd.css';\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\n\n// Style \nimport styled from '@emotion/styled';\n\nconst PaginationG = ({offset, setOffset, getItem, count}) => {\n\n    const PaginationI = styled.div({\n        margin: '3px 3px 20px 3px',\n        '.ant-pagination-item-link': {\n            height: '34px'\n        }\n    })\n\n    return (\n        <PaginationI>\n            <Pagination\n                defaultPageSize={getLimit}\n                defaultCurrent={offset / getLimit + 1}\n                total={count}\n                showSizeChanger={false}\n                onChange={(i) => {\n                    setOffset((i - 1) * getLimit)\n                    getItem((i - 1) * getLimit)\n                }}/>\n        </PaginationI>\n    )\n}\n\nexport default PaginationG","import styled from \"@emotion/styled\"\n\nexport const StylesForInputMaskPhoneParentOrChild = {\n  borderRadius: \"2px\"\n}\n\nexport const StylesForUserAddOutlined = {\n  fontSize: \"18px\",\n  color: \"white\",\n  position: \"absolute\",\n  top: \"4px\",\n  right: \"2px\"\n}\n\nexport const BoldSpan = styled.span`\n  font-weight: bold;\n`\n\nexport const Wrapper = styled.div`\n  position: relative;\n`\nexport const FunnelSection = styled.div`\n  ::-webkit-scrollbar {\n    height: 5px;\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: darkgrey;\n  }\n  overflow: auto hidden;\n  max-height: 110vh;\n  min-width: 100%;\n  display: flex;\n  justify-content: ${props => props.jstctn ? \"space-evenly\" : \"flex-start\"};\n  .droppable-container {\n    min-height: 150px;\n    height: 100%;\n  }\n`\nexport const FlexFunnelElement = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 10px 0;\n  > p {\n    flex: 1 0 50%;\n    margin: 0;\n    padding: 0;\n  }\n  > Input {\n    flex: 1 0 50%;\n  }\n`\n\n\nexport const FunnelStep = styled.div`\n  overflow: hidden;\n  max-width: 260px;\n  min-width: 260px;\n  margin: 0px 10px;\n  background: white;\n  border-radius: 4px;\n  .ant-pagination.ant-pagination-simple {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 3px;\n  }\n`\nexport const FunnelStepHeader = styled.div`\n  border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n  max-height: 26px;\n  padding: 2px 5px;\n  background: ${props => props.background ? props.background : \"#d7303cff\"};\n  color: ${props => props.color ? props.color : \"white\"};\n`\n\nexport const FunnelStepAbonementSum = styled.div`\n  margin: 0;\n  margin-bottom: 8px;\n  padding: 5px 0;\n  text-align: center;\n  background: ${props => props.background ? props.background : \"#d7303cff\"};\n  color: ${props => props.color ? props.color : \"white\"};\n`\n\nexport const FunnelStepText = styled.p`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: keep-all;\n  width: ${props => props.width !== '' ? props.width : \"190px\"};\n  height: 25px;\n  margin: 0;\n`\n\n\n\nexport const FunnelStepStudent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 8px 3px 8px 8px;\n  margin: 5px 0;\n  background: ${props => props.background ? props.background : \"#d7303cff\"};\n  color: ${props => props.color ? props.color : \"white\"};\n  .funnelStepStudent__first--info {\n    display: flex;\n    flex-direction: column;\n    div:first-of-type {\n      font-weight: bold;\n    }\n    p {\n      margin: 0;\n    }\n    div:last-of-type {\n      margin-bottom: 3px;\n    }\n  }\n  .ant-btn.ant-btn-primary.ant-btn-sm {\n    filter: brightness(0.9);\n    background: ${props => props.background ? props.background : \"#d7303cff\"};\n    border-color: ${props => props.background ? props.background : \"#d7303cff\"};\n    color: ${props => props.color ? props.color : \"white\"};\n  }\n  p {\n    margin: 0;\n  }\n`","// imports from plugins\nimport axios from \"axios\"\n\n// imports from files of project\n\nconst status = 1\nconst token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYxMzdjMDRlY2Y2YWZiMjRkMGY5ODM3YSIsImxvZ2luIjoibWF4IiwibmFtZSI6ItCc0LDQutGB0LjQvCIsInN1cm5hbWUiOiLQkdC10YDQstC40L3QvtCyIiwibWlkbmFtZSI6Ii4uLiIsImFjY291bnRUeXBlIjoibWFuYWdlciIsImlhdCI6MTYzMTM4MTEwOCwiZXhwIjoxNjMxNDA5OTA4fQ.cNUyTtMGhKxbJ6NjIAf3efmLlEkTJEJ6fDAh32vdgH0\"\n\n// Student\nexport const axiosCreateNewStudent = (url, params) => {\n  axios.post(`${url}/CRM/Pupils`, {\n    name: params.name,\n    midname: params.midname,\n    surname: params.surname,\n    gender: params.gender,\n    dateOfBirth: params.dateOfBirth,\n    phone: params.phone,\n    discord: params.discord,\n    parentPhone: params.parentPhone,\n    parentFullname: params.parentFullname,\n    salesFunnelStep: params.salesFunnelStep\n  }, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  })\n}\nexport const axiosGetStudentsEveryStepByPage = async (url, pageInfo, salesFunnelStep) => {\n  const {pageSize, currentPage} = pageInfo\n  let students\n\n  await axios.get(`${url}/CRM/SalesFunnel/${salesFunnelStep}?limit=${pageSize}&offset=${(currentPage - 1) * pageSize}`, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  }).then(res => students = { students: res.data[0].pupils, count: res.data[0].pupilsCount })\n\n  return students\n}\nexport const axiosUpdateStudent = async (url, id, student) => {\n  await axios.patch(`${url}/CRM/Pupils/${id}`, student, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  })\n}\n// Student\n\n// Funnel\nexport const axiosGetFunnelSteps = async (url, pageSize) => {\n  let salesFunnelSteps\n\n  await axios.get(`${url}/CRM/SalesFunnel?limit=${pageSize}`, {\n    headers: {\n      \"Authorization\": `Bearer ${status ? localStorage.getItem(\"tokenID\") : token}`,\n      \"Content-Type\": \"application/json;charset=utf-8\"\n    }\n  }).then(res => salesFunnelSteps = res.data)\n\n  return salesFunnelSteps\n}\n// Funnel\n","// imports from plugins\r\nimport React, {useState} from \"react\"\r\nimport {Button, DatePicker, Input, Modal} from \"antd\"\r\nimport moment from \"moment\"\r\nimport InputMask from \"react-input-mask\"\r\nimport {UserAddOutlined} from \"@ant-design/icons\"\r\n\r\n// imports from files of project\r\nimport {\r\n    FlexFunnelElement,\r\n    StylesForInputMaskPhoneParentOrChild,\r\n    StylesForUserAddOutlined\r\n} from \"./helpers/sales-funnel-styled\"\r\nimport {axiosCreateNewStudent} from \"./helpers/axios-requests\"\r\nimport {swallErr, swallGood} from \"../../../alert/alert\"\r\nimport RestrictionMessage from \"../../restriction-message/restriction-message\"\r\nimport localStorage_change from \"../../../#localStorage_change\"\r\n\r\nexport const SalesFunnelModal = ({funnel, Url, pupils, status, loader, bigIcon = false, update = () => {}}) => {\r\n\r\n    // data\r\n    const {setLoaded} = loader\r\n    const {setPupilsList} = pupils\r\n    const validateDiscordNickname = new RegExp(/\\w+#[0-9]{4}/)\r\n    const validateChildPhoneAndParent = new RegExp(/^((\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/)\r\n    const dateFormat = [\"YYYY-MM-DD\"]\r\n    // data\r\n\r\n    // useState\r\n    const [confirmLoading, setConfirmLoading] = useState(false)\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    const [dateValue, setDateValue] = useState(moment(\"2021-01-01\", dateFormat))\r\n    const [inputName, setInputName] = useState(\"\")\r\n    const [inputSurname, setInputSurname] = useState(\"\")\r\n    const [inputMidname, setInputMidname] = useState(\"\")\r\n    const [selectGender, setSelectGender] = useState(\"\")\r\n    const [inputParentPhone, setInputParentPhone] = useState(\"\")\r\n    const [inputParentFullname, setInputParentFullname] = useState(\"\")\r\n    const [inputChildPhone, setInputChildPhone] = useState(\"\")\r\n    const [inputDiscordNickname, setInputDiscordNickname] = useState(\"\")\r\n    const [selectSalesFunnelStep, setSelectSalesFunnelStep] = useState(\"\")\r\n    // useState\r\n\r\n    // Methods\r\n    //// onChangeHandlers\r\n    const onChangeHandlerSelectSalesFunnelId = (ev) => {\r\n        setSelectSalesFunnelStep(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerInputDiscrodNickname = (ev) => {\r\n        setInputDiscordNickname(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerInputChildPhone = (ev) => {\r\n        setInputChildPhone(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerInputParentFullname = (ev) => {\r\n        setInputParentFullname(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerInputParentPhone = (ev) => {\r\n        setInputParentPhone(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerSelectGender = (ev) => {\r\n        setSelectGender(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerInputMidname = (ev) => {\r\n        setInputMidname(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerInputSurname = (ev) => {\r\n        setInputSurname(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerInputName = (ev) => {\r\n        setInputName(prev => prev = ev.target.value)\r\n    }\r\n    const onChangeHandlerDatePicker = (date) => {\r\n        setDateValue(prev => prev = date)\r\n    }\r\n    //// onChangeHandlers\r\n\r\n    const deletingDataFromForm = () => {\r\n        setInputName(prev => prev = \"\")\r\n        setInputSurname(prev => prev = \"\")\r\n        setInputMidname(prev => prev = \"\")\r\n        setDateValue(prev => prev = moment(\"2021-01-01\", dateFormat))\r\n        setSelectGender(prev => prev = \"\")\r\n        setInputParentFullname(prev => prev = \"\")\r\n        setInputDiscordNickname(prev => prev = \"\")\r\n    }\r\n    const handleCancel = () => {\r\n        setVisible(false)\r\n        deletingDataFromForm()\r\n    }\r\n    const showModal = () => {\r\n        setVisible(true)\r\n    }\r\n    const onFocusHandleInputMask = (ev) => ev.target.value = ''\r\n    const handleOk = async () => {\r\n        try {\r\n            const checkerEmptyStrings = inputName.trim() === \"\" || inputSurname.trim() === \"\" || inputMidname.trim() === \"\" || selectGender === \"\" || inputParentPhone.trim() === \"\" || inputParentFullname.trim() === \"\" || selectSalesFunnelStep === \"\"\r\n            setConfirmLoading(true)\r\n            if (selectGender === \"\") {\r\n                swallErr(\"Ошибка!\", \"Не указан пол\")\r\n                throw new Error(\"Не указан пол\")\r\n            }\r\n            if (checkerEmptyStrings) {\r\n                swallErr(\"Ошибка!\", \"Одно из обязательных полей было не заполнено\")\r\n                throw new Error(\"Одно из обязательных полей было не заполнено\")\r\n            }\r\n            if (inputParentPhone.search(validateChildPhoneAndParent) === -1 || (inputChildPhone.search(validateChildPhoneAndParent) === -1 && inputChildPhone !== \"\")) {\r\n                swallErr(\"Ошибка!\", \"Не верно был введён номер телефона родителя или ребёнка\")\r\n                throw new Error(\"Не верно былл введён номер телефона\")\r\n            }\r\n            if (!(inputParentFullname.split(\" \").filter(item => item !== \"\").length === 3)) {\r\n                swallErr(\"Ошибка!\", \"ФИО Родителя введены неверно\")\r\n                throw new Error(\"ФИО Родителя введены неверно\")\r\n            }\r\n            if (inputDiscordNickname !== \"\" && inputDiscordNickname.search(validateDiscordNickname) === -1) {\r\n                swallErr(\"Ошибка!\", \"Ник в дискорде был введён не верно, проверьте наличие '#' и цифр после неё, а так же русских букв\")\r\n                throw new Error(\"Ник в дискорде был введён не верно, проверьте наличие '#' и цифр после неё, а так же русских букв\")\r\n            }\r\n            const newStudent = {\r\n                _id: Date.now(),\r\n                name: inputName,\r\n                midname: inputMidname,\r\n                surname: inputSurname,\r\n                gender: selectGender,\r\n                dateOfBirth: dateValue.toISOString(),\r\n                phone: inputChildPhone || undefined,\r\n                discord: inputDiscordNickname !== \"\" ? String(inputDiscordNickname.match(validateDiscordNickname).shift()) : undefined,\r\n                parentPhone: inputParentPhone,\r\n                parentFullname: inputParentFullname,\r\n                salesFunnelStep: selectSalesFunnelStep\r\n            }\r\n            await axiosCreateNewStudent(Url, newStudent)\r\n            swallGood(\"Успешно!\", \"Пользователь создан!\")\r\n            update()\r\n            // if (pupilsList.filter(stud => stud.salesFunnelStep === newStudent.salesFunnelStep).length >= pageSize) {\r\n            await setPupilsList(prev => [...prev, newStudent])\r\n            setLoaded((prev => prev = true))\r\n            setLoaded((prev => prev = false))\r\n            // }\r\n            setVisible(false)\r\n            setConfirmLoading(false)\r\n            deletingDataFromForm()\r\n        } catch (err) {\r\n            if (!status) console.log(err)\r\n            setVisible(true)\r\n            setConfirmLoading(false)\r\n            if (err.response) {\r\n                RestrictionMessage(err.response.status)\r\n                let {status, data} = err.response\r\n                if (status === 400) {\r\n                    swallErr(\"Не верно введены данные\")\r\n                }\r\n                if (data.message === \"TOKEN_EXPIRED\") {\r\n                    localStorage_change(data.token)\r\n                }\r\n                if (status === 401) {\r\n                    localStorage.removeItem(\"tokenID\")\r\n                    window.location.replace(\"/\")\r\n                }\r\n                if (status === 500) {\r\n                    swallErr(\"Ошибка сервера\")\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // Methods\r\n\r\n    return (\r\n        <>\r\n            {bigIcon?\r\n                <div\r\n                    style={{\r\n                        position: 'absolute',\r\n                        right: 0\r\n                    }}\r\n                    className=\"collapse d-flex flex-row-reverse\"\r\n                    id=\"navbarScroll\">\r\n                    <div className=\"d-flex plus-box\">\r\n                        <div\r\n                            className=\"nav-item plus\"\r\n                            onClick={showModal}\r\n                        >\r\n                            <i\r\n                                className=\"bi bi-person-plus\"\r\n                                style={{\r\n                                    fontSize: '38px',\r\n                                    color: '#F56767'\r\n                                }}\r\n                            ></i>\r\n                        </div>\r\n                    </div>\r\n                </div> :\r\n                <UserAddOutlined style={StylesForUserAddOutlined} onClick={showModal}/>\r\n            }\r\n            <Modal width={900} title=\"Создание ученика\" visible={visible} onCancel={handleCancel} footer={[\r\n                <Button key=\"back\" onClick={handleCancel}>\r\n                    Отмена\r\n                </Button>,\r\n                <Button\r\n                    key=\"submit\"\r\n                    onClick={handleOk}\r\n                    loading={confirmLoading}\r\n                    type=\"primary\"\r\n                >\r\n                    Добавить\r\n                </Button>\r\n            ]}>\r\n                <form action=\"#\" method=\"POST\">\r\n                    <FlexFunnelElement>\r\n                        <p>Имя:</p>\r\n                        <Input onChange={onChangeHandlerInputName} value={inputName} required/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Фамилия:</p>\r\n                        <Input onChange={onChangeHandlerInputMidname} value={inputMidname} required/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Отчество:</p>\r\n                        <Input onChange={onChangeHandlerInputSurname} value={inputSurname} required/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Возраст:</p>\r\n                        <DatePicker className=\"form-control\" placeholder=\"ГГГГ.ММ.ДД\"\r\n                                    defaultValue={moment(\"2021/01/01\", dateFormat)} format={dateFormat}\r\n                                    onChange={onChangeHandlerDatePicker}/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>ФИО Родителя:</p>\r\n                        <Input onChange={onChangeHandlerInputParentFullname} value={inputParentFullname} required\r\n                               placeholder=\"Фамилия Имя Отчество\"/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Ник в дискорде:</p>\r\n                        <Input onChange={onChangeHandlerInputDiscrodNickname} value={inputDiscordNickname}\r\n                               placeholder=\"Необязательно\"/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Номер телефона ребёнка:</p>\r\n                        <InputMask autoComplete=\"off\" onChange={onChangeHandlerInputChildPhone}\r\n                                   onFocus={onFocusHandleInputMask}\r\n                                   style={StylesForInputMaskPhoneParentOrChild} type=\"tel\" name=\"tel\"\r\n                                   className=\"form-control\"\r\n                                   mask=\"+9 (999) 999-99-99\" placeholder=\"Необязательно\"/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Номер телефона родителя:</p>\r\n                        <InputMask autoComplete=\"off\" onChange={onChangeHandlerInputParentPhone}\r\n                                   onFocus={onFocusHandleInputMask}\r\n                                   style={StylesForInputMaskPhoneParentOrChild} type=\"tel\" name=\"tel\"\r\n                                   className=\"form-control\"\r\n                                   mask=\"+9 (999) 999-99-99\"/>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Пол:</p>\r\n                        <select onChange={onChangeHandlerSelectGender} name=\"gender\" value={selectGender}\r\n                                className=\"form-control\"\r\n                                required>\r\n                            <option defaultValue></option>\r\n                            <option value=\"Мужской\">Мужской</option>\r\n                            <option value=\"Женский\">Женский</option>\r\n                        </select>\r\n                    </FlexFunnelElement>\r\n                    <FlexFunnelElement>\r\n                        <p>Воронка:</p>\r\n                        <select className=\"form-control\" name=\"salesFunnelId\" value={selectSalesFunnelStep}\r\n                                onChange={onChangeHandlerSelectSalesFunnelId}>\r\n                            {funnel.map(step => {\r\n                                if (funnel[0]._id === step._id) {\r\n                                    return <option key={step._id} value={step._id} defaultValue>{step.name}</option>\r\n                                }\r\n                                return <option key={step._id} value={step._id}>{step.name}</option>\r\n                            })}\r\n                        </select>\r\n                    </FlexFunnelElement>\r\n                </form>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import React, {useState, useEffect} from 'react'\nimport {Table, Tag} from 'antd'\n\nimport Url from '../../../url/url.js'\nimport ReturnAge from './../return-age/returnAge.js' // Определяет возраст\nimport Pagination from './../#more-functions/pagination/pagination.js' // Pagination\nimport {SalesFunnelModal} from './../sales-funnel/sales-funnel-modal'\nimport getLimit from './../#more-functions/getLimit/getLimit.js'\n\n// Библиотеки\nimport './student.css'\n\nimport {Link} from \"react-router-dom\"\n\nimport styled from '@emotion/styled'\nimport errorHandler from \"../../error-handler/error-handler\";\nimport {axiosGetFunnelSteps} from \"./../sales-funnel/helpers/axios-requests\";\n\nconst mq = [1020, 700].map(\n    bp => `@media (max-width: ${bp}px)`\n)\n\nconst TableL = styled.div({\n    padding: '0 30px',\n    [mq[1]]: {\n        padding: '0 0',\n    },\n    '.log_h2': {},\n    td: {\n        paddingTop: '1px',\n        paddingBottom: '4px'\n    },\n    'th, td': {\n        whiteSpace: 'nowrap'\n    }\n})\n\nconst axios = require('axios') // AJAX\n\nlet getFunnel = async (fnc) => {\n    let box = await axiosGetFunnelSteps(Url, 8)\n    fnc(box)\n}\n\nconst Student = () => {\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(0)\n    const [funnel, setFunnel] = useState([])\n\n    const [users, setUsers] = useState([\n        {\n            _id: '45343235456645',\n            surname: \"Список пуст...\",\n            name: \"\",\n            midname: \"\",\n            dateOfBirth: \"2004-12-07\",\n            gender: \"\",\n            phoneNumber: \"\",\n            parentPhoneNumber: \"\",\n            discordNickname: \"\",\n            groups: [],\n            parentFullname: ''\n        }\n    ])\n\n    const update = (offset = 0, param = {}, filtersGroups = {}) => {\n\n        let filtersLocal = {}\n\n        for (let key in filtersGroups) {\n\n            if (filtersLocal.groups) {\n                filtersLocal.groups.push(key)\n            } else {\n                filtersLocal.groups = []\n                filtersLocal.groups.push(key)\n            }\n            // filtersLocal.groups = [...filtersLocal.groups]\n        }\n\n        for (let key in param) {\n            if (param[key][0]) {\n                if (key == 'surname' || key == 'name' || key == 'midname' || key == 'dateOfBirth') {\n                    filtersLocal[`${key}s`] = param[key]\n                } else {\n                    filtersLocal[`${key}`] = param[key]\n                }\n            }\n        }\n\n        if (filtersLocal.ages) {\n            let dateOfBirth = [...filtersLocal.ages]\n            filtersLocal.ages = []\n            dateOfBirth.forEach(dateOfBirth => {\n                filtersLocal.ages.push(+dateOfBirth)\n            })\n        }\n\n        if (filtersLocal.balance) {\n            let balance = [...filtersLocal.balance]\n            if (balance[0] == 1 & !balance[1]) {\n                filtersLocal.balance = {$gte: 0}\n            } else if (balance[0] == 2 & !balance[1]) {\n                filtersLocal.balance = {$lt: 0}\n            } else if (balance[1]) {\n                filtersLocal.balance = {$gte: 0, $lte: 0}\n            }\n        }\n\n        let p = {\n            filters: filtersLocal\n        }\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`, // ${10 + offset}\n            headers: {\n                'Content-Type': 'application/jsoncharset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: p\n        })\n        .then((res) => {\n\n            let {data, headers} = res\n            setUsers(data)\n            setCount(headers.count)\n        })\n        .catch((error) => {\n            errorHandler(update, error)\n        })\n    }\n\n    useEffect(() => {\n        update()\n        getFunnel(setFunnel)\n    }, [])\n\n    useEffect(() => {\n        document.querySelectorAll(\"input\").forEach((item) => {\n            item.value = ''\n        })\n        document.querySelectorAll('select').forEach((item) => {\n            item.value = ''\n        })\n    })\n\n    const dataSource = []\n\n    users.forEach((item) => {\n\n        const trashUser = async () => {\n\n            axios({\n                method: 'DELETE',\n                url: `${Url}/CRM/Pupils/${item._id}`,\n                headers: {\n                    'Content-Type': 'application/jsoncharset=utf-8',\n                    'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n                }\n            })\n            .then((res) => {\n                update(offsetG)\n            })\n            .catch((error) => {\n                errorHandler(trashUser, error)\n            })\n        }\n\n        let {_id, parentFullname, surname, name, midname, dateOfBirth, gender, phone, balance, parentPhone, discord, groups} = item\n\n        dataSource.push({\n            key: _id,\n            trash: trashUser,\n            surname: () => (\n                <Link\n                    className=\"link-info\"\n                    to={`/student/${_id}`}>\n                    {surname}\n                </Link>\n            ),\n            name,\n            midname,\n            dateOfBirth: ReturnAge(dateOfBirth),\n            gender,\n            phoneNumber: phone,\n            tutor: '',\n            parentPhoneNumber: parentPhone,\n            parentFullname,\n            balance: `${balance}`,\n            groups: groups ? groups : [],\n            discordNickname: discord\n        })\n    })\n\n    const getColumn = (title, dataIndex) => ({\n        title: title,\n        dataIndex: dataIndex,\n        key: dataIndex\n    })\n\n    const columns = [\n        {\n            title: \"\",\n            dataIndex: \"trash\",\n            key: \"trash\",\n            render: (trash) => {\n                if (trash) {\n                    return (\n                        <i\n                            onClick={trash}\n                            className=\"bi bi-trash\"\n                            style={{\n                                fontSize: \"30px\",\n                                color: \"#F56767\",\n                                cursor: \"pointer\",\n                            }}\n                        />\n                    );\n                }\n            },\n        },\n        {\n            ...getColumn(\"Фамилия\", \"surname\"),\n            render: (surname) => {\n                if (typeof surname == \"function\") {\n                    return surname();\n                }\n            }\n        },\n        {\n            ...getColumn(\"Имя\", \"name\")\n        },\n        {\n            ...getColumn(\"Отчество\", \"midname\")\n        },\n        {\n            ...getColumn(\"Возраст\", \"dateOfBirth\")\n        },\n        {\n            ...getColumn(\"Пол\", \"gender\")\n        },\n        {\n            ...getColumn('ФИО Родителя', 'parentFullname')\n        },\n        {\n            ...getColumn(\n                \"Номер телефона\",\n                \"phoneNumber\"\n            )\n        },\n        {\n            ...getColumn(\"Номер телефона родителя\", \"parentPhoneNumber\")\n        },\n        {\n            ...getColumn(\"Баланс\", \"balance\")\n        },\n        {\n            ...getColumn(\"Группы\", \"groups\"),\n            render: (groups) => {\n                if (typeof groups.map == \"function\") {\n                    return (\n                        <>\n                            {groups.map((item) => (\n                                <Tag\n                                    color=\"blue\"\n                                    key={`${item._id}${item.GROUP_NAME}`}\n                                >\n                                    {item.GROUP_NAME}\n                                </Tag>\n                            ))}\n                        </>\n                    );\n                }\n            }\n        },\n        {\n            ...getColumn(\"Дискорд никнейм\", \"discordNickname\")\n        },\n    ]\n\n    return (\n        <>\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\n                <div className=\"container-fluid d-flex\">\n                    <div className=\"collapse d-flex flex-row h3-person\">\n                        <div className=\"d-flex plus-box\">\n                            <div>\n                                <h3>Ученики</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </nav>\n\n            <TableL className=''>\n                <div>\n                    <div className={`table_user`}>\n                        <Table\n                            pagination={false}\n                            dataSource={dataSource}\n                            columns={columns}\n                            scroll={{x: 0}}>\n                        </Table>\n                    </div>\n                    <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n                </div>\n            </TableL>\n            <SalesFunnelModal\n                loader={{\n                    loaded: true, setLoaded: () => {}\n                }}\n                status={1}\n                funnel={funnel}\n                pageSize={8}\n                Url={Url}\n                pupils={{\n                    pupilsList: [], setPupilsList: () => {}\n                }}\n                bigIcon={true}\n                update={update}\n            />\n        </>\n    )\n}\n\nexport default Student","import Url from './../../../url/url.js';\nimport {swallErr} from './../../../alert/alert.js';\nimport errorHandler from \"../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst Change_Balance = (sym, pupil_id, updeteStudent, Change = () => {}, subscription, group_id, returnBalance) => {\n\n\tlet urlLocal = subscription? `/CRM/Pupils/${pupil_id}/Payment?amount=${+sym}&subscription=${subscription}&group_id=${group_id}` : `/CRM/Pupils/${pupil_id}/Payment?amount=${+sym}`\n\n\taxios({\n\t\tmethod: \"post\",\n\t\turl: `${Url}${urlLocal}`, // amount&subscription&group_id\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json;charset=utf-8\",\n\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n\t\t},\n\t})\n\t.then((res) => {\n\t\tChange();\n\t\tupdeteStudent();\n\t})\n\t.catch((error) => {\n\t\terrorHandler(\n\t\t\t() => {},\n\t\t\terror,\n\t\t\treturnBalance,\n\t\t\tupdeteStudent,\n\t\t\t() => {swallErr(\"Не удалось пополнить баланс\", \"Попробуйте снова\")}\n\t\t)\n\t});\n\n}\n\nexport default Change_Balance;","import React, {useState, useEffect} from 'react';\r\nimport {Menu, Dropdown, Popover} from 'antd';\r\n\r\nimport Url from './../../../../../url/url.js';\r\nimport localStorage_change from './../../../../../#localStorage_change.js';\r\nimport {swallErr} from './../../../../../alert/alert.js';\r\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\r\n\r\nimport Change_Balance from './../../../change-balance/changeBalance.js';\r\n\r\nimport moment from 'moment';\r\nimport {Link} from \"react-router-dom\";\r\n// Style \r\nimport styled from '@emotion/styled';\r\n\r\nconst PupilsSandTime = ({itemG, dataGroup, getGroup_Id, setData, surname, name, pageInfo, type}) => {\r\n\r\n    const axios = require('axios'); // AJAX\r\n\r\n    const [visibleNumber, setVisibleNumber] = useState('-1')\r\n    // const [trigger, setTrigger] = useState('click')\r\n\r\n    const [fixedSchedule, setFixedSchedule] = useState(['fixedSchedule-H', '', 'bi-plus-circle']);\r\n\r\n    let ScheduleItem = itemG.localSchedule[`${dataGroup}`] ? itemG.localSchedule[`${dataGroup}`] : []\r\n\r\n    const [dataS, setDataS] = useState(ScheduleItem);\r\n    // const [dataS, setDataS] = useState([]);\r\n\r\n    // console.log(itemG)\r\n\r\n    const revers = () => {\r\n        if (fixedSchedule[0] == 'fixedSchedule-H') {\r\n            setFixedSchedule(['scheblueFixet', ' global-fon3000', 'bi-x-circle']);\r\n        } else {\r\n            setFixedSchedule(['fixedSchedule-H', '', 'bi-plus-circle']);\r\n        }\r\n    }\r\n\r\n    const addNotes = (name, axiosPut = () => {\r\n    }) => {\r\n        axios({\r\n            method: 'post',\r\n            url: `${Url}/CRM/Pupils/${itemG._id}/Notes`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: {\r\n                text: name\r\n            }\r\n        })\r\n        .then(() => {\r\n            // getGroup_Id()\r\n            axiosPut()\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                getGroup_Id()\r\n            }\r\n        })\r\n    }\r\n\r\n    const [Abic, setAbic] = useState([]);\r\n\r\n    const getAbic = () => {\r\n        axios({\r\n            method: \"get\",\r\n            url: `${Url}/CRM/Subscriptions`,\r\n            headers: {\r\n                \"Content-Type\": \"application/json;charset=utf-8\",\r\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\r\n            },\r\n        })\r\n        .then((res) => {\r\n            setAbic(res.data);\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data, statusText} = error.response;\r\n\r\n                if (status == 404) {\r\n                    swallErr(\"Error 404\", \"Сервер не найден\");\r\n                } else if (status == 401) {\r\n                    if (data.message == \"TOKEN_EXPIRED\") {\r\n                        localStorage_change(error.response.data.token);\r\n                        getGroup_Id();\r\n                    } else {\r\n                        localStorage.removeItem(\"tokenID\");\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const axiosPut = (mass, ChangeBalic = () => {\r\n    }) => {\r\n        axios({\r\n            method: 'put',\r\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}/Schedule`,\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=utf-8',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            },\r\n            data: mass\r\n        })\r\n        .then((res) => {\r\n            ChangeBalic()\r\n        })\r\n        .catch((error) => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n                let {status, data, statusText} = error.response;\r\n\r\n                if (status == 404) {\r\n\r\n                    swallErr('Error 404', 'Сервер не найден');\r\n\r\n                } else if (status == 401) {\r\n\r\n                    if (data.message == 'TOKEN_EXPIRED') {\r\n\r\n                        localStorage_change(error.response.data.token);\r\n                        getGroup_Id();\r\n                    } else {\r\n                        localStorage.removeItem('tokenID');\r\n                        window.location.replace(\"/\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const liAbic = Abic.map((abic, i) => {\r\n        console.log(abic)\r\n        const PaySubscription = () => {\r\n            let arr = [...dataS];\r\n\r\n            let n = 0,\r\n                index = 0;\r\n            while (n < abic.hoursCount) {\r\n                if (!arr[index].paid) {\r\n                    arr[index].paid = true;\r\n                    n++;\r\n                }\r\n                index++;\r\n            }\r\n\r\n            let updete = () => {\r\n            }; // Не обращяй внимание.\r\n\r\n            axiosPut(arr, () => {\r\n                Change_Balance(`-${abic.price}`, itemG._id, updete, getGroup_Id, abic._id, dataGroup, () => {\r\n                    axiosPut(arr)\r\n                })\r\n            });\r\n            setDataS(arr);\r\n        }\r\n        return (\r\n            <Menu.Item key={i} className=\"li\">\r\n\t\t\t\t<span\r\n                    onClick={PaySubscription}\r\n                    className=\"dropdown-item bg-info text-light\"\r\n                    href=\"#\">\r\n\t\t\t\t\t{abic.name}\r\n\t\t\t\t</span>\r\n            </Menu.Item>);\r\n    });\r\n\r\n    const menu = (\r\n        <Menu>\r\n            {liAbic}\r\n        </Menu>\r\n    )\r\n\r\n    useEffect(() => {\r\n        getAbic();\r\n    }, []);\r\n\r\n    const breakpoints = [780, 1380, 2002], // 619, 1238, 1857, > 2476\r\n        mq = breakpoints.map(\r\n            bp => `@media (max-width: ${bp}px)`\r\n        ),\r\n        mqMin = breakpoints.map(\r\n            bp => `@media (min-width: ${bp}px)`\r\n        );\r\n\r\n\r\n    const Div_box = styled.div({\r\n        borderBottom: '1px solid #91A8B0',\r\n        paddingBottom: '5px',\r\n        marginBottom: '5px',\r\n        i: {\r\n            color: '#17a2b8',\r\n            fontSize: '26px',\r\n            cursor: 'pointer',\r\n            paddingTop: '10px'\r\n        },\r\n        '.global-fon3000': {\r\n            position: 'fixed',\r\n            top: '0',\r\n            left: '0',\r\n            zIndex: '99',\r\n            height: '100vh',\r\n            background: 'rgba(0, 0, 0, 0.6)',\r\n            overflowY: 'scroll',\r\n            i: {\r\n                position: 'fixed',\r\n                top: '3px',\r\n                left: '7px',\r\n                color: '#fff'\r\n            },\r\n            '.bi-trash': {\r\n                display: 'none'\r\n            }\r\n        },\r\n        h4: {\r\n            display: 'inline-block',\r\n            marginRight: '10px',\r\n            marginBottom: '19px'\r\n        },\r\n        '.fixedSchedule-H': {\r\n            maxHeight: '81px',\r\n            overflow: 'hidden'\r\n        },\r\n\r\n        '.scheblueFixet': {\r\n            margin: '0 auto',\r\n            marginTop: '50px',\r\n            width: '86%'\r\n        },\r\n        '.fixedSchedule-H, .scheblueFixet': {\r\n            overflow: 'hidden',\r\n            width: '2476px',\r\n            [mq[2]]: {\r\n                width: '1857px'\r\n            },\r\n            [mq[1]]: {\r\n                width: '1238px'\r\n            },\r\n            [mq[0]]: {\r\n                width: '619px'\r\n            },\r\n        },\r\n        '.boxDay': {\r\n            overflowX: 'auto',\r\n            padding: '0 0 10px 0',\r\n            '&::-webkit-scrollbar': {\r\n                height: '10px',\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                borderRadius: '10px'\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n                backgroundColor: '#17a2b8',\r\n                borderRadius: '10px'\r\n            }\r\n        }\r\n    });\r\n\r\n    let Span = styled.div({ // День из расписания ученика.\r\n        margin: '0 3px 0 0',\r\n        position: 'initial',\r\n        button: {\r\n            fontSize: '15px',\r\n            fontWeight: '600',\r\n            padding: '1px 7px',\r\n            width: '71px'\r\n        },\r\n        '.btnAbic': {\r\n            width: '100%'\r\n        },\r\n        ul: {\r\n            border: 'none',\r\n            background: 'rgba(0, 0, 0, 0.3)',\r\n            padding: '6px'\r\n        },\r\n        '.li': {\r\n            border: 'none',\r\n            background: 'rgba(0, 0, 0, 0)',\r\n            span: {\r\n                borderRadius: '6px',\r\n                fontWeight: '500',\r\n                cursor: 'pointer'\r\n            },\r\n            '.input-group-text': {\r\n                margin: '0',\r\n                borderRadius: '6px 0 0 6px'\r\n            },\r\n            textarea: {\r\n                padding: '2px 7px',\r\n                fontWeight: '500'\r\n            }\r\n        }\r\n    });\r\n\r\n    let SchedulePupils;\r\n\r\n    let index = 1;\r\n\r\n    SchedulePupils = dataS.map((item, i) => {\r\n        let marginRight = 0;\r\n        if (index == 8) {\r\n            marginRight = 27;\r\n            index = 1;\r\n        } else {\r\n            index++;\r\n        }\r\n\r\n        let day = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\r\n\r\n        let color = '#f8f9fa',\r\n            opacity = '1';\r\n\r\n        let time = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\r\n            time_day = moment().diff(time, 'day');\r\n\r\n        if (item.paid & item.status != 3 & time_day <= 0) {\r\n            color = '#17a2b8';\r\n        } else if (item.status == 3 & time_day <= 0) {\r\n            color = '#6c757d'\r\n        } else if (item.status == 3 & item.paid) {\r\n            color = '#dc3545';\r\n        } else if (time_day > 0 & item.paid) {\r\n            color = '#28a745';\r\n        } else if (time_day > 0 & !item.paid & item.status != 3) {\r\n            color = '#28a745';\r\n            opacity = '0.5';\r\n        } else if (time_day > 0 & !item.paid & item.status == 3) {\r\n            color = '#dc3545';\r\n            opacity = '0.5';\r\n        }\r\n\r\n        const changeDayIndex = (index) => {\r\n            let arr = [...dataS];\r\n\r\n            if (index == 2 & arr[i].status == 3) {\r\n                arr[i].status = index;\r\n\r\n                axiosPut(arr);\r\n                setDataS(arr);\r\n\r\n            } else if (index == 3 & time_day < 0) {\r\n                arr[i].status = index;\r\n\r\n                axiosPut(arr);\r\n                setDataS(arr);\r\n            } else if (index != 3 & index != 2) {\r\n                arr[i].title = index;\r\n                addNotes(index, () => {\r\n                    axiosPut(arr)\r\n                })\r\n                // changeSchedule(arr);\r\n                setDataS(arr);\r\n            } else {\r\n                swallErr('Не возможно установить статус');\r\n            }\r\n        };\r\n\r\n        const Item = styled.span({\r\n            marginRight: `${marginRight}px`\r\n        })\r\n        let title = '';\r\n        let colorTitle = '';\r\n        if (item.title) {\r\n            colorTitle = '#ffc107';\r\n        }\r\n\r\n        const menuItem = (\r\n            <Menu key={day}>\r\n                <Menu.Item key={`${day}1`}>\r\n                    <span onClick={() => {\r\n                        changeDayIndex('3')\r\n                    }} className=\"dropdown-item bg-secondary text-light\" href=\"#\">Пропустил</span>\r\n                </Menu.Item>\r\n                <Menu.Item key={`${day}2`}>\r\n                    <span onClick={() => {\r\n                        changeDayIndex('2')\r\n                    }} className=\"dropdown-item bg-success text-light\" href=\"#\">Урок пройден</span>\r\n                </Menu.Item>\r\n                <Menu.Item key={`${day}3`}>\r\n                    <div className=\"input-group\">\r\n\t\t\t\t\t\t\t\t<span\r\n                                    onClick={() => {\r\n                                        changeDayIndex(title)\r\n                                        setVisibleNumber('')\r\n                                    }}\r\n                                    className=\"input-group-text bg-info text-light\"\r\n                                >\r\n\t\t\t\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t\t\t\t</span>\r\n                        <textarea\r\n                            placeholder='Оставьте заметку...'\r\n                            defaultValue={item.title}\r\n                            onChange={(e) => {\r\n                                title = e.target.value\r\n                            }}\r\n                            className=\"form-control\" aria-label=\"With textarea\"\r\n                        ></textarea>\r\n                    </div>\r\n                </Menu.Item>\r\n            </Menu>\r\n        )\r\n\r\n        let visibleLocal = false\r\n\r\n        if (visibleNumber === i) {\r\n            visibleLocal = true\r\n        } else if (visibleNumber === '') {\r\n            visibleLocal = false\r\n        }\r\n\r\n        return (\r\n            <Item key={`${day}${i}`}>\r\n                <Span className=\"btn-group\">\r\n                    <Dropdown\r\n                        onVisibleChange={(s) => {\r\n                            // if (visibleNumber === i) {\r\n                            // \tsetVisibleNumber('')\r\n                            // } else {\r\n                            // \tsetVisibleNumber(i)\r\n                            // }\r\n                            console.log(s)\r\n                        }}\r\n                        overlay={menuItem}\r\n                        visible={visibleLocal}\r\n                        trigger={['click']}\r\n                    >\r\n                        <button\r\n                            type=\"button\"\r\n                            style={{color: `${colorTitle}`, background: `${color}`, opacity: `${opacity}`}}\r\n                            className={`btn dropdown-toggle`}\r\n                            onClick={() => {\r\n                                if (visibleNumber === i) {\r\n                                    setVisibleNumber('')\r\n                                } else {\r\n                                    setVisibleNumber(i)\r\n                                }\r\n                            }}\r\n                        >\r\n                            {day}\r\n                        </button>\r\n                    </Dropdown>\r\n                </Span>\r\n            </Item>\r\n        );\r\n    });\r\n\r\n    let urlPage = itemG._id,\r\n        page = 'student';\r\n    if (pageInfo) {\r\n        page = pageInfo;\r\n        urlPage = dataGroup;\r\n    }\r\n    let LinkItem = (\r\n        <Link\r\n            to={`/${page}/${urlPage}`}>\r\n            <h4>{`${surname} ${name}`}</h4>\r\n        </Link>\r\n    );\r\n\r\n    let oplata = ''\r\n\r\n    let jwt = require('jsonwebtoken');\r\n    if (jwt.decode(localStorage.getItem('tokenID')).accountType != 'teacher') {\r\n        oplata = (\r\n            <span>\r\n\t\t\t\t\t<Span className=\"btn-group\">\r\n\t\t\t\t\t\t<Dropdown overlay={menu} trigger={['click']}>\r\n\t\t\t\t\t\t\t<button\r\n                                type=\"button\"\r\n                                className={`btn btn-success dropdown-toggle btnAbic`}\r\n                            >\r\n\t\t\t\t\t\t\t\tОплатить\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</Span>\r\n\t\t\t\t</span>\r\n        )\r\n    }\r\n\r\n    const deletePupils = () => {\r\n\r\n        console.log(itemG, dataGroup)\r\n        axios({\r\n            method: 'delete',\r\n            url: `${Url}/CRM/Groups/${dataGroup}/Pupils/${itemG._id}`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\r\n            }\r\n        })\r\n        .then(res => {\r\n\r\n            let {group, pupil} = res.data\r\n\r\n            if (type == 'group') {\r\n                setData(group)\r\n            } else if (type == 'pupil') {\r\n                setData(pupil)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            if (error.response) {\r\n                RestrictionMessage(error.response.status)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Div_box key={itemG._id} className=\"table\">\r\n            <div className=\"pupils-item row\">\r\n                <div className=\"col-12\">\r\n                    {LinkItem}\r\n                    {oplata}\r\n                </div>\r\n                <div className={`col-12${fixedSchedule[1]}`}>\r\n                    <div className=\"boxDay\">\r\n                        <div className={`${fixedSchedule[0]}`}>\r\n                            {SchedulePupils}\r\n                        </div>\r\n                    </div>\r\n                    <i onClick={() => {\r\n                        revers()\r\n                    }} className={`bi ${fixedSchedule[2]}`}></i>\r\n                    <Popover\r\n                        title={'Внимание'}\r\n                        content={'Удаление ученика из группы'}\r\n                        placement=\"right\"\r\n                        trigger={'hover'}\r\n                    >\r\n                        <i\r\n                            onClick={deletePupils}\r\n                            className='bi bi-trash'\r\n                            style={{color: 'rgb(245, 103, 10', marginLeft: '10px'}}></i>\r\n                    </Popover>\r\n                </div>\r\n            </div>\r\n        </Div_box>\r\n    );\r\n};\r\n\r\nPupilsSandTime.defaultProps = {\r\n    surname: ''\r\n}\r\n\r\nexport default PupilsSandTime;","import React, {useState, useEffect} from 'react';\nimport { Menu, Dropdown, DatePicker } from 'antd';\nimport moment from 'moment';\n\nimport Url from './../../../../../url/url.js';\nimport localStorage_change from './../../../../../#localStorage_change.js';\nimport ReturnAge from './../../../return-age/returnAge.js';\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\n\nimport InputMask from 'react-input-mask';\n\nimport {Toast, loading, Swalclose} from './../../../../../alert/alert.js';\n\n// Style\nimport styled from '@emotion/styled';\n\nconst InfoTable = ({dataStudent, updetePage}) => {\n\n\tlet newInfo = {};\n\n\tconst axios = require('axios'); // AJAX\n\n\tconst [visible, setVisible] = useState('')\n\n\tconst [info, setInfo] = useState(dataStudent),\n\t\t  {groups, name, surname, midname, gender, age, phone, parentPhone, discord, _id} = info;\n\n\tconst onChangeInfo = () => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/CRM/Pupils/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tif (newInfo.name) {\n\t\t\t\tupdetePage(res.data);\n\t\t\t\tconsole.log(newInfo);\n\t\t\t} else {\n\t\t\t\tsetInfo(res.data);\n\t\t\t}\n\t\t\tSwalclose();\n\t\t\tToast.fire({\n\t\t\t\ticon: 'success',\n\t\t\t\ttitle: 'Изменения сохранены'\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\tconst onChangeInfoItem = () => {\n\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\n\n\t\taxios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${Url}/CRM/Pupils/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t},\n\t\t\tdata: newInfo\n\t\t})\n\t\t.then((res) => {\n\t\t\tupdetePage(res.data)\n\t\t\tSwalclose();\n\t\t\tToast.fire({\n\t\t\t\ticon: 'success',\n\t\t\t\ttitle: 'Изменения сохранены'\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tlet groups_id = [];\n\n\tlet spanGroup = groups.map((item, i) => {\n\t\tgroups_id.push(item.group_name); \n\treturn <span key={item._id} className={`badge bg-light text-dark`}>{item.group_name}</span>;\n\t}); \n\n\tconst InfoTable = styled.ul({\n\t\t'.ant-picker': {\n\t\t\tspan: {\n\t\t\t\tmargin: '0'\n\t\t\t}\n\t\t},\n\t\t'.ant-picker-input': {\n\t\t\tinput: {\n\t\t\t\twidth: '127px'\n\t\t\t}\n\t\t}\n\t})\n\n\tconst menuSurname = (\n\t\t<Menu>\n\t\t    <Menu.Item>\n\t\t    \t<input\n\t\t\t\t\tplaceholder=\"Поменять фамилию\"\n\t\t\t\t\tonChange={(e) => {newInfo = {surname: `${e.target.value}`}}} \n\t\t\t\t\ttype=\"name\" className=\"text-dark form-control col-12\"/>\n\t\t    </Menu.Item>\n\t\t    <Menu.Item>\n\t\t\t    <span\n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tsetVisible('')\n\t\t\t\t    \tonChangeInfoItem()\n\t\t\t\t    }} \n\t\t\t\t    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n\t\t    </Menu.Item>\n\t\t</Menu>\n\t)\n\tconst menuName = (\n\t\t<Menu>\n\t\t    <Menu.Item>\n\t\t    \t<input\n\t\t\t    \tplaceholder=\"Новое имя\"\n\t\t\t    \tonChange={(e) => {newInfo = {name: `${e.target.value}`}}} \n\t\t\t    \ttype=\"name\" className=\"text-dark form-control col-12\"/>\n\t\t    </Menu.Item>\n\t\t    <Menu.Item>\n\t\t\t    <span\n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tsetVisible('')\n\t\t\t\t    \tonChangeInfoItem()\n\t\t\t\t    }} \n\t\t\t\t    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n\t\t    </Menu.Item>\n\t\t</Menu>\n\t)\n\tconst menuMidname = (\n\t\t<Menu>\n\t\t    <Menu.Item>\n\t\t    \t<input\n\t\t\t    \tplaceholder=\"Изменить поле...\"\n\t\t\t    \tonChange={(e) => {newInfo = {midname: `${e.target.value}`}}} \n\t\t\t    \ttype=\"name\" className=\"text-dark form-control col-12\"/>\n\t\t    </Menu.Item>\n\t\t    <Menu.Item>\n\t\t\t    <span\n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tonChangeInfoItem()\n\t\t\t\t    \tsetVisible('')\n\t\t\t\t    }} \n\t\t\t\t    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n\t\t    </Menu.Item>\n\t\t</Menu>\n\t)\n\tconst menuParentPhone = (\n\t\t<Menu>\n\t\t    <Menu.Item>\n\t\t\t    <InputMask\n\t\t\t    \tmask='+9 (999) 999-99-99'\n\t\t\t    \tplaceholder=\"Новый номер\"\n\t\t\t    \tonChange={(e) => {newInfo = {parentPhone: `${e.target.value}`}}} \n\t\t\t    \ttype=\"name\" className=\"text-dark form-control col-12\"/>\n\t\t    </Menu.Item>\n\t\t    <Menu.Item>\n\t\t\t    <span\n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tonChangeInfoItem()\n\t\t\t\t    \tsetVisible('')\n\t\t\t\t    }} \n\t\t\t\t    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n\t\t    </Menu.Item>\n\t\t</Menu>\n\t)\n\tconst menuPhone = (\n\t\t<Menu>\n\t\t    <Menu.Item>\n\t\t\t    <InputMask\n\t\t\t\t    mask='+9 (999) 999-99-99'\n\t\t\t\t    placeholder=\"Новый номер\"\n\t\t\t\t    onChange={(e) => {newInfo = {phone: `${e.target.value}`}}} \n\t\t\t\t    type=\"name\" className=\"text-dark form-control col-12\"/>\n\t\t    </Menu.Item>\n\t\t    <Menu.Item>\n\t\t    \t<span\n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tonChangeInfoItem()\n\t\t\t\t    \tsetVisible('')\n\t\t\t\t    }} \n\t\t\t\t    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n\t\t    </Menu.Item>\n\t\t</Menu>\n\t)\n\tconst menuDiscord = (\n\t\t<Menu>\n\t\t\t<Menu.Item>\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"Изменить NickName\"\n\t\t\t\t\tonChange={(e) => {newInfo = {discord: `${e.target.value}`}}} \n\t\t\t\t\ttype=\"name\" className=\"text-dark form-control col-12\"/>\n\t\t    </Menu.Item>\n\t\t    <Menu.Item>\n\t\t    \t<span\n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tonChangeInfoItem()\n\t\t\t\t    \tsetVisible('')\n\t\t\t\t    }} \n\t\t\t\t    className=\"badge bg-warning text-dark save\">\n\t\t\t\t    Сохранить\n\t\t\t    </span>\n\t\t    </Menu.Item>\n\t\t</Menu>\n\t)\n\n\treturn (\n\t\t<InfoTable className=\"list-group list-group-flush\">\n\t\t\t<li className=\"list-group-item\">Фамилия: <span className=\"badge bg-warning text-dark\">{surname}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t    <Dropdown overlay={menuSurname} visible={() => {\n\t\t\t\t    \tif (visible === 'Surname') {\n\t\t\t\t    \t\treturn true\n\t\t\t\t    \t} else {\n\t\t\t\t    \t\treturn false\n\t\t\t\t    \t}\n\t\t\t\t    }} trigger={['click']}>\n\t\t\t\t    \t<i  className=\"bi bi-pencil\" \n\t\t\t\t    \t\tonClick={() => {\n\t\t\t\t\t    \t\tif (visible === 'Surname') {\n\t\t\t\t\t    \t\t\tsetVisible('')\n\t\t\t\t\t    \t\t} else {\n\t\t\t\t\t    \t\t\tsetVisible('Surname')\n\t\t\t\t\t    \t\t}\n\t\t\t\t\t    \t}}\n\t\t\t\t    \t\tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n\t\t\t\t    \t\t></i>\n\t\t\t\t    </Dropdown>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Имя: <span className=\"badge bg-warning text-dark\">{name}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t<Dropdown overlay={menuName} visible={() => {\n\t\t\t\t\t\tif (visible === 'Name') {\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t}} trigger={['hover']}>\n\t\t\t\t\t\t<i  onClick={() => {\n\t\t\t\t\t    \t\tif (visible === 'Name') {\n\t\t\t\t\t    \t\t\tsetVisible('')\n\t\t\t\t\t    \t\t} else {\n\t\t\t\t\t    \t\t\tsetVisible('Name')\n\t\t\t\t\t    \t\t}\n\t\t\t\t\t    \t}}\n\t\t\t\t    \t\tclassName=\"bi bi-pencil\" \n\t\t\t\t    \t\tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Отчество: <span className=\"badge bg-warning text-dark\">{midname}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t<Dropdown overlay={menuMidname} visible={() => {\n\t\t\t\t\t\tif (visible === 'Midname') {\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t}} trigger={['hover']}>\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \n\t\t\t\t\t    \tonClick={() => {\n\t\t\t\t\t    \t\tif (visible === 'Midname') {\n\t\t\t\t\t    \t\t\tsetVisible('')\n\t\t\t\t\t    \t\t} else {\n\t\t\t\t\t    \t\t\tsetVisible('Midname')\n\t\t\t\t\t    \t\t}\n\t\t\t\t\t    \t}}\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">\n\t\t\t\tВозраст: \n\t\t\t\t<span className=\"badge bg-success text-light\">{ReturnAge(age)}</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tonChange={(data) => {\n\t\t\t\t\t\tnewInfo = {age: data._d.toISOString()}\n\t\t\t\t\t\tonChangeInfoItem()\n\t\t\t\t\t}}\n\t\t\t\t\tplaceholder='Изменить возраст'\n\t\t\t\t/>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Номер родителя: <span className=\"badge bg-info text-light\">{parentPhone}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t<Dropdown \n\t\t\t\t\t\toverlay={menuParentPhone} \n\t\t\t\t\t\tvisible={() => {\n\t\t\t\t\t\t\tif (visible === 'ParentPhone') {\n\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \n\t\t\t\t\t    \tonClick={() => {\n\t\t\t\t\t    \t\tif (visible === 'ParentPhone') {\n\t\t\t\t\t    \t\t\tsetVisible('')\n\t\t\t\t\t    \t\t} else {\n\t\t\t\t\t    \t\t\tsetVisible('ParentPhone')\n\t\t\t\t\t    \t\t}\n\t\t\t\t\t    \t}}\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Номер ученика: <span className=\"badge bg-warning text-dark\">{phone}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t    <Dropdown \n\t\t\t\t\t\toverlay={menuPhone} \n\t\t\t\t\t\tvisible={() => {\n\t\t\t\t\t\t\tif (visible === 'Phone') {\n\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \n\t\t\t\t\t    \tonClick={() => {\n\t\t\t\t\t    \t\tif (visible === 'Phone') {\n\t\t\t\t\t    \t\t\tsetVisible('')\n\t\t\t\t\t    \t\t} else {\n\t\t\t\t\t    \t\t\tsetVisible('Phone')\n\t\t\t\t\t    \t\t}\n\t\t\t\t\t    \t}}\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Discord: <span className=\"badge bg-light text-dark\">{discord}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t<Dropdown \n\t\t\t\t\t\tclassName='Discord'\n\t\t\t\t\t\toverlay={menuDiscord} \n\t\t\t\t\t\tvisible={() => {\n\t\t\t\t\t\t\tif (visible === 'Discord') {\n\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<i  className=\"bi bi-pencil\" \n\t\t\t\t\t    \tonClick={() => {\n\t\t\t\t\t    \t\tif (visible === 'Discord') {\n\t\t\t\t\t    \t\t\tsetVisible('')\n\t\t\t\t\t    \t\t} else {\n\t\t\t\t\t    \t\t\tsetVisible('Discord')\n\t\t\t\t\t    \t\t}\n\t\t\t\t\t    \t}}\n\t\t\t\t\t    \tstyle={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}></i>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Группы: {spanGroup}</li>\n\t\t</InfoTable>\n\t);\n}\n\nexport default InfoTable;","import React, {useState, useEffect} from 'react';\n\n// Style \nimport styled from '@emotion/styled';\n\nconst PayHistory = ({pay_History}) => {\n\n\tlet pay_HistoryLocal = pay_History? pay_History : []\n\n\tlet liInc = [];\n\tpay_HistoryLocal.forEach((item, i) => {\n\t\tif (item.type == 0) {\n\t\t\tliInc.unshift(\n\t\t\t\t<li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\n\t\t\t);\t\t\n\t\t}\n\t})\n\n\tlet liDec = [];\n\tpay_HistoryLocal.forEach((item, i) => {\n\t\tif (item.type == 1) {\n\t\t\tliDec.unshift(\n\t\t\t\t<li key={i} className=\"list-group-item\">{item.date} <span>{item.amount}₽</span> <br/>{item.issuer}</li>\n\t\t\t);\n\t\t}\n\t})\n\n\tconst PayHistory = styled.div({\n\t\tmargin: '0',\n\t\tpadding: '0',\n\t\t'.colona': {\n\t\t\tpadding: '0 3px',\n\t\t\tmarginBottom: '15px',\n\t\t\th3: {\n\t\t\t\tfontSize: '16px'\n\t\t\t},\n\t\t\tul: {\n\t\t\t\tborderRadius: '5px',\n\t\t\t\toverflow: 'auto',\n\t\t\t\tmaxHeight: '268px',\n\t\t\t\t'&::-webkit-scrollbar': {\n\t\t\t\t\twidth: '10px',\n\t\t\t\t\tbackgroundColor:'rgba(0, 0, 0, 0.5)',\n\t\t\t\t\tborderRadius: '10px'\n\t\t\t\t},\n\t\t\t\t'&::-webkit-scrollbar-thumb': {\n\t\t\t\t\tbackgroundColor: '#17a2b8',\n\t\t\t\t\tborderRadius: '10px'\n\t\t\t\t}\n\t\t\t},\n\t\t\tli: {\n\t\t\t\tspan: {\n\t\t\t\t\tfontSize: '17px',\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'.colona-1': {\n\t\t\tul: {\n\t\t\t\tborder: '1px solid #28a745'\n\t\t\t},\n\t\t\tli: {\n\t\t\t\tspan: {\n\t\t\t\t\tcolor: '#28a745',\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'.colona-2': {\n\t\t\tul: {\n\t\t\t\tborder: '1px solid #f27474'\n\t\t\t},\n\t\t\tli: {\n\t\t\t\tspan: {\n\t\t\t\t\tcolor: '#28a745',\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t})\n\n\treturn (\n\t\t<PayHistory className='col-12 row'>\n\t\t\t<div className=\"colona colona-1 col-6\">\n\t\t\t<h3 className=\"badge bg-success text-light\">Пополнение</h3>\n\t\t\t<ul className=\"list-group\">\n\t\t\t  {liInc}\n\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"colona colona-2 col-6\">\n\t\t\t<h3 className=\"badge bg-danger text-light\">Оплата</h3>\n\t\t\t<ul className=\"list-group\">\n\t\t\t  {liDec}\n\t\t\t</ul>\n\t\t\t</div>\n\t\t</PayHistory>\n\t);\n}\n\nexport default PayHistory;","import React, {useState, useEffect} from 'react'\nimport {Comment, Form, Button, List, Input} from 'antd';\nimport Url from '../../../../../../url/url.js';\nimport moment from 'moment';\nimport {swallErr} from './../../../../../../alert/alert.js'\nimport localStorage_change from './../../../../../../#localStorage_change.js'\nimport RestrictionMessage from '../../../../../restriction-message/restriction-message.js'\n\nconst {TextArea} = Input;\nconst axios = require('axios'); // AJAX\n\nconst Chat = ({notesGlobal, update, _id}) => {\n\n    const CommentList = ({comments}) => {\n        console.log(comments)\n        return (\n            <List\n                dataSource={comments}\n                header={`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`}\n                itemLayout=\"horizontal\"\n                renderItem={props => {\n                    let body = {...props}\n                    body.datetime = moment(props.datetime).locale('ru').format(\"dddd, D MMMM YYYY г., HH:MM\")\n                    if (body.datetime === 'Invalid date') {\n                        body.datetime = props.datetime\n                    }\n                    return <Comment {...body} />\n                }}/>\n        )\n    };\n\n    useEffect(() => {\n        document.querySelector('.ant-input').value = ''\n        let block = document.querySelector('.ant-drawer-body')\n        block.scrollTop = block.scrollHeight\n    })\n\n    // ===========================================================================================================================\n\n    let {surname, name, midname} = require('jsonwebtoken').decode(localStorage.getItem('tokenID'))\n\n    let UserName = `${surname} ${name} ${midname}`\n\n    const [comments, setComments] = useState(notesGlobal)\n    const [submitting, setSubmitting] = useState(false)\n    let value = ''\n\n    const handleSubmit = () => {\n        if (!value) {\n            return;\n        }\n\n        setSubmitting(true)\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/${_id}/Notes`,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                text: value\n            }\n        })\n        .then(() => {\n\n            setSubmitting(false)\n            setComments([...comments, {\n                author: UserName,\n                content: <p>{value}</p>,\n                datetime: moment().locale('ru').format(\"dddd, D MMMM YYYY г., HH:MM\"),\n            }])\n            // update()\n        })\n        .catch((error) => {\n            if (error.response) {\n                RestrictionMessage(error.response.status)\n                let {status, data} = error.response;\n\n                if (status == 404) {\n                    swallErr('404', 'Сервер не найден')\n                } else if (status == 401) {\n\n                    if (data.message == 'TOKEN_EXPIRED') {\n\n                        localStorage_change(data.token);\n                        value = value\n                        handleSubmit();\n                    } else {\n                        localStorage.removeItem('tokenID');\n                        window.location.replace(\"/\");\n                    }\n                }\n            }\n        })\n    };\n\n\n    return (\n        <>\n            {comments.length > 0 && <CommentList comments={comments}/>}\n            <Comment\n                content={\n                    <>\n                        <Form.Item>\n                            <TextArea\n                                id='TextArea'\n                                onClick={() => {\n                                    document.querySelector(\"#TextArea\").value = ''\n                                }}\n                                rows={4} onChange={(e) => {\n                                value = e.target.value\n                            }} placeholder='Добавить комментарий'/>\n                        </Form.Item>\n                        <Form.Item>\n                            <Button htmlType=\"submit\" loading={submitting} onClick={handleSubmit} type=\"primary\">\n                                Добавить комментарий\n                            </Button>\n                        </Form.Item>\n                    </>\n                }\n            />\n        </>\n    );\n}\n\nexport default Chat","import React, {useState} from 'react';\nimport {Drawer, Button} from 'antd';\n\nimport ChatItem from './chat-item/chat.js'\n\n// Style \nimport styled from '@emotion/styled';\n\nconst DrawerChat = ({notes, update, _id}) => {\n    const [visible, setVisible] = useState(false);\n\n    const showDrawer = () => {\n        setVisible(true);\n    };\n\n    const onClose = () => {\n        if (visible) {\n            update()\n        }\n        setVisible(false);\n    };\n\n    const COMEN = styled.div({\n        '.ant-comment-content-detail': {\n            borderBottom: '1px solid #f0f0f0'\n        }\n    })\n\n    let notesLocal = notes? notes : []\n    let notesGlobal = []\n    notesLocal.forEach(item => {\n\n        let {author, date, text} = item\n\n        notesGlobal.push(\n            {\n                author: author,\n                content: <p>{text}</p>,\n                datetime: date,\n            }\n        )\n    })\n\n    return (\n        <>\n            <Button className='Button-Drawer' type=\"primary\" onClick={showDrawer}>\n                Открыть коментарии\n            </Button>\n            <Drawer\n                width={'400px'}\n                placement=\"right\"\n                closable={false}\n                onClose={onClose}\n                visible={visible}\n            >\n                <COMEN>\n                    <ChatItem notesGlobal={notesGlobal} update={update} _id={_id}/>\n                </COMEN>\n            </Drawer>\n        </>\n    );\n};\n\nexport default DrawerChat","import React, {useState} from 'react';\nimport {Menu, Dropdown} from 'antd';\n\nimport Change_Balance from './../../../change-balance/changeBalance.js';\n// Style \nimport styled from '@emotion/styled';\n\nconst Balance = ({balance_item, pageStudent_id, updeteStudent}) => {\n\n    const [visible, setVisible] = useState(false)\n    const [balance, setBalance] = useState(+balance_item ? +balance_item : 0);\n\n    let incBalance = 0;\n\n    const returnBalance = () => {\n        setBalance(balance)\n    }\n\n    const ChangeBalance = () => {\n        let sum = +balance + +incBalance\n        setBalance(sum);\n\n        Change_Balance(incBalance, pageStudent_id, updeteStudent, undefined, undefined, undefined, returnBalance);\n    }\n\n    const Span = styled.span({\n        borderRadius: '6px',\n        fontWeight: '500',\n        cursor: 'pointer',\n        fontSize: '14px'\n    });\n\n    const menu = (\n        <Menu>\n            <Menu.Item>\n                <input\n                    placeholder=\"Пополнить\"\n                    onChange={(e) => {\n                        incBalance = e.target.value\n                    }}\n                    type=\"number\" className=\"text-info form-control col-12\"\n                />\n            </Menu.Item>\n            <Menu.Item>\n                <Span\n                    onClick={() => {\n                        setVisible(!visible)\n                        ChangeBalance()\n                    }}\n                    className=\"badge bg-warning text-dark\">\n                    Сохранить\n                </Span>\n            </Menu.Item>\n        </Menu>\n    );\n\n    return (\n        <div className=\"balance col-md-12 row\">\n            <h6 className=\"calendar badge bg-success text-light\">\n                {balance}\n                <span>₽</span>\n            </h6>\n            <Dropdown overlay={menu} visible={visible} trigger={['click']}>\n                <i id=\"dropdownMenuReference\"\n                   className=\"bi bi-plus\"\n                   onClick={() => {\n                       setVisible(!visible)\n                   }}\n                   style={{fontSize: \"30px\", color: '#17a2b8', cursor: 'pointer'}}\n                />\n            </Dropdown>\n        </div>\n    );\n}\n\nexport default Balance;","import React, {useState, useEffect} from 'react';\nimport { useParams } from \"react-router-dom\";\n\nimport Url from './../../../../url/url.js';\nimport localStorage_change from './../../../../#localStorage_change.js';\nimport {swallErr} from './../../../../alert/alert.js'\n\nimport PupilsSandTime from './../../group/group-page/PupilsSandTime/PupilsSandTime.js';\nimport InfoTable from './Info-table/InfoTable.js';\nimport PayHistory from './payment-history/paymentHistory.js';\nimport DrawerChat from './chat/drawer-chat.js'\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\n// Block\nimport Balance from './balance/balance.js';\n\n// Style \nimport styled from '@emotion/styled';\n\nconst PageStudent = () => {\n\n\tlet pageStudent_id = useParams().id\n\n\tlet jwt = require('jsonwebtoken');\n\n\tconst [dataStudent, setDataS] = useState({\n\t    _id: \"60ba505dc12d3b9783c51d0f\",\n\t    name: \"Загрузка...\", \n\t\tsurname: \"\", \n\t\tmidname: \"\", \n\t\tgender: \"\", \n\t\tage: \"2004-12-07\",\n\t\tphone: \"\",\n\t\tparentPhone: \"\", \n\t\tdiscord: \"\",\n\t\tbalance: 0,\n\t\tlocalSchedule: {},\n\t\tgroups: [],\n\t\tpaymentHistory: [\n\t\t\t{type: 1, date: \"\", amount: 0, issuer: \"\", subscription: null},\n\t\t\t{type: 0, date: \"\", amount: 0, issuer: \"\", subscription: null}\n\t\t],\n\t\tnotes: []\n\t});\n\n\tconst {_id, notes, groups, name, surname, midname, gender, age, phone, parentPhone, discord, balance, localSchedule, paymentHistory} = dataStudent;\n\n\tconst axios = require('axios'); // AJAX\n\n\tconst getStudent_Id = () => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/CRM/Pupils/${pageStudent_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tsetDataS(res.data);\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t\tlet {status, data} = error.response;\n\n\t\t\t\tif (status == 404) {\n\t\t\t\t\tswallErr('404', 'Сервер не найден')\n\t\t\t\t} else if (status == 401) {\n\n\t\t\t\t\tif (data.message == 'TOKEN_EXPIRED') {\n\n\t\t\t\t\t\tlocalStorage_change(data.token);\n\t\t\t\t\t\tgetStudent_Id();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocalStorage.removeItem('tokenID');\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tgetStudent_Id();\n\t}, []);\n\n\tlet arrIdSch = [];\n\tfor (let key in localSchedule) {\n\t\tarrIdSch.push(key);\n\t}\n\n\tlet groups_id = [];\n\n\tgroups.forEach((item) => {\n\t\tgroups_id.push(item.group_name);\n\t}); \n\n\tlet PupilsSandTimeGroup = arrIdSch.map((id, i) => {\n\t\tconsole.log(dataStudent)\n\n\t\tif (i < groups_id.length) {\n\t\t\tconsole.log(groups_id[i])\n\t\t\treturn <PupilsSandTime key={id} pageInfo={'group'} itemG={dataStudent} dataGroup={id} getGroup_Id={getStudent_Id} setData={setDataS} name={groups_id[i]} type='pupil'/>\n\t\t}\n\n\t});\n\t\n\t// Style\n\n\tconst breakpoints = [767],\n\t\t  mq = breakpoints.map(\n\t\t\tbp => `@media (max-width: ${bp}px)`\n\t\t);\n\n\tconst StudentPage = styled.div({\n\t\tmarginTop: '0px',\n\t\tmargin: '0 auto',\n\t\t'.pad': {\n\t\t\tpadding: '0px',\n\t\t\tpaddingRight: '10px',\n\t\t\t[mq[0]]: {\n\t\t\t\tpaddingRight: '0px'\n\t\t\t}\n\t\t},\n\t\t'.infoLog': {\n\t\t\tmarginBottom: '10px',\n\t\t\tpadding: '0',\n\t\t\t[mq[0]]: {\n\t\t\t\tpaddingBottom: '10px'\n\t\t\t},\n\t\t\t'.calendar': {\n\t\t\t\tmargin: 'auto 0',\n    \t\t\tmarginRight: '10px',\n    \t\t\tfontSize: '20px',\n    \t\t\tspan: {\n    \t\t\t\tpaddingLeft: '6px'\n    \t\t\t}\n\t\t\t}\n\t\t},\n\t\t'.group-name': {\n\t\t\tborderBottom: '1px solid #0dcaf0',\n\t\t\tpadding: '0px',\n\t\t\t[mq[0]]: {\n\t\t\t\tborderRight: 'none'\n\t\t\t}\n\t\t},\n\t\t'.balance': {\n\t\t\th5: {\n\t\t\t\tfontSize: '1.25rem'\n\t\t\t}\n\t\t},\n\t\t'.Button-Drawer': {\n\t\t\tposition: 'absolute',\n\t\t\tright: '0',\n\t\t\ttop: '8px'\n\t\t},\n\t\t'.ulBox': {\n\t\t\tborderRadius: '15px',\n\t\t\tpadding: '0px',\n\t\t},\n\t\t'.editing': {\n\t\t\tbackground: '#fff',\n    \t\tborderRadius: '10px 10px 0 0',\n    \t\ti: {\n    \t\t\tmarginLeft: '95%',\n    \t\t\tcursor: 'pointer'\n    \t\t}\n\t\t},\n\t\tli: {\n\t\t\tbackgroundColor: 'none',\n\t\t\tspan: {\n\t\t\t\tfontSize: '16px',\n\t\t\t\tmargin: '0 5px 5px 0'\n\t\t\t}\n\t\t}\n\t});\n\n\tconst TablePupils = styled.div({\n\t\tbackground: '#fff',\n\t    margin: '10px 0',\n\t    padding: '10px',\n\t    borderRadius: '15px',\n\t\t'& > h3': {\n\t\t\tfontSize: '22px'\n\t\t}\n\t});\n\n\treturn (\n\t\t<StudentPage className=\"container row col-12\">\n\t\t\t\t<div className=\"col-12 col-md-6 pad\">\n\t\t\t\t\t<div className=\"infoLog align-self-start col-md-12 col-12\">\n\t\t\t\t\t\t<div className=\"group-name col-12 col-lg-12\">\n\t\t\t\t\t\t\t<h3>{name}</h3>\n\t\t\t\t\t\t\t<DrawerChat notes={notes} update={getStudent_Id} _id={pageStudent_id}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Balance balance_item={balance} pageStudent_id={pageStudent_id} updeteStudent={getStudent_Id}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<PayHistory pay_History={paymentHistory}/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-md-6 ulBox\">\n\t\t\t\t\t<InfoTable dataStudent={dataStudent} updetePage={setDataS}/>\n\t\t\t\t</div>\n\t\t\t\t<TablePupils className=\"container col-12\">\n\t\t\t\t\t<h3 className=\"badge bg-warning\">Группы:</h3>\n\t\t\t\t\t{PupilsSandTimeGroup}\n\t\t\t\t</TablePupils>\n\t\t</StudentPage>\n\t);\n};\n\nexport default PageStudent;\n","import React, {useState, useEffect} from 'react';\nimport Url from './../../../url/url.js';\nimport localStorage_change from './../../../#localStorage_change.js';\nimport {swallGood, swallErr} from './../../../alert/alert.js';\nimport Pagination from './../#more-functions/pagination/pagination.js'\nimport RestrictionMessage from '../../restriction-message/restriction-message.js'\n\nimport {Link} from \"react-router-dom\";\nimport {Modal, Button} from 'antd';\n\n// Style \nimport styled from '@emotion/styled';\nimport './group.css';\nimport errorHandler from \"../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst Group = () => {\n\n    // Modal\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [loading, setLoading] = useState(false)\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    // /Modal\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(1)\n\n    const [availableStudents, setAvailableStudents] = useState(['Пусто...']);\n    const [PUPILS_search, setPUPILS_search] = useState([]);\n    const [availableTutor, setAvailableTutor] = useState([]);\n\n    const [groups, setGroups] = useState([]);\n\n    // Получить учеников\n    const getPupils = () => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Pupils/find?limit=150&offset=0`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let arr = [];\n            res.data.forEach((item) => {\n                arr.push([`${item.surname} ${item.name}`, item._id]);\n            });\n            setAvailableStudents(arr);\n            setPUPILS_search(arr);\n        })\n        .catch((error) => {\n            errorHandler(update, error)\n        });\n    }\n\n    // Получить группы\n    const getGroup = (offset = 0) => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/find?limit=10&offset=${offset}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data, headers} = res\n            setGroups(data)\n            setCount(headers.count)\n        })\n        .catch((error) => {\n            errorHandler(update, error)\n        })\n    }\n\n    const getTUTOR = (offset = 0) => {\n        axios({\n            method: 'get',\n            url: `${Url}/AdminPanel/CRMAccounts?limit=10&offset=${offset}&accountType=teacher`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            setAvailableTutor(data)\n        })\n        .catch((error) => {\n            errorHandler(getTUTOR, error)\n        })\n    }\n\n    const update = () => {\n        getTUTOR();\n        getPupils();\n        getGroup(offsetG);\n    };\n\n    useEffect(() => {\n        update();\n    }, []);\n\n    useEffect(() => {\n        if (isModalVisible) {\n            document.getElementById('fort').focus();\n        }\n    });\n\n    let A_Tutor = availableTutor.map((item, i) => {\n        let {name, surname, midname, _id} = item\n        return (\n            <option key={name + i} value={_id}>{surname} {name} {midname}</option>\n        );\n    });\n\n    const [pupils, setPupils] = useState([]);\n\n    const [group_name, setGROUP_NAME] = useState(''),\n        [places, setPLACES] = useState(''),\n        [tutor, setTUTOR] = useState(''),\n        [level, setLEVEL] = useState('');\n\n    let dataInput = {\n        group_name,\n        places,\n        tutor,\n        level\n    };\n\n    const inputSave = () => {\n        let {group_name, places, tutor, level} = dataInput;\n        setGROUP_NAME(group_name);\n        setPLACES(places);\n        setTUTOR(tutor);\n        setLEVEL(level);\n    }\n\n\n    const [SearchValue, setSearchValue] = useState('');\n    const changePUPILS = (e) => {\n\n        let regex = RegExp(e.target.value, 'gi');\n\n        let arrPupils = availableStudents.filter(item => regex.test(item[0]));\n        setSearchValue(e.target.value);\n        setPUPILS_search(arrPupils);\n\n        inputSave();\n    }\n\n    let PUPILS_search_Li = PUPILS_search.map((item) => {\n\n        const choice = () => {\n\n            let arr = [...pupils, item];\n\n            pupils.forEach((ite) => {\n                if (ite[1] == item[1]) {\n                    arr = [...pupils];\n                }\n            });\n\n            setPupils(arr);\n            inputSave();\n        };\n        return (\n            <li key={item[1]}\n                onClick={choice}\n                className=\"list-group-item\">\n                <span className=\"badge bg-warning text-dark\">{item[0]}</span>\n            </li>\n        );\n    });\n\n    let PUPILS_btn = pupils.map((item, i) => {\n\n        const nameDelete = () => {\n            let data = [...pupils];\n            data.splice(i, 1);\n            setPupils(data);\n            inputSave();\n        }\n\n        return (\n            <button onClick={nameDelete} key={item[1]} type=\"button\" className=\"btn btn-info\">\n                {item[0]} <i className=\"bi bi-x\" style={{fontSize: '15px'}}></i>\n            </button>\n        );\n    });\n\n    let tableGroup = groups.map((item) => {\n\n        const trashGroup = () => {\n\n            let i = document.getElementById(item._id);\n            i.style.opacity = '0.3';\n\n            axios({\n                method: \"DELETE\",\n                url: `${Url}/CRM/Groups/${item._id}`,\n                headers: {\n                    \"Content-Type\": \"application/json;charset=utf-8\",\n                    Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n                },\n            })\n            .then((res) => {\n                getGroup(offsetG);\n                i.style.opacity = '1';\n            })\n            .catch((error) => {\n                errorHandler(trashGroup, error)\n            });\n        };\n\n        const {group_name, tutor, level, places, pupils, global_schedule, _id} = item;\n\n        let PUPILS01 = pupils? pupils : []\n\n        let tutorText = 'Учитель не добавлен...',\n            time = '-'\n\n        if (global_schedule) {\n            if (global_schedule[0]) {\n\n                let {duration} = global_schedule[0]\n\n                time = `с ${duration[0]} до ${duration[1]}`\n            }\n        }\n\n        if (tutor) {\n            let {surname, name, midname} = tutor\n            tutorText = `${surname} ${name} ${midname}`\n        }\n\n        return (\n            <tr key={`${_id}`}>\n                <td className=\"td-trash\" scope=\"row\">\n                    <i id={_id} onClick={trashGroup} className=\"bi bi-trash\"\n                       style={{fontSize: '30px', color: '#F56767'}}></i>\n                </td>\n                <td className=\"align-middle td-use\">\n                    <Link\n                        className=\"link-info\"\n                        to={`/group/${_id}`}>\n                        {group_name}\n                    </Link>\n                </td>\n                <td className=\"align-middle td-use\">{tutorText}</td>\n                <td className=\"align-middle td-use\">{level} класс</td>\n                <td className=\"align-middle td-use\">{places}</td>\n                <td className=\"align-middle td-use\">{places - PUPILS01.length}</td>\n                <td className=\"align-middle td-use\">{time}</td>\n            </tr>\n        );\n\n    });\n\n    const formSubmit = () => {\n\n        let {group_name, places, tutor, level} = dataInput; // + pupils\n\n        let PUPILS_ID = [];\n        pupils.forEach((item) => {\n            PUPILS_ID.push(item[1]);\n        });\n\n        setLoading(true)\n\n        axios({\n            method: \"POST\",\n            url: `${Url}/CRM/Groups`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n            },\n            data: {\n                group_name: group_name,\n                tutor: tutor || undefined,\n                level: +level,\n                places: +places,\n                pupils: PUPILS_ID\n            }\n        })\n        .then((res) => {\n            setLoading(false)\n            swallGood('Группа создана', 'Теперь добавьте расписание');\n            setIsModalVisible(false)\n            getGroup();\n            setGROUP_NAME('')\n            setPupils([])\n            setPLACES('')\n            setTUTOR('')\n            setLEVEL('')\n\n        })\n        .catch((error) => {\n            setLoading(false)\n            if (error.response) {\n                RestrictionMessage(error.response.status)\n                let {status} = error.response;\n\n                if (status == 400) {\n                    if (+places < PUPILS_ID.length) {\n                        swallErr('Ой...', 'Мест для учеников не хватает');\n                    } else {\n                        swallErr('Ой...', 'Заполните поля правильно');\n                    }\n                } else if (status == 401) {\n                    swallErr('Ой...', 'Где токен ?');\n                } else if (status == 500) {\n                    swallErr('Произошла поломка сервера', 'Сообщите об ошибке владельцу сервиса')\n                }\n            }\n        });\n    };\n\n\n    const breakpoints = [1020, 700],\n        mq = breakpoints.map(\n            bp => `@media (max-width: ${bp}px)`\n        );\n    const Table = styled.div({\n        padding: '0 30px',\n        [mq[1]]: {\n            padding: '0 0',\n        },\n        '.table_user': {\n            overflowX: 'auto',\n            '&::-webkit-scrollbar': {\n                height: '10px',\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                borderRadius: '10px'\n            },\n            '&::-webkit-scrollbar-thumb': {\n                backgroundColor: '#17a2b8',\n                borderRadius: '10px'\n            },\n        },\n        '.log_h2': {},\n        td: {\n            paddingTop: '1px',\n            paddingBottom: '4px'\n        },\n        'th, td': {\n            whiteSpace: 'nowrap'\n        }\n    });\n    const Form = styled.form({\n        '.addPUPILS': {\n            '.input-group': {\n                ul: {\n                    overflowY: 'scroll',\n                    height: '100px'\n                },\n                li: {\n                    cursor: 'pointer',\n                    padding: '5px',\n                    span: {\n                        fontSize: '11px'\n                    }\n                }\n            }\n        }\n    });\n\n    return (\n        <>\n            <nav id=\"navbar-student\" className=\"navbar navbar-expand-lg navbar-light\">\n                <div className=\"container-fluid d-flex\">\n                    <div className=\"collapse d-flex flex-row h3-person\">\n                        <div className=\"d-flex plus-box\">\n                            <div>\n                                <h3>Группы</h3>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"collapse d-flex flex-row-reverse\" id=\"navbarScroll\">\n                        <div className=\"d-flex plus-box\">\n                            <div className=\"nav-item plus\" onClick={showModal}>\n                                <i className=\"bi bi-people\" style={{fontSize: '38px', color: '#F56767'}}></i>\n                                <i className=\"bi bi-plus\" style={{fontSize: '30px', color: '#F56767'}}></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </nav>\n\n            <Table className=''>\n                <div>\n                    <div className={`table_user`}>\n                        <table className=\"table table-striped\">\n                            <thead>\n                            <tr>\n                                <th className=\"th-h\" scope=\"col\"></th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Группы</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Учитель</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Уровень</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Количество мест</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Свободных мест</th>\n                                <th className=\"th-h align-middle\" scope=\"col\">Время занятий</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {tableGroup}\n                            </tbody>\n                        </table>\n                    </div>\n                    <Pagination getItem={getGroup} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n                </div>\n            </Table>\n\n            <Modal\n                title=\"Добавить группу\"\n                visible={isModalVisible}\n                onCancel={handleCancel}\n                width={1000}\n                footer={[\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\n                        Отмена\n                    </Button>,\n                    <Button\n                        key=\"onOk1\"\n                        onClick={formSubmit}\n                        loading={loading}\n                        type=\"primary\"\n                    >\n                        Сохранить\n                    </Button>\n                ]}\n            >\n                <Form>\n                    <div className=\"modal-body\">\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputName\" className=\"fs-5 col-sm-4 col-form-label\">Имя группы</label>\n                            <div className=\"col-sm-8\">\n                                <input defaultValue={dataInput.group_name} autoComplete='off' onChange={(e) => {\n                                    dataInput.group_name = e.target.value\n                                }} required type=\"name\" name=\"group_name\" className={`form-control`} id=\"group_name\"/>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputMidname\" className=\"fs-5 col-sm-4 col-form-label\">Количество\n                                мест</label>\n                            <div className=\"col-sm-8\">\n                                <input defaultValue={dataInput.places} autoComplete='off' onChange={(e) => {\n                                    dataInput.places = e.target.value\n                                }} required type=\"number\" name=\"places\" className={`form-control`} id=\"places\"/>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Уровень\n                                подготовки</label>\n                            <div className=\"col-sm-8 input-group\">\n                                <select defaultValue={dataInput.level} onChange={(e) => {\n                                    dataInput.level = e.target.value\n                                }} required className=\"form-control\" id=\"inputGroupSelect01\">\n                                    <option defaultValue></option>\n                                    <option value=\"1\">1 класс</option>\n                                    <option value=\"2\">2 класс</option>\n                                    <option value=\"3\">3 класс</option>\n                                    <option value=\"4\">4 класс</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"row mb-3\">\n                            <label className=\"fs-5 col-sm-4 col-form-label\">Учитель</label>\n                            <div className=\"col-sm-8 input-group\">\n                                <select defaultValue={dataInput.tutor} onChange={(e) => {\n                                    dataInput.tutor = e.target.value\n                                }} className=\"form-control\">\n                                    <option defaultValue></option>\n                                    {A_Tutor}\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"mb-3\">\n                            <label htmlFor=\"inputSirname\" className=\"fs-5 col-sm-4 col-form-label\">Добавить\n                                учеников</label>\n                            <div className=\"row addPUPILS\">\n                                <div className=\"col-sm-6 input-group\">\n                                    <input\n                                        id=\"fort\"\n                                        onChange={changePUPILS}\n                                        defaultValue={SearchValue}\n                                        autoComplete='off' type=\"search\" className=\"form-control\" name=\"q\"\n                                        placeholder=\"Найти...\"/>\n\n                                    <ul className=\"col-12 list-group list-group-flush\">\n                                        {PUPILS_search_Li}\n                                    </ul>\n                                </div>\n                                <div className=\"col-sm-6 boxPUPILS\">\n                                    {PUPILS_btn}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </Form>\n            </Modal>\n        </>\n    );\n};\n\nexport default Group;"," import React from 'react';\n\nimport moment from 'moment';\n\n// Style \nimport styled from '@emotion/styled';\n\n const SchedulE = styled.div({\n\t padding: '0',\n\t marginBottom: '15px',\n\t '.boxS': {\n\t\t overflow:'auto',\n\t\t maxHeight: '200px',\n\t },\n\t '.dataNumber': {\n\t\t margin: '0 3px 0 0',\n\t\t fontSize: '15px',\n\t\t fontWeight: '600',\n\t\t width: '48px'\n\t }\n });\n\nconst Schedule = ({global_schedule}) => {\n\n\tif (!global_schedule[0]) {\n\t\treturn (\n\t\t\t<SchedulE  className=\"col-12\">\n\t\t\t\t<h5>Расписания нет...</h5>\n\t\t\t</SchedulE>\n\t\t);\n\t}\n\n\tlet SpanDay = global_schedule.map((item) => {\n\n\t\tlet date = moment(item.date, 'DD.MM.YYYY').format('DD.MM');\n\n\t\treturn (\n\t\t\t<span key={item.date} className=\"badge bg-light text-dark dataNumber\">{date}</span>\n\t\t);\n\t});\n\n\treturn (\n\t\t<SchedulE className=\"col-12\">\n\t\t\t<h5>{global_schedule[0].duration[0]} до {global_schedule[0].duration[1]}</h5>\n\t\t\t<div className=\"boxS\">\n\t\t\t\t{SpanDay}\n\t\t\t</div>\n\t\t</SchedulE>\n\t);\n};\n\nexport default Schedule;","import React, {useState, useEffect} from 'react';\nimport Url from './../../../../url/url.js';\nimport localStorage_change from './../../../../#localStorage_change.js';\nimport {swallGood, swallErr} from './../../../../alert/alert.js';\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\n\nimport moment from 'moment';\nimport { Modal, Button } from 'antd';\n\n// Style\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\nconst axios = require('axios'); // AJAX\n\nconst ScheduleForm = ({updateGroup, groupID}) => {\n\n\t// Modal\n\tconst [isModalVisible, setIsModalVisible] = useState(false);\n\tconst [loading, setLoading] = useState(false)\n\n\tconst showModal = () => {\n\t\tsetIsModalVisible(true);\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetIsModalVisible(false);\n\t};\n\t// /Modal\n\n\tlet dataInputs = {\n\t\tstartDate: '',\n\t\tendDate: '',\n\t\tduration_Start: '',\n\t\tduration_End: '',\n\t\tweekDay: []\n\t};\n\n\tlet weekDay = {\n\t\tone: [],\n\t\ttwo: [],\n\t\tthree: [],\n\t\tfour: [],\n\t\tfive: [],\n\t\tsix: [],\n\t\tzero: []\n\t}; \n\n\tlet schedule = [];\n\n\tconst FindNeedle = () => {\n\n\t\tlet dayNumber = moment(dataInputs.startDate).day();\n\n\t\tlet {endDate} = dataInputs;\n\t\tlet day_end = moment(endDate).format('DD.MM.YYYY');\n\n\t\tlet day = moment(dataInputs.startDate).format('DD.MM.YYYY'),\n\t\t\tday_number = moment(day, 'DD.MM.YYYY').day(),\n\t\t    inc = 1;\n\n\t\tconst PushDay = () => {\n\t\t\tdataInputs.weekDay.forEach((item) => {\n\n\t\t\t\tif (item == day_number) {\n\t\t\t\t\tlet scheduleItem = {\n\t\t\t\t      \tdate: day,\n\t\t\t\t      \tduration: [dataInputs.duration_Start, dataInputs.duration_End],\n\t\t\t\t\t    status: '',\n\t\t\t\t\t    tutor: '',\n\t\t\t\t\t    paid: false,\n\t\t\t\t\t    title: ''\n\t\t\t\t\t};\n\t\t\t\t\tschedule.push(scheduleItem);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tPushDay();\n\n\t\tdo {\n\t\t\tday = moment(dataInputs.startDate).day(dayNumber + inc).format('DD.MM.YYYY');\n\t\t\tday_number = moment(day, 'DD.MM.YYYY').day();\n\n\t\t\tPushDay();\n\n\t\t\tinc++;\n\t\t} while (day != day_end);\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${Url}/CRM/Groups/${groupID}/Schedule`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t},\n\t\t\tdata: schedule\n\t\t})\n\t\t.then((res) => {\n\n\t\t\tdocument.querySelectorAll(\"input\").forEach((item) => {item.value = ''});\n\t\t\tsetLoading(false)\n\t\t\tsetIsModalVisible(false)\n\t\t\tswallGood('Расписание создано', '');\n\t    \tfor (let key in weekDay) {\n\t\t\t\tweekDay[key] = [];\n\t\t\t}\n\t\t\tupdateGroup(); // Обновить группу.\n\t\t})\n\t\t.catch((error) => {\n\t\t\terrorHandler(FindNeedle, error)\n\t\t})\n\n\t\tconsole.log(schedule);\n\t};\n\n\n\tconst FormChance = () => {\n\t\tsetLoading(true)\n\n\t\tfor (let key in weekDay) {\n\t\t\tif (weekDay[key][0]) {\n\t\t\t\tdataInputs.weekDay.push(weekDay[key][1]);\n\t\t\t}\n\t\t}\n\t\n\t\tFindNeedle();\n\t};\n\n\tconst ScheduleForm = styled.div({\n\t\t'.form-check': {\n\t\t\tmarginRight: '12px',\n\t\t\tpaddingLeft: '100px'\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<i onClick={showModal}\n\t\t\t\t\t  className=\"bi bi-calendar2-plus\" \n\t\t\t\t\t  style={{fontSize: \"26px\", color: '#17a2b8', cursor: 'pointer'}}\n\t\t\t\t\t  ></i>\n\n\t\t\t<Modal \n\t\t\t\ttitle=\"Добавить расписание\" \n\t\t\t\tvisible={isModalVisible} \n\t\t\t\tonCancel={handleCancel}\n\t\t\t\twidth={1000}\n\t\t\t\tfooter={[\n\t\t\t\t\t<Button key=\"onCancel1\" onClick={handleCancel}>\n\t\t\t\t\t\tОтмена\n\t\t\t\t\t</Button>,\n\t\t\t\t\t<Button \n\t\t\t\t\t\tkey=\"onOk1\" \n\t\t\t\t\t\tonClick={FormChance}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tСохранить\n\t\t\t\t\t</Button>\n\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t<ScheduleForm>\n\t\t\t\t\t<form className=\"row g-3\">\n\t\t\t        \t<div className=\"col-md-6\">\n\t\t\t\t\t\t    <label className=\"form-label\">Период:</label>\n\t\t\t\t\t\t    <div className=\"row periud\">\n\t\t\t\t\t\t    \t<input\n\t\t\t\t\t\t    \t\tonChange={(e) => {dataInputs.startDate = e.target.value}} \n\t\t\t\t\t\t    \t\ttype=\"date\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t\t    <div className=\"input-group-text\">до</div>\n\t      \t\t\t\t\t\t<input\n\t      \t\t\t\t\t\t\tonChange={(e) => {dataInputs.endDate = e.target.value}} \n\t      \t\t\t\t\t\t\ttype=\"date\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t    <label className=\"form-label\">Время занятия:</label>\n\t\t\t\t\t\t    <div className=\"row periud\">\n\t\t\t\t\t\t    \t<input\n\t\t\t\t\t\t    \t\tonChange={(e) => {dataInputs.duration_Start = e.target.value}} \n\t\t\t\t\t\t    \t\ttype=\"time\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t\t    <div className=\"input-group-text\">до</div>\n\t      \t\t\t\t\t\t<input\n\t      \t\t\t\t\t\t\tonChange={(e) => {dataInputs.duration_End = e.target.value}} \n\t      \t\t\t\t\t\t\ttype=\"time\" className=\"form-control col-5\"/>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t<label className=\"form-label\">Дни недели:</label>\n\t\t\t\t\t\t    <div className=\"row col-12\">\n\t\t\t\t\t\t    \t<div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.one = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}} \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='1' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tПн\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.two = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='2' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tВт\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.three = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='3' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tСр\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.four = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='4' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tЧт\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.five = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}} \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='5' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tПт\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input\n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.six = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}}  \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='6' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tСб\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t    <div className=\"form-check\">\n\t\t\t\t\t\t\t        <input \n\t\t\t\t\t\t\t        \tonChange={(e) => {\n\t\t\t\t\t\t\t        \t\tweekDay.zero = [e.target.checked, e.target.value]\n\t\t\t\t\t\t\t        \t}} \n\t\t\t\t\t\t\t        \tclassName=\"form-check-input\" value='0' type=\"checkbox\"/>\n\t\t\t\t\t\t\t      \t<label className=\"form-check-label\">\n\t\t\t\t\t\t\t        \tВс\n\t\t\t\t\t\t\t      \t</label>\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t</div>\n\t\t\t        </form>\n\t\t\t    </ScheduleForm>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default ScheduleForm;","import React, {useState, useEffect} from 'react';\nimport {Modal, Button} from 'antd';\n\nimport Url from './../../../../url/url.js';\n\nimport {loading, Swalclose} from './../../../../alert/alert.js';\n\nimport moment from 'moment';\n\n//Style\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst AddStydent_Group = ({PupilsGroup, http, title, pageId, update, schedule}) => {\n\n    // Modal\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n\n    const handleCancel = () => {\n        setIsModalVisible(false);\n    };\n    // /Modal\n\n    const [pupils, setPupils] = useState([]);\n\n    const getPupils = () => {\n        axios({\n            method: 'post',\n            url: `${Url}${http}/find?limit=150&offset=0`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n\n            let {data} = res;\n            setPupils([...data])\n\n            let arr = [],\n                itn = 0;\n\n            data.forEach((itemS, i) => {\n\n                if (itemS._id !== PupilsGroup[itn]._id) {\n                    arr.push(itemS);\n                }\n\n                if (PupilsGroup.length - 1 > itn) {\n                    itn++;\n                }\n            })\n        })\n        .catch(error => {\n            errorHandler(getPupils, error)\n        })\n    };\n\n    const changeSchedulePupil = (idPupil) => {\n\n        let newSchedule = [];\n\n        schedule.forEach((item) => {\n\n            let day = moment(item.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\n                time_day = moment().diff(day, 'day');\n\n            if (time_day <= 0) {\n                newSchedule.push(item);\n            }\n        })\n\n        axios({\n            method: 'put',\n            url: `${Url}/CRM/Groups/${pageId}/Pupils/${idPupil}/Schedule`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: newSchedule\n        })\n        .then((res) => {\n            update();\n            Swalclose();\n        })\n        .catch(error => {\n            errorHandler(changeSchedulePupil, error)\n        })\n    }\n    const addPUPILS_Group = (data, idPupil) => {\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/${pageId}/Pupils`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                ids: data\n            }\n        })\n        .then(() => {\n            changeSchedulePupil(idPupil);\n        })\n        .catch((error) => {\n            errorHandler(addPUPILS_Group, error)\n        })\n    }\n\n    useEffect(() => {\n        getPupils()\n    }, []);\n\n    let PUPILS_search_Li = pupils.map((item, i) => {\n\n        const choice = () => {\n            loading('Ученик добавляется', 'Пожалуйста подождите');\n            addPUPILS_Group([item._id], item._id);\n        };\n\n        const Li = styled.li({\n            span: {\n                cursor: 'pointer'\n            }\n        });\n        return (\n            <Li key={item._id}\n                onClick={choice}\n                className=\"list-group-item\">\n                <span className=\"badge bg-warning text-dark\">{item.surname} {item.name}</span>\n            </Li>\n        );\n    });\n\n    const Span = styled.span({\n        cursor: 'pointer'\n    });\n\n    return (\n        <>\n            <Span\n                className=\"btn \"\n                onClick={showModal}\n            >\n                <i className=\"bi bi-person-plus-fill\" style={{color: '#ffc107', fontSize: '24px'}}></i>\n            </Span>\n\n            <Modal\n                title={`Добавить ${title}`}\n                visible={isModalVisible}\n                onCancel={handleCancel}\n                width={600}\n                footer={[\n                    <Button key=\"onCancel1\" onClick={handleCancel}>\n                        Отмена\n                    </Button>\n                ]}\n            >\n                <div className=\"row addPUPILS\">\n                    <div className=\"col-12 input-group\">\n                        <input\n                            id=\"fort\"\n                            onChange={() => {\n                            }}\n                            autoComplete=\"off\"\n                            type=\"search\"\n                            className=\"form-control\"\n                            name=\"q\"\n                            placeholder=\"Поиск находится в разработке...\"\n                        />\n\n                        <ul className=\"col-12 list-group list-group-flush\">\n                            {PUPILS_search_Li}\n                        </ul>\n                    </div>\n                </div>\n            </Modal>\n        </>\n    );\n\n};\n\nexport default AddStydent_Group;","import React, {useState, useEffect} from 'react';\nimport { Menu, Dropdown } from 'antd';\n\nimport Url from './../../../../../url/url.js';\nimport localStorage_change from './../../../../../#localStorage_change.js';\nimport RestrictionMessage from '../../../../restriction-message/restriction-message.js'\n\nimport {Toast, loading, Swalclose} from './../../../../../alert/alert.js';\n\n// Style\nimport styled from '@emotion/styled';\n\nconst InfoTable = ({Data_ALL, updetePage}) => {\n\n\tlet newInfo = {};\n\n\tconst axios = require('axios'); // AJAX\n\n\tconst [visible, setVisible] = useState('')\n\n\tconst {group_name, tutor, level, places, pupils, _id} = Data_ALL;\n\n\tlet PUPILS0 = pupils? pupils : ''\n\n\tlet tutorText = 'Учитель не добавлен...'\n\n\tif (tutor) {\n\t\tlet { surname, name, midname } = tutor\n\t\ttutorText = `${surname} ${name} ${midname}`\n\t}\t  \n\n\tconst [AllTutor, setAllTutor] = useState([{\n\t\tname: 'Учителей не обнаруженно...',\n\t\tsurname: '',\n\t\tmidname: '',\n\t\t_id: '546456'\n\t}]);\n\n\tconst getTUTOR = (offset = 0) => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/AdminPanel/CRMAccounts?limit=20&offset=${offset}&accountType=teacher`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tlet {data} = res\n\t\t\tconsole.log(data)\n\t\t\tsetAllTutor(data)\n\t\t})\n\t\t.catch((error) => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t\tif (error.response.status == 401) {\n\n\t\t\t\t\tif (error.response.data.message == 'TOKEN_EXPIRED') {\n\n\t\t\t\t\t\tlocalStorage_change(error.response.data.token);\n\t\t\t\t\t\tgetTUTOR();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlocalStorage.removeItem('tokenID');\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t}\n\t\t})\n\t}\n\n\tconst onChangeInfo = () => {\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then((res) => {\n\t\t\tupdetePage(res.data);\n\t\t\tconsole.log(newInfo);\n\t\t\t\n\t\t\tSwalclose();\n\t\t\tToast.fire({\n\t\t\t\ticon: 'success',\n\t\t\t\ttitle: 'Изменения сохранены'\n\t\t\t});\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tconst onAddTutur = (id) => {\n\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${Url}/CRM/Groups/${_id}/Teacher?tutor_id=${id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t}\n\t\t})\n\t\t.then(() => {\n\t\t\tonChangeInfo()\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tlet A_Tutor = AllTutor.map((item, i) => {\n\t\tlet {name, surname, midname} = item\n\n\t\treturn (\n\t\t\t<option key={item._id} value={item._id}>{surname} {name} {midname}</option>\n\t\t\t);\n\t});\n\n\tuseEffect(() => {\n\t\tgetTUTOR()\n\t}, [])\n\n\tconst onChangeInfoItem = () => {\n\n\t\tloading('Изменения загружаются', 'Пожалуйста подождите');\n\n\t\taxios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${Url}/CRM/Groups/${_id}`,\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8',\n\t\t\t\t'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n\t\t\t},\n\t\t\tdata: newInfo\n\t\t})\n\t\t.then(() => {\n\t\t\tonChangeInfo();\n\t\t})\n\t\t.catch(error => {\n\t\t\tif (error.response) {\n\t\t\t\tRestrictionMessage(error.response.status)\n\t\t\t}\n\t\t})\n\t}\n\n\tconst UL = styled.ul({\n\t\twidth: '318px',\n\t\tpadding: '10px',\n\t\tbackground: 'rgba(0, 0, 0, 0.5)',\n\t\t'.save': {\n\t\t\tmarginTop: '16px',\n\t\t\tcursor: 'pointer'\n\t\t},\n\t\tli: {\n\t\t\tborder: 'none'\n\t\t}\n\t})\n\n\tconst Box = styled.span({\n\t\tfontSize: '13px'\n\t})\n\t// +^\n\tconst menuGROUP_NAME = (\n\t    <Menu>\n\t        <Menu.Item>\n\t            <input\n\t                placeholder='Изменить название'\n\t                onChange={(e) => {\n\t                    newInfo = { group_name: `${e.target.value}` };\n\t                }}\n\t                type=\"name\"\n\t                className=\"text-dark form-control col-12\"\n\t            />\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuTutor = (\n\t    <Menu>\n\t        <Menu.Item>\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t    <select\n\t\t\t\t        onChange={(e) => {\n\t\t\t\t            onAddTutur(e.target.value);\n\t\t\t\t        }}\n\t\t\t\t        className=\"form-control\"\n\t\t\t\t    >\n\t\t\t\t        <option></option>\n\t\t\t\t        {A_Tutor}\n\t\t\t\t    </select>\n\t\t\t\t</div>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuLEVEL = (\n\t    <Menu>\n\t        <Menu.Item>\n\t\t\t\t<div className=\"input-group\">\n\t\t\t\t    <select\n\t\t\t\t        onChange={(e) => {\n\t\t\t\t            newInfo = { level: +e.target.value };\n\t\t\t\t        }}\n\t\t\t\t        className=\"form-control\"\n\t\t\t\t    >\n\t\t\t\t        <option></option>\n\t\t\t\t        <option value=\"1\">1 класс</option>\n\t\t\t\t        <option value=\"2\">2 класс</option>\n\t\t\t\t        <option value=\"3\">3 класс</option>\n\t\t\t\t        <option value=\"4\">4 класс</option>\n\t\t\t\t    </select>\n\t\t\t\t</div>\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\tconst menuPLACES = (\n\t\t<Menu>\n\t        <Menu.Item>\n\t\t\t\t<input\n\t\t\t\t\tplaceholder=\"Изменить колличество мест\"\n\t\t\t\t\tonChange={(e) => {newInfo = {places: +e.target.value}}}\n\t\t\t\t\ttype=\"number\" className=\"text-dark form-control col-12\"/>\n\t        </Menu.Item>\n\t        <Menu.Item>\n\t            <Box\n\t                onClick={() => {\n\t                    onChangeInfoItem();\n\t                    setVisible(\"\");\n\t                }}\n\t                className=\"badge bg-warning text-dark save\"\n\t            >\n\t                Сохранить\n\t            </Box>\n\t        </Menu.Item>\n\t    </Menu>\n\t)\n\n\tconst changeData = (menu, data_name) => {\n\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t    overlay={menu}\n\t\t\t    visible={() => {\n\t\t\t        if (visible === data_name) {\n\t\t\t            return true;\n\t\t\t        } else {\n\t\t\t            return false;\n\t\t\t        }\n\t\t\t    }}\n\t\t\t    trigger={[\"click\"]}\n\t\t\t>\n\t\t\t    <i  className=\"bi bi-pencil\" \n\t\t\t\t    onClick={() => {\n\t\t\t\t    \tif (visible === data_name) {\n\t\t\t\t    \t\tsetVisible('')\n\t\t\t\t    \t} else {\n\t\t\t\t    \t\tsetVisible(data_name)\n\t\t\t\t    \t}\n\t\t\t\t    }}\n\t\t\t\t    style={{fontSize: \"20px\", color: '#17a2b8', cursor: 'pointer'}}\n\t\t\t\t    ></i>\n\t\t\t</Dropdown>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<li className=\"list-group-item\">Название: <span className=\"badge bg-info text-light\">{group_name}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t    {changeData(menuGROUP_NAME,'group_name')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Учитель: <span className=\"badge bg-warning text-dark\">{tutorText}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuTutor,'tutor')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Класс: <span className=\"badge bg-success\">{level}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuLEVEL,'level')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Mест в группе: <span className=\"badge bg-info text-dark\">{places}</span>\n\t\t\t\t<div className={`btn-group`}>\n\t\t\t\t\t{changeData(menuPLACES,'places')}\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li className=\"list-group-item\">Свободных мест: <span className=\"badge bg-light text-dark\">{places - PUPILS0.length}</span></li>\n\t\t</>\n\t);\n}\n\nexport default InfoTable;","import React, {useState, useEffect} from 'react';\nimport {useParams} from \"react-router-dom\";\n\nimport Schedule from './../../#schedule/schedule.js';\nimport ScheduleForm from './../../#schedule/form/scheduleForm.js';\nimport PupilsSandTime from './../group-page/PupilsSandTime/PupilsSandTime.js';\nimport AddStydentGroup from './../../#more-functions/add-student_group/add-Student_Group.js';\nimport InfoTable from './Info-table/InfoTable.js';\n\nimport Url from './../../../../url/url.js';\n// Style \nimport './group-page.css';\nimport styled from '@emotion/styled';\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst GroupPage = () => {\n\n    let dataGroup = useParams().id\n\n    let localSchedule = {};\n    const [DataALL, setDataALL] = useState({\n        pupils: [\n            {\n                _id: '564564',\n                localSchedule: localSchedule\n            }\n        ],\n        group_name: \"Загрузка...\",\n        tutor: \"\",\n        level: '',\n        places: '',\n        global_schedule: [\n            {\n                duration: ['--:--', '--:--']\n            }\n        ],\n        _id: '6456'\n    });\n\n    const {group_name, pupils, global_schedule, _id} = DataALL;\n\n    let arrPayHistory = [];\n    if (pupils) {\n        pupils.forEach((item) => {\n\n            if (item.paymentHistory) {\n                item.paymentHistory.forEach((itemLocal) => {\n                    if (itemLocal.group_id == _id) {\n                        arrPayHistory.push(itemLocal);\n                    }\n                });\n            }\n        });\n    }\n\n    const axios = require('axios'); // AJAX\n\n    const getGroup_Id = () => {\n        axios({\n            method: 'get',\n            url: `${Url}/CRM/Groups/${dataGroup}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            setDataALL(res.data);\n        })\n        .catch((error) => {\n            errorHandler(getGroup_Id, error)\n        });\n    }\n\n    useEffect(() => {\n        getGroup_Id();\n    }, []);\n\n    const breakpoints = [767],\n        mq = breakpoints.map(\n            bp => `@media (max-width: ${bp}px)`\n        );\n\n    const GroupPage = styled.div({\n        marginTop: '0px',\n        margin: '0 auto',\n        '.pad': {\n            padding: '0px',\n            paddingRight: '10px',\n            [mq[0]]: {\n                paddingRight: '0px'\n            }\n        },\n        '.infoLog': {\n            marginBottom: '10px',\n            padding: '0',\n            [mq[0]]: {\n                paddingBottom: '10px'\n            },\n            '.calendar': {\n                margin: '9px 0',\n                marginRight: '10px',\n                fontSize: '15px'\n            }\n        },\n        '.group-name': {\n            padding: '0',\n            borderBottom: '1px solid #0dcaf0',\n            [mq[0]]: {\n                borderRight: 'none'\n            }\n        },\n        '.time': {\n            margin: '0',\n            padding: '0',\n            h5: {\n                fontSize: '1.25rem'\n            }\n        },\n        '.ulBox': {\n            borderRadius: '15px',\n            padding: '0px'\n        },\n        '.editing': {\n            background: '#fff',\n            borderRadius: '10px 10px 0 0',\n            i: {\n                marginLeft: '95%',\n                cursor: 'pointer'\n            }\n        },\n        li: {\n            backgroundColor: 'none',\n            span: {\n                fontSize: '16px',\n                margin: '0 5px 5px 0'\n            }\n        }\n    });\n    const TablePupils = styled.div({\n        background: '#fff',\n        margin: '10px 0',\n        padding: '10px',\n        borderRadius: '15px',\n        '& > h3': {\n            fontSize: '22px'\n        }\n    });\n\n    let PUPILS_List = ''\n\n    if (pupils) {\n        PUPILS_List = pupils.map((item) => {\n            return (\n                <span key={item._id} className=\"badge bg-info text-dark\">{`${item.name} ${item.surname}`}</span>\n            );\n        });\n    }\n\n    let PUPILSandTIME = ''\n\n    if (pupils) {\n        PUPILSandTIME = pupils.map((itemG) => {\n            return <PupilsSandTime key={itemG._id} itemG={itemG} dataGroup={dataGroup}\n                                   getGroup_Id={getGroup_Id} setData={setDataALL} surname={itemG.surname}\n                                   name={itemG.name} type='group'/>;\n        });\n    }\n\n    let addPupils_g =\n        <AddStydentGroup\n            PupilsGroup={pupils}\n            schedule={global_schedule}\n            update={getGroup_Id}\n            pageId={dataGroup}\n            http='/CRM/Pupils'\n            title='ученика'\n        />\n    return (\n        <>\n            <GroupPage className=\"container row col-12\">\n                <div className=\"col-12 col-md-6 pad\">\n                    <div className=\"infoLog align-self-start col-md-12 col-12\">\n                        <div className=\"group-name col-12 col-lg-12\">\n                            <h3>{group_name}</h3>\n                        </div>\n                        <div className=\"time col-md-12 row\">\n                            <h6 className=\"calendar badge bg-info text-dark\">Расписание: </h6>\n                            {/*{calendarPlus}*/}\n                            <ScheduleForm updateGroup={getGroup_Id} groupID={dataGroup}/>\n                            <Schedule global_schedule={global_schedule ? global_schedule : []}/>\n                        </div>\n                        {/*<PayHistory pay_History={arrPayHistory}/>*/}\n                    </div>\n                </div>\n                <div className=\"col-md-6 ulBox\">\n                    <ul className=\"list-group list-group-flush\">\n                        <InfoTable Data_ALL={DataALL} updetePage={setDataALL}/>\n                        <li className=\"list-group-item\">Ученики: {PUPILS_List} {addPupils_g}</li>\n                    </ul>\n                </div>\n                <TablePupils className=\"container col-12\">\n                    <h3 className=\"badge bg-warning\">Ученики:</h3>\n                    {PUPILSandTIME}\n                </TablePupils>\n            </GroupPage>\n        </>\n    );\n};\nexport default GroupPage;\n// useParams()","import React from \"react\"\nimport styled from \"@emotion/styled\"\n\nconst LoaderTag = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: ${props => props.precentage ? \"100%\" : \"100vh\"};\n  .lds-ring {\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n  }\n  .lds-ring div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border: 8px solid #001529;\n    border-radius: 50%;\n    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: #001529 transparent transparent transparent;\n  }\n  .lds-ring div:nth-of-type(1) {\n    animation-delay: -0.45s;\n  }\n  .lds-ring div:nth-of-type(2) {\n    animation-delay: -0.3s;\n  }\n  .lds-ring div:nth-of-type(3) {\n    animation-delay: -0.15s;\n  }\n  @keyframes lds-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n`\n\nexport const Loader = ({ precentage }) => {\n  return (\n    <LoaderTag precentage={precentage}>\n      <div className=\"lds-ring\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </LoaderTag>\n  );\n};","// imports from plugins\nimport { Tooltip } from \"antd\"\nimport React from \"react\"\n\n// imports from files of project\nimport { FunnelStepText } from \"./sales-funnel-styled\"\n\nexport const tooltipNeedsCheckerOfSingleString = (length, string, dop = '', maxLength = 24, width = \"\", dopTooltipText = \"\") => {\n  if (length + dop.length > maxLength) {\n    return (\n      <Tooltip placement=\"leftTop\" title={`${dopTooltipText}${dopTooltipText !== \"\" ? \" \" : \"\"}${string}`}>\n        <FunnelStepText width={width}>{dop} {string}</FunnelStepText>\n      </Tooltip>\n    )\n  }\n  return <FunnelStepText>{dop} {string}</FunnelStepText>\n}\n\nexport const tooltipCheckerOfTrioString = (length, stud, dop = '', maxLength = 24, width = \"\", dopTooltipText = \"\") => {\n  if (length + dop.length > maxLength) {\n    return (\n      <Tooltip placement=\"leftTop\" title={`${dopTooltipText}${dopTooltipText !== \"\" ? \" \" : \"\"}${stud.midname} ${stud.name} ${stud.surname}`}>\n        <FunnelStepText width={width}>{stud.midname} {stud.name} {stud.surname}</FunnelStepText>\n      </Tooltip>\n    )\n  }\n  return <FunnelStepText>{stud.midname} {stud.name} {stud.surname}</FunnelStepText>\n}","// imports from plugins\nimport React, { useState } from \"react\"\nimport { Button, Modal } from \"antd\"\n\n// imports from files of project\nimport returnAge from \"./../return-age/returnAge\"\nimport { BoldSpan } from \"./helpers/sales-funnel-styled\"\n\nexport const SalesFunnelModalStudent = ({ student }) => {\n\n\t// data\n\tconst genderFormat = new RegExp(/[Муж|Жен]/g)\n\tconst { name, midname, surname, gender, dateOfBirth, phone, parentPhone, discord, parentFullname, minPaidSubscruption } = student\n\tconst title = `Ученик: ${midname} ${name} ${surname}`\n\t// data\n\n\t// useState\n\tconst [visibleModalOnStudent, setVisibleModalOnStudent] = useState(false)\n\t// useState\n\n\t// Methods\n\tconst showModalOnStudent = () => {\n\t\tsetVisibleModalOnStudent(true)\n\t}\n\tconst handleOkOnStudent = () => {\n\t\tsetVisibleModalOnStudent(false)\n\t}\n\tconst handleCancelOnStudent = () => {\n\t\tsetVisibleModalOnStudent(false)\n\t}\n\t// Methods\n\n\treturn (\n\t\t<>\n\t\t\t<Button type=\"primary\" size=\"small\" onClick={showModalOnStudent}>Полностью</Button>\n\t\t\t<Modal width={650} title={title} visible={visibleModalOnStudent} onCancel={handleCancelOnStudent}\n\t\t\t\t\t\t onOk={handleOkOnStudent}>\n\t\t\t\t<p><BoldSpan>ФИО:</BoldSpan> {name} {midname} {surname}</p>\n\t\t\t\t<p><BoldSpan>ФИО Родителя:</BoldSpan> {parentFullname}</p>\n\t\t\t\t<p><BoldSpan>Пол:</BoldSpan> {gender.match(genderFormat).join(\"\")}</p>\n\t\t\t\t<p><BoldSpan>Возраст:</BoldSpan> {returnAge(dateOfBirth)}</p>\n\t\t\t\t<p><BoldSpan>Номер родителя:</BoldSpan> {parentPhone}</p>\n\t\t\t\t<p><BoldSpan>Номер ребёнка:</BoldSpan> {phone || \"Не указано\"}</p>\n\t\t\t\t<p><BoldSpan>Ник в дискорде:</BoldSpan> {discord || \"Не указано\"}</p>\n\t\t\t\t<p><BoldSpan>Минимальный оплаченный абонемент:</BoldSpan> {minPaidSubscruption || 0}₽</p>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}","// imports from plugins\r\nimport React, {useEffect, useCallback, useState} from \"react\"\r\nimport {Draggable} from \"react-beautiful-dnd\"\r\nimport {Pagination} from \"antd\"\r\n\r\n// imports from files of project\r\nimport {FunnelStepStudent} from \"./helpers/sales-funnel-styled\"\r\nimport {Loader} from \"./helpers/loader\"\r\nimport {tooltipCheckerOfTrioString} from \"./helpers/tooltip-functions\"\r\nimport {SalesFunnelModalStudent} from \"./sales-funnel-modal-student\"\r\nimport {axiosGetStudentsEveryStepByPage} from \"./helpers/axios-requests\"\r\n\r\nexport const SalesFunnelStudents = ({Url, card, pupils, pageSize}) => {\r\n\r\n    // data\r\n    const {pupilsList, setPupilsList} = pupils\r\n    // data\r\n\r\n    // useState\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [pupilsCount, setPupilsCount] = useState(card.pupilsCount)\r\n    // useState\r\n\r\n    // useCallback\r\n    const nextPage = useCallback(async () => {\r\n        setLoaded(prev => prev = true)\r\n        const {students, count} = await axiosGetStudentsEveryStepByPage(Url, {pageSize, currentPage}, card._id)\r\n        setPupilsList(prev => returnNewPupilsList(prev, students, card._id))\r\n        setPupilsCount(prev => prev = count)\r\n        setLoaded(prev => prev = false)\r\n    }, [Url, currentPage, card._id, pageSize, setPupilsList])\r\n    // useCallback\r\n\r\n    // useEffect\r\n    useEffect(() => {\r\n        nextPage()\r\n    }, [Url, currentPage, card._id, pageSize, setPupilsList, nextPage])\r\n    // useEffect\r\n\r\n    // Methods\r\n    const returnNewPupilsList = (previous, students, cardId) => {\r\n        let newArray\r\n\r\n        const olderArray = previous.filter(stud => stud.salesFunnelStep !== cardId)\r\n        let filteredArray = previous.filter(stud => stud.salesFunnelStep === cardId)\r\n        filteredArray = students\r\n        newArray = [...olderArray, ...filteredArray]\r\n\r\n        return newArray\r\n    }\r\n    const onChangePaginationHandler = (nextNumberPage) => {\r\n        setCurrentPage(prev => prev = nextNumberPage)\r\n    }\r\n    // Methods\r\n\r\n    return (\r\n        <>\r\n            <Pagination simple current={currentPage} total={(Math.ceil(pupilsCount / pageSize) * 10) || 10}\r\n                        onChange={onChangePaginationHandler}/>\r\n            {loaded ? <Loader\r\n                precentage={true}/> : pupilsList.filter(stud => stud.salesFunnelStep === card._id).map((stud, index) => {\r\n                if (card._id === stud.salesFunnelStep) return (\r\n                    <Draggable key={stud._id} draggableId={`${stud._id}`} index={index}>\r\n                        {provided => (\r\n                            <FunnelStepStudent background={card.background}\r\n                                               color={card.color} {...provided.draggableProps} {...provided.dragHandleProps}\r\n                                               ref={provided.innerRef}>\r\n                                <div className=\"funnelStepStudent__first--info\">\r\n                                    <div>\r\n                                        {tooltipCheckerOfTrioString(`${stud.midname} ${stud.name} ${stud.surname}`.length, stud, \"\", 25, \"230px\", \"ФИО:\")}\r\n                                    </div>\r\n                                    <div>\r\n                                        Тел.Родителя: {stud.parentPhone}\r\n                                    </div>\r\n                                    <div>\r\n                                        Мин.Абонемент: {stud.minPaidSubscruption || 0}₽\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <SalesFunnelModalStudent student={stud}/>\r\n                            </FunnelStepStudent>\r\n                        )}\r\n                    </Draggable>\r\n                )\r\n            })}\r\n        </>\r\n\r\n    )\r\n}","// imports from plugins\r\nimport React, {useEffect, useState, useCallback} from \"react\"\r\nimport {DragDropContext, Droppable} from \"react-beautiful-dnd\"\r\n\r\n// imports from files of project\r\nimport {\r\n    FunnelSection,\r\n    FunnelStep,\r\n    FunnelStepAbonementSum,\r\n    FunnelStepHeader,\r\n    Wrapper\r\n} from \"./helpers/sales-funnel-styled\"\r\nimport {SalesFunnelModal} from \"./sales-funnel-modal\"\r\nimport {Loader} from \"./helpers/loader\"\r\nimport {tooltipNeedsCheckerOfSingleString} from \"./helpers/tooltip-functions\"\r\nimport UrlProd from \"../../../url/url\"\r\nimport {SalesFunnelStudents} from \"./sales-funnel-students\"\r\nimport {axiosGetFunnelSteps, axiosUpdateStudent} from \"./helpers/axios-requests\"\r\n\r\nconst SalesFunnel = () => {\r\n\r\n    // data\r\n    const status = 1\r\n    const Url = status ? UrlProd : \"https://dvmncrm.herokuapp.com\"\r\n    const pageSize = 8\r\n    // data\r\n\r\n    // useState\r\n    const [loaded, setLoaded] = useState(true)\r\n    const [salesFunnelList, setSalesFunnelList] = useState([])\r\n    const [pupilsList, setPupilsList] = useState([])\r\n    // useState\r\n\r\n    // useCallback\r\n    const salesFunnelFromServer = useCallback(async () => {\r\n        const salesFunnelSteps = await axiosGetFunnelSteps(Url, pageSize)\r\n        setSalesFunnelList(prev => prev = salesFunnelSteps)\r\n        setPupilsList(prev => prev = salesFunnelSteps.map(step => step.pupils).flat(2))\r\n        setLoaded(prev => prev = false)\r\n    }, [Url])\r\n    // useCallback\r\n\r\n    // useEffect\r\n    useEffect(() => {\r\n        salesFunnelFromServer()\r\n    }, [Url, salesFunnelFromServer])\r\n    // useEffect\r\n\r\n    // Methods\r\n    const onDragEndHandler = async (result) => {\r\n        if (!result.destination) {\r\n            return setPupilsList(prev => prev)\r\n        }\r\n\r\n        const array1 = pupilsList.filter((stud) => stud.salesFunnelStep === result.source.droppableId)\r\n        const array2 = pupilsList.filter((stud) => stud.salesFunnelStep === result.destination.droppableId)\r\n        const [deletingElement] = array1.splice(result.source.index, 1)\r\n\r\n        if (result.source.droppableId === result.destination.droppableId) {\r\n            array1.splice(result.destination.index, 0, deletingElement)\r\n\r\n            return setPupilsList(prev => Array.from(new Set([...prev, ...array1, ...array2])))\r\n        }\r\n\r\n        deletingElement.salesFunnelStep = result.destination.droppableId\r\n        await axiosUpdateStudent(Url, deletingElement._id, deletingElement)\r\n        array2.splice(result.destination.index, 0, deletingElement)\r\n        if (array2.length > pageSize || array1.length === 0) {\r\n            setLoaded(prev => prev = true)\r\n            setLoaded(prev => prev = false)\r\n        }\r\n\r\n        return setPupilsList(prev => Array.from(new Set([...prev, ...array1, ...array2])))\r\n    }\r\n    // Methods\r\n\r\n    return (\r\n        <Wrapper>\r\n            {loaded ? <Loader/> : <FunnelSection jstctn={salesFunnelList.length < 6 ? true : false}>\r\n                <DragDropContext onDragEnd={onDragEndHandler}>\r\n                    {salesFunnelList.map(card =>\r\n                        <FunnelStep key={card._id} className={\"card\"}>\r\n                            <FunnelStepHeader background={card.background} color={card.color}>\r\n                                {tooltipNeedsCheckerOfSingleString(card.name.length, card.name, \"\", 30, \"220px\")}\r\n                                {card.order === 1 ?\r\n                                    <SalesFunnelModal loader={{loaded, setLoaded}} status={status}\r\n                                                      funnel={salesFunnelList} pageSize={pageSize} Url={Url}\r\n                                                      pupils={{pupilsList, setPupilsList}}/> : \"\"}\r\n                            </FunnelStepHeader>\r\n                            <FunnelStepAbonementSum background={card.background} color={card.color}>\r\n                                {card.minPaidSubscriptionsAmount || 0}руб.\r\n                            </FunnelStepAbonementSum>\r\n                            <Droppable droppableId={`${card._id}`}>\r\n                                {provide => (\r\n                                    <div className=\"droppable-container\" {...provide.droppableProps}\r\n                                         ref={provide.innerRef}>\r\n                                        <SalesFunnelStudents card={card} pupils={{pupilsList, setPupilsList}}\r\n                                                             pageSize={pageSize}\r\n                                                             Url={Url}/>\r\n                                        {provide.placeholder}\r\n                                    </div>\r\n                                )}\r\n                            </Droppable>\r\n                        </FunnelStep>\r\n                    )}\r\n                </DragDropContext>\r\n            </FunnelSection>}\r\n        </Wrapper>\r\n    )\r\n}\r\n\r\nexport default SalesFunnel","import React from 'react';\n\nimport {Upload, Button} from 'antd';\n\nimport 'antd/dist/antd.css';\n\nimport Url from './../../../url/url.js'\nimport {Toast} from '../../../alert/alert.js'\n\nimport styled from '@emotion/styled'\nimport RestrictionMessage from \"../../restriction-message/restriction-message\";\n\nconst Box = styled.div({\n    '.ButtonUpload': {\n        padding: 0,\n        background: 'rgba(0, 0, 0, 0)',\n        border: 'none',\n        color: '#a6adb4',\n        '&:hover': {\n            color: '#fff'\n        }\n    },\n    '.ant-upload-list': {\n        display: 'none'\n    }\n})\n\nconst UploadPupils = () => {\n\n    const props = {\n        name: 'file',\n        action: `${Url}/CRM/Pupils/uploadFile`,\n        accept: '.csv,.xlsx',\n        headers: {\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        onChange(info) {\n\n            if (info.file.status === 'done') {\n\n                Toast.fire({\n                    icon: 'success',\n                    title: `Фаил ${info.file.name}, успешно загружен`\n                })\n            } else if (info.file.status === 'error') {\n\n                if (info.file.response.statusCode === 403) {\n                    RestrictionMessage(403)\n                } else {\n                    Toast.fire({\n                        icon: 'error',\n                        title: `В ${info.file.name}, ошибки на строках: ${info.file.response.message.join(\", \")}`\n                    })\n                }\n            }\n        }\n    };\n\n    return (\n        <Box>\n            <Upload {...props}>\n                <Button className={'ButtonUpload'}>Загрузите файлы c учениками</Button>\n            </Upload>\n        </Box>\n    )\n}\n\nexport default UploadPupils","import React from 'react';\nimport {Table} from 'antd';\n\n\nimport styled from '@emotion/styled';\n\nconst Box = styled.div({\n    '.log_h2': {},\n    td: {\n        paddingTop: '1px',\n        paddingBottom: '4px'\n    },\n    'th, td': {\n        padding: '16px 11px',\n        whiteSpace: 'nowrap'\n    }\n})\n\nconst TableGroups = ({\n                         dataSource = [],\n                         columns = [],\n                         setParamFilrers,\n                         paramFilrers,\n                         update = () => {\n                         }\n                     }) => {\n\n    return (\n        <Box>\n            <Table\n                pagination={false}\n                dataSource={dataSource}\n                columns={columns}\n                scroll={{x: 0}}\n                onChange={(pagination, filters) => {\n\n                    let box = {...paramFilrers}\n                    for (let key in filters) {\n                        if (filters[key]) {\n\n                            box[key] = filters[key]\n                        } else if (key != 'GROUP_NAME') {\n                            box[key] = []\n                        }\n                    }\n                    update(0, box)\n                    setParamFilrers(box)\n                }}\n            />\n        </Box>\n    )\n}\n\nexport default TableGroups","import React from 'react';\nimport {MenuFoldOutlined} from '@ant-design/icons';\n\nexport const getColumn = (con, fnc, title, dataIndex) => ({\n    title: () => (\n        <>\n            <MenuFoldOutlined\n                onClick={() => {\n                    if (con[1]) {\n                        fnc([\"\", \"\"]);\n                    } else {\n                        fnc([\n                            <span style={{paddingLeft: \"7px\"}}>{title}</span>,\n                            dataIndex,\n                        ]);\n                    }\n                }}\n            />\n            {con[0]}\n        </>\n    ),\n    dataIndex: `${con[1]}`,\n})","import React, {useState, useEffect} from 'react';\nimport {Link} from \"react-router-dom\"\nimport {Table, Button, Tag, Input, Space, Checkbox, Menu} from 'antd';\nimport {SearchOutlined, CloseCircleOutlined, FilterFilled, MenuFoldOutlined} from '@ant-design/icons';\n\nimport TableGroups from './../../../table-groups/table-groups.js'\nimport {getColumn} from './../change-column/change-column.js'\nimport Pagination from './../pagination/pagination.js'\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\nimport RestrictionMessage from '../../../restriction-message/restriction-message.js'\n\nimport localStorage_change from './../../../../#localStorage_change.js'\n// Style\nimport styled from '@emotion/styled';\n\n\nimport Url from './../../../../url/url.js'\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst Create_Columns_Rows_Groups = () => {\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(1)\n\n    const [dataObj, setDataObj] = useState([])\n\n    // Filters\n    const [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\n    const [filterDropdownVisible, setFilterDropdownVisible] = useState({\n        group_name: false,\n    })\n    // /Filters\n\n    // Change colums\n    const [g, setG] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Группа</span>,\n        \"group_name\",\n    ])\n    const [l, setL] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Уровень группы</span>,\n        \"level\",\n    ])\n    const [p, setP] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Количество мест</span>,\n        \"places\",\n    ])\n    const [o, setO] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Свободных мест</span>,\n        \"OCCUPIED\",\n    ])\n    const [n, setN] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Число учеников</span>,\n        \"NUMBER_PUPILS\",\n    ])\n    const [t, setT] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Учитель</span>,\n        \"tutor\",\n    ])\n    // /Change colums\n\n    const axios = require('axios'); // AJAX\n\n    const [Tutors, setTutors] = useState([])\n\n    const addTUTOR = () => {\n        axios({\n            method: 'get',\n            url: `${Url}/AdminPanel/CRMAccounts?limit=100&offset=0&accountType=teacher`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            setTutors(data)\n        })\n        .catch(error => {\n            errorHandler(addTUTOR, error)\n        })\n    }\n\n    const update = (offset = 0, filters = {}) => { // console.log(filters)\n\n        setLoadingButtomFilrer(true)\n\n        let box = {}\n\n        for (let key in filters) {\n            if (key != 'OCCUPIED' & filters[key][0] != undefined) {\n                console.log(filters[key], 1)\n                box[`${key}S`] = filters[key]\n            } else if (filters[key].length) {\n                console.log(filters[key], 2)\n                box[key] = filters[key][0]\n            }\n        }\n\n        console.log(box)\n\n        axios({\n            method: 'post',\n            url: `${Url}/CRM/Groups/find?limit=${getLimit}&offset=${offset}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            },\n            data: {\n                filters: box\n            }\n        })\n        .then(res => {\n            let {data, headers} = res\n            setDataObj(data)\n            setFilterDropdownVisible({group_name: false})\n            setLoadingButtomFilrer(false)\n            setCount(headers.count);\n        })\n        .catch((error) => {\n            errorHandler(update, error, () => {\n                setLoadingButtomFilrer(false)\n            })\n        })\n    }\n\n    useEffect(() => {\n        addTUTOR()\n        update()\n    }, [])\n\n    // Filrers\n    const [paramFilrers, setParamFilrers] = useState({ // paramFilrers\n        group_name: [],\n        level: [],\n        tutor: [],\n        OCCUPIED: []\n    });\n\n    let CheckboxValue = {\n        group_name: {}\n    };\n\n    for (let key in CheckboxValue) {\n        paramFilrers[key].forEach((item) => {\n            CheckboxValue[key][item] = true;\n        });\n    }\n\n    const [globalFilters, setGlobalFilters] = useState({\n        group_name: []\n    });\n\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\n\n        if (selectedKeys[0]) {\n            let FiltersLocal = {...globalFilters};\n\n            FiltersLocal[dataIndex].push({\n                text: selectedKeys[0],\n                value: selectedKeys[0],\n            });\n\n            setGlobalFilters(FiltersLocal);\n            selectedKeys[0] = ''\n        }\n    };\n\n    let DataSource = dataObj.map(item => {\n\n        let {group_name, level, places, pupils, tutor, _id} = item\n\n        return ({\n            key: _id,\n            group_name: [group_name, _id],\n            level: level,\n            places: places,\n            NUMBER_PUPILS: pupils ? pupils.length : '',\n            tutor: tutor ? `${tutor.surname} ${tutor.name} ${tutor.midname}` : '-',\n            OCCUPIED: pupils ? places - pupils.length : ''\n        })\n    })\n\n    const BoxButtom = styled.div({\n        marginTop: \"10px\",\n        svg: {\n            marginBottom: \"3px\",\n        },\n    });\n\n    const getColumnSearchProps = (dataIndex) => ({\n        filterDropdown: ({\n                             setSelectedKeys,\n                             selectedKeys,\n                             confirm,\n                             clearFilters,\n                         }) => (\n            <div style={{padding: 8}}>\n                <Input\n                    placeholder={`Создать фильтр ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={(e) =>\n                        setSelectedKeys(e.target.value ? [e.target.value] : [])\n                    }\n                    onPressEnter={() =>\n                        handleSearch(selectedKeys, confirm, dataIndex)\n                    }\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            handleSearch(selectedKeys, confirm, dataIndex);\n                        }}\n                        size=\"small\"\n                        style={{width: 140}}\n                    >\n                        Добавить в фильтр\n                    </Button>\n                    <Button\n                        type=\"link\"\n                        size=\"small\"\n                        onClick={() => {\n                            let filters = {...globalFilters};\n                            filters[dataIndex] = [];\n                            setGlobalFilters(filters)\n\n                            let dataFilters = {...paramFilrers};\n                            dataFilters[dataIndex] = [];\n\n                            setParamFilrers(dataFilters)\n\n                            update(0, dataFilters);\n                        }}\n                    >\n                        Очистить фильтр\n                    </Button>\n                </Space>\n                <Menu>\n                    {globalFilters[dataIndex].map((item, i) => {\n                        let checked = false;\n                        paramFilrers[dataIndex].forEach((param) => {\n                            if (param == item.text) {\n                                checked = true;\n                            }\n                        });\n\n                        return (\n                            <Menu.Item key={`${item.text}${i}`}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n                                        if (e.target.checked) {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = true;\n                                        } else {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = false;\n                                        }\n                                    }}\n                                >\n                                    {item.text}\n                                </Checkbox>\n                            </Menu.Item>\n                        );\n                    })}\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n                            let paramLocal = [];\n\n                            for (let key in CheckboxValue[dataIndex]) {\n                                if (CheckboxValue[dataIndex][key]) {\n                                    paramLocal.push(key);\n                                }\n                            }\n                            let data = {...paramFilrers};\n                            data[dataIndex] = paramLocal;\n\n                            setParamFilrers(data)\n                            setGlobalFilters(globalFilters)\n\n                            update(0, data);\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        filterIcon: () => {\n            let color = undefined;\n            if (paramFilrers[dataIndex][0]) {\n                color = \"#1890ff\";\n            }\n\n            if (filterDropdownVisible[dataIndex]) {\n                return <CloseCircleOutlined/>;\n            } else {\n                return (\n                    <>\n                        <SearchOutlined style={{color: color}}/>\n                    </>\n                )\n            }\n        },\n        onFilterDropdownVisibleChange: (Visible) => {\n            let per = {...filterDropdownVisible};\n            per[dataIndex] = Visible;\n            setFilterDropdownVisible(per);\n\n            if (!Visible) {\n                setParamFilrers(paramFilrers)\n                setGlobalFilters(globalFilters)\n            }\n        },\n        filterDropdownVisible: filterDropdownVisible[dataIndex],\n    });\n    // /Filrers\n\n    let filtersTutors = Tutors.map(item => ({\n        text: `${item.surname} ${item.name}`,\n        value: item._id\n    }))\n\n    let Columns = [\n        {\n            ...getColumn(g, setG, 'Группа', 'group_name'),\n            key: 'group_name',\n            render: (group_name) => {\n                return <Link to={`/group/${group_name[1]}`}>{group_name[0]}</Link>\n            },\n            ...getColumnSearchProps(\"group_name\")\n        },\n        {\n            ...getColumn(l, setL, 'Уровень группы', 'level'),\n            key: 'level',\n            filters: [\n                {\n                    text: \"1\",\n                    value: 1,\n                },\n                {\n                    text: \"2\",\n                    value: 2,\n                },\n                {\n                    text: \"3\",\n                    value: 3,\n                },\n                {\n                    text: \"4\",\n                    value: 4,\n                }\n            ],\n            defaultFilteredValue: paramFilrers.level.map(item => item + '')\n        },\n        {\n            ...getColumn(p, setP, 'Количество мест', 'places'),\n            key: 'places'\n        },\n        {\n            ...getColumn(o, setO, 'Свободных мест', 'OCCUPIED'),\n            key: 'OCCUPIED',\n            filters: [\n                {\n                    text: \"Заполненно\",\n                    value: true,\n                },\n                {\n                    text: \"Свободно\",\n                    value: false,\n                },\n            ],\n            defaultFilteredValue: paramFilrers.OCCUPIED.map(item => `${item}`)  // ...paramFilrers.OCCUPIED\n        },\n        {\n            ...getColumn(n, setN, 'Число учеников', 'NUMBER_PUPILS'),\n            key: 'NUMBER_PUPILS'\n        },\n        {\n            ...getColumn(t, setT, 'Учитель', 'tutor'),\n            key: 'tutor',\n            filters: filtersTutors,\n            defaultFilteredValue: [...paramFilrers.tutor]\n        }\n    ]\n\n    const Box = styled.div({\n        padding: '0 30px'\n    })\n\n    return (\n        <Box>\n            <TableGroups\n                dataSource={DataSource}\n                columns={Columns}\n                setParamFilrers={setParamFilrers}\n                paramFilrers={paramFilrers}\n                update={update}/>\n            <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n        </Box>\n    )\n}\n\nexport default Create_Columns_Rows_Groups","import React, {useEffect} from 'react';\nimport {Link} from \"react-router-dom\"\nimport { Table } from 'antd';\nimport ReturnAge from './../home-page/return-age/returnAge' // Определяет возраст\n\nimport styled from '@emotion/styled';\n\nconst Box = styled.div({\n\t'th, td': {\n\t\tpadding: '16px 11px'\n\t}\n})\n\nconst Table_Pupils = ({\n\t\tparamFilrers,\n\t\tsetParamFilrers,\n\n\t\tdataGroupsChecked,\n\n\t\tdataSource,\n\t\tupdate,\n\t\tcolumns,\n\n\t\tscrollLeft\n\t}) => {\n\n\tuseEffect(() => {\n\t\tdocument.querySelector('.ant-table-content').scrollLeft = scrollLeft\n\t})\n\tconsole.log(dataSource)\n\tlet itemPupils = dataSource.map(item => {\n\t\tlet {\n\t\t\t_id,\n\t\t\tsurname,\n\t\t\tname,\n\t\t\tmidname,\n\t\t\tage,\n\t\t\tgender,\n\t\t\tphone,\n\t\t\tbalance,\n\t\t\tparentPhone,\n\t\t\tdiscord,\n\t\t\tgroups,\n\t\t\ttutor\n\t\t} = item\n\t\tconsole.log(groups)\n\t\treturn ({\n\t\t\tkey: _id,\n\t\t\tsurname: () => (\n\t\t\t\t<Link\n\t\t\t\t\tclassName=\"link-info\"\n\t\t\t\t\tto={`/student/${_id}`}>\n\n\t\t\t\t\t{surname}\n\t\t\t\t</Link>\n\t\t\t),\n\t\t\tname,\n\t\t\tmidname,\n\t\t\tage: ReturnAge(age),\n\t\t\tgender,\n\t\t\tphoneNumber: phone,\n\t\t\ttutor,\n\t\t\tparentPhoneNumber: parentPhone,\n\t\t\tbalance: `${balance}`,\n\t\t\tdiscordNickname: discord,\n\t\t\tgroups\n\t\t})\n\t})\n\n\treturn (\n\t\t<Box>\n\t\t\t<Table\n\t\t\t    pagination={false}\n\t\t\t    dataSource={itemPupils}\n\t\t\t    columns={columns}\n\t\t\t    scroll={{ x: 0 }}\n\t\t\t    onChange={(pagination, filters) => {\n\t\t\t    \tlet box = {...paramFilrers}\n\t\t\t    \tif (filters.gender) {\n\t\t\t    \t\tbox.gender = filters.gender\n\t\t\t    \t} else {\n\t\t\t    \t\tbox.gender = []\n\t\t\t    \t}\n\n\t\t\t    \tif (filters.balance) {\n\t\t\t    \t\tbox.balance = filters.balance\n\t\t\t    \t} else {\n\t\t\t    \t\tbox.balance = []\n\t\t\t    \t}\n\n\t\t\t    \tsetParamFilrers(box)\n\t\t\t    \tupdate(box, dataGroupsChecked)\n\t\t\t    }}\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nexport default Table_Pupils","import React, {useState, useEffect} from 'react'\nimport {Button, Input, Space, Checkbox, Menu} from 'antd';\n\nimport Table_Pupils from './../../../table-pupils/table.js'\nimport {getColumn} from './../change-column/change-column.js'\nimport getLimit from './../../#more-functions/getLimit/getLimit.js'\n\nimport {SearchOutlined, CloseCircleOutlined, FilterFilled} from '@ant-design/icons';\n\n// Style\nimport styled from '@emotion/styled'\n\nimport Url from './../../../../url/url.js'\nimport Pagination from './../../#more-functions/pagination/pagination.js'\nimport errorHandler from \"../../../error-handler/error-handler\";\n\nconst axios = require('axios'); // AJAX\n\nconst breakpoints = [1020, 700],\n    mq = breakpoints.map(\n        bp => `@media (max-width: ${bp}px)`\n    )\n\nconst TableL = styled.div({\n    padding: '0 30px',\n    [mq[1]]: {\n        padding: '0 0',\n    },\n    '.log_h2': {},\n    td: {\n        paddingTop: '1px',\n        paddingBottom: '4px'\n    },\n    'th, td': {\n        whiteSpace: 'nowrap'\n    }\n})\n\nconst Create_Columns_Rows_Pupils = () => {\n\n    const [ValueGroup, setValueGroup] = useState('')\n\n    const [offsetG, setOffsetG] = useState(0)\n    const [Count, setCount] = useState(0)\n\n    const [objPupils, setObjPupils] = useState([])\n\n    const [scrollLeft, setScrollLeft] = useState(0)\n\n    // Filtered\n    const [paramFilrers, setParamFilrers] = useState({\n        surname: [],\n        name: [],\n        midname: [],\n        age: [],\n        gender: [],\n        groups: [],\n        balance: []\n    })\n    const [emptyAge, setEmptyAge] = useState(false)\n\n    let emptyAgeLocal = false\n\n    const [globalFiltersG, setGlobalFiltersG] = useState({\n        surname: [],\n        name: [],\n        midname: [],\n        age: [],\n        balance: []\n    })\n\n    const [loadingButtomFilrer, setLoadingButtomFilrer] = useState(false)\n\n    const [filterDropdownVisible, setFilterDropdownVisible] = useState({\n        surname: false,\n        name: false,\n        midname: false,\n        age: false,\n        groups: false\n    })\n\n\n    const [s, setS] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Фамилия</span>,\n        \"surname\",\n    ])\n    const [n, setN] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Имя</span>,\n        \"name\",\n    ])\n    const [m, setM] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Отчество</span>,\n        \"midname\",\n    ])\n    const [a, setA] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Возраст</span>,\n        \"age\",\n    ])\n    const [g, setG] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Пол</span>,\n        \"gender\",\n    ])\n    const [PhoneTitle, setPhoneTitle] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Номер телефона</span>,\n        \"phoneNumber\",\n    ])\n    const [p, setP] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Номер телефона родителя</span>,\n        \"parentPhoneNumber\",\n    ])\n    const [b, setB] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Баланс</span>,\n        \"balance\",\n    ])\n    const [d, setD] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Дискорд никнейм</span>,\n        \"discordNickname\",\n    ])\n    const [gr, setGr] = useState([\n        <span style={{paddingLeft: \"7px\"}}>Группы</span>,\n        \"groups\",\n    ])\n\n    let CheckboxValue = {\n        surname: {},\n        name: {},\n        midname: {},\n        age: {}\n    };\n\n    for (let key in CheckboxValue) {\n        paramFilrers[key].forEach((item) => {\n            CheckboxValue[key][item] = true;\n        });\n    }\n\n    // Groups filter\n    const [dataGroupsChecked, setDataGroupsChecked] = useState({})\n\n    const [GroupsCheckedF, setGroupsCheckedF] = useState({})\n\n    let heapGroups = {...dataGroupsChecked, ...GroupsCheckedF}\n\n    let dataGroupsCheck = []\n\n    for (let key in heapGroups) {\n\n        dataGroupsCheck.push({\n            id: key,\n            text: heapGroups[key][0],\n            checked: heapGroups[key][1]\n        })\n    }\n\n    // /Groups filter\n\n    const [globalFilters, setGlobalFilters] = useState(globalFiltersG);\n\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\n\n        if (selectedKeys[0]) {\n            let FiltersLocal = {...globalFilters};\n\n            FiltersLocal[dataIndex].push({\n                text: selectedKeys[0],\n                value: selectedKeys[0],\n            });\n\n            setGlobalFilters(FiltersLocal);\n            selectedKeys[0] = ''\n        }\n    };\n\n    const BoxButtom = styled.div({\n        marginTop: \"10px\",\n        svg: {\n            marginBottom: \"3px\",\n        },\n    });\n\n    const emptyAgeGet = (dataIndex) => {\n        if (dataIndex == 'age') {\n            return 'block'\n        } else {\n            return ' none'\n        }\n    }\n    const ageGet = (type) => {\n        if (type == 'age') {\n            return 'number'\n        } else {\n            return 'text'\n        }\n    }\n\n    const getColumnSearchProps = (dataIndex) => ({\n        filterDropdown: ({\n                             setSelectedKeys,\n                             selectedKeys,\n                             confirm,\n                             clearFilters,\n                         }) => (\n            <div style={{padding: 8}}>\n                <Input\n                    type={ageGet(dataIndex)}\n                    placeholder={`Создать фильтр ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={(e) =>\n                        setSelectedKeys(e.target.value ? [e.target.value] : [])\n                    }\n                    onPressEnter={() =>\n                        handleSearch(selectedKeys, confirm, dataIndex)\n                    }\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => {\n                            handleSearch(selectedKeys, confirm, dataIndex);\n                        }}\n                        size=\"small\"\n                        style={{width: 140}}\n                    >\n                        Добавить в фильтр\n                    </Button>\n                    <Button\n                        type=\"link\"\n                        size=\"small\"\n                        onClick={() => {\n                            let filters = {...globalFilters};\n                            filters[dataIndex] = [];\n                            setGlobalFiltersG(filters)\n\n                            let dataFilters = {...paramFilrers};\n                            dataFilters[dataIndex] = [];\n\n                            setParamFilrers(dataFilters)\n\n                            setFilterAxios(dataFilters, dataGroupsChecked);\n                            update()\n                        }}\n                    >\n                        Очистить фильтр\n                    </Button>\n                </Space>\n                <Menu>\n                    {globalFilters[dataIndex].map((item, i) => {\n                        let checked = false;\n                        paramFilrers[dataIndex].forEach((param) => {\n                            if (param == item.text) {\n                                checked = true;\n                            }\n                        });\n\n                        return (\n                            <Menu.Item key={`${item.text}${i}`}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n                                        if (e.target.checked) {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = true;\n                                        } else {\n                                            CheckboxValue[dataIndex][\n                                                item.text\n                                                ] = false;\n                                        }\n                                    }}\n                                >\n                                    {item.text}\n                                </Checkbox>\n                            </Menu.Item>\n                        );\n                    })}\n                    <Menu.Item\n                        style={{display: emptyAgeGet(dataIndex)}}\n                        key='emptyAge'>\n                        <Checkbox\n                            defaultChecked={emptyAge}\n                            onChange={(e) => {\n                                emptyAgeLocal = e.target.checked\n                            }}>\n                            Возраст не указан\n                        </Checkbox>\n                    </Menu.Item>\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n                            let paramLocal = [];\n\n                            for (let key in CheckboxValue[dataIndex]) {\n                                if (CheckboxValue[dataIndex][key]) {\n                                    paramLocal.push(key);\n                                }\n                            }\n                            let data = {...paramFilrers};\n                            data[dataIndex] = paramLocal;\n\n                            setParamFilrers(data)\n                            setGlobalFiltersG(globalFilters)\n\n                            setFilterAxios(data, dataGroupsChecked);\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        filterIcon: () => {\n            let color = undefined;\n            if (paramFilrers[dataIndex][0]) {\n                color = \"#1890ff\";\n            }\n\n            if (filterDropdownVisible[dataIndex]) {\n                return <CloseCircleOutlined/>;\n            } else {\n                return (\n                    <>\n                        <SearchOutlined style={{color: color}}/>\n                    </>\n                )\n            }\n        },\n        onFilterDropdownVisibleChange: (Visible) => {\n            let per = {...filterDropdownVisible};\n            per[dataIndex] = Visible;\n            setFilterDropdownVisible(per);\n\n            if (!Visible) {\n                setParamFilrers(paramFilrers)\n                setGlobalFiltersG(globalFilters)\n            }\n        },\n        filterDropdownVisible: filterDropdownVisible[dataIndex],\n    });\n\n    const searchGroups = (value) => {\n\n        let localUrl = encodeURI(value);\n\n        axios({\n            method: \"get\",\n            url: `${Url}/CRM/Search/autocompletion?query=${localUrl}`,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`\n            }\n        })\n        .then((res) => {\n\n            let box = {} //...GroupsCheckedF\n\n            res.data.body.hits.hits.map(item => {\n                let {id, group_name, type} = item._source\n\n                if (type == 'group') {\n                    box[id] = [`${group_name}`, false]\n                }\n            })\n\n            setValueGroup(value)\n\n            setGroupsCheckedF(box)\n        })\n        .catch(error => {\n            errorHandler(searchGroups, error)\n        })\n    }\n\n    let typingTimer; //timer identifier\n    let doneTypingInterval = 500; //time in ms (5 seconds)\n\n    const SearchGroups = (text) => {\n        clearTimeout(typingTimer);\n        if (text) {\n            typingTimer = setTimeout(() => {\n                // setValueGroup(name)\n                searchGroups(text);\n            }, doneTypingInterval);\n        } else {\n            setValueGroup('')\n            setGroupsCheckedF({})\n        }\n    }\n\n    const handleSearchGroup = (selectedKeys, confirm) => {\n\n    }\n\n    const filterGroups = () => ({\n        filterDropdown: ({\n                             setSelectedKeys,\n                             selectedKeys,\n                             confirm,\n                             clearFilters,\n                         }) => (\n            <div style={{padding: 8}}>\n                <Input\n                    // focus={true}\n                    id='inputGroup'\n                    placeholder={`Найти группы`}\n                    defaultValue={ValueGroup}\n                    onChange={(e) => {\n                        SearchGroups(e.target.value)\n                        // setSelectedKeys(e.target.value ? [e.target.value] : [])\n                    }}\n                    onPressEnter={() =>\n                        handleSearchGroup(selectedKeys, confirm)\n                    }\n                    style={{marginBottom: 8, display: \"block\"}}\n                />\n                <Menu>\n\n                    {dataGroupsCheck.map(item => {\n                        let {id, text, checked} = item\n\n                        return (\n                            <Menu.Item key={id}>\n                                <Checkbox\n                                    defaultChecked={checked}\n                                    onChange={(e) => {\n\n                                        let box = {...dataGroupsChecked}\n\n                                        if (e.target.checked) {\n                                            box[id] = [text, true]\n                                        } else {\n                                            delete box[id]\n                                            // delete obj['gh']\n                                        }\n\n                                        setDataGroupsChecked(box)\n                                        setGroupsCheckedF({})\n                                    }}\n                                >\n                                    {text}\n                                </Checkbox>\n                            </Menu.Item>\n                        )\n                    })}\n                </Menu>\n                <BoxButtom>\n                    <Button\n                        loading={loadingButtomFilrer}\n                        type=\"primary\"\n                        size=\"small\"\n                        icon={<SearchOutlined/>}\n                        onClick={() => {\n\n                            // setDataGroupsChecked(dataGroupsChecked)\n                            setFilterAxios(paramFilrers, dataGroupsChecked)\n                        }}\n                    >\n                        Применить фильтр\n                    </Button>\n                </BoxButtom>\n            </div>\n        ),\n        onFilterDropdownVisibleChange: (Visible) => {\n\n\n            if (Visible) {\n                setScrollLeft(document.querySelector('.ant-table-content').scrollLeft)\n            } else {\n                setScrollLeft(0)\n            }\n\n            let per = {...filterDropdownVisible};\n            per.groups = Visible;\n            setFilterDropdownVisible(per);\n\n            if (!Visible) {\n                // setDataGroupsChecked(dataGroupsChecked)\n                setFilterAxios(paramFilrers, dataGroupsChecked)\n            }\n        },\n        filterDropdownVisible: filterDropdownVisible.groups,\n        filterIcon: () => {\n            if (Object.keys(dataGroupsChecked).length) {\n                return <FilterFilled style={{color: '#1890ff'}}/>\n            } else {\n                return <FilterFilled/>\n            }\n        }\n    })\n\n    const columns = [\n        {\n            ...getColumn(s, setS, 'Фамилия', 'surname'),\n            key: \"surname\",\n            render: (surname) => {\n                if (typeof (surname) == 'function') {\n                    return surname()\n                }\n            },\n            ...getColumnSearchProps(\"surname\"),\n        },\n        {\n            ...getColumn(n, setN, 'Имя', 'name'),\n            key: \"name\",\n            ...getColumnSearchProps(\"name\"),\n        },\n        {\n            ...getColumn(m, setM, 'Отчество', 'midname'),\n            key: \"midname\",\n            ...getColumnSearchProps(\"midname\"),\n        },\n        {\n            ...getColumn(a, setA, 'Возраст', 'age'),\n            key: \"age\",\n            ...getColumnSearchProps('age')\n        },\n        {\n            ...getColumn(g, setG, 'Пол', 'gender'),\n            key: \"gender\",\n            filters: [\n                {\n                    text: \"Мужской\",\n                    value: \"Мужской\",\n                },\n                {\n                    text: \"Женский\",\n                    value: \"Женский\",\n                },\n            ],\n            defaultFilteredValue: [...paramFilrers.gender]\n        },\n        {\n            ...getColumn(PhoneTitle, setPhoneTitle, 'Номер телефона', 'phoneNumber'),\n            key: \"phoneNumber\"\n        },\n        {\n            ...getColumn(p, setP, 'Номер телефона родителя', 'parentPhoneNumber'),\n            key: \"parentPhoneNumber\",\n        },\n        {\n            ...getColumn(b, setB, 'Баланс', 'balance'),\n            key: \"balance\",\n            filters: [\n                {\n                    text: \"Положительный\",\n                    value: '1',\n                },\n                {\n                    text: \"Отрицательный\",\n                    value: '2',\n                },\n            ],\n            defaultFilteredValue: [...paramFilrers.balance] //...paramFilrers.balance\n        },\n        {\n            ...getColumn(gr, setGr, 'Группы', 'groups'),\n            key: \"groups\",\n            render: (groups) => {\n                let groups_name = groups.map(group => group.group_name)\n                return groups_name.join(', ')\n            },\n            ...filterGroups()\n        },\n        {\n            ...getColumn(d, setD, \"Дискорд никнейм\", \"discordNickname\"),\n            key: \"discordNickname\",\n        },\n    ]\n\n    // /Filtered\n\n    const [FILTER, SET_FILTER] = useState({\n        filters: {},\n    })\n\n    const update = (offset = 0, p) => {\n        setLoadingButtomFilrer(true);\n\n        axios({\n            method: \"post\",\n            url: `${Url}/CRM/Pupils/find?limit=${getLimit}&offset=${offset}`,\n            headers: {\n                \"Content-Type\": \"application/json;charset=utf-8\",\n                Authorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n            },\n            data: p ? p : FILTER,\n        })\n        .then((res) => {\n            let {data, headers} = res;\n            console.log(data)\n            setObjPupils(data);\n            setCount(headers.count);\n\n            setFilterDropdownVisible({\n                surname: false,\n                name: false,\n                midname: false,\n            });\n            setLoadingButtomFilrer(false);\n        })\n        .catch((error) => {\n            errorHandler(update, error, () => {\n                setLoadingButtomFilrer(false)\n            })\n        });\n    };\n\n    const setFilterAxios = (param = {}, filtersGroups = {}) => {\n        let filtersLocal = {};\n\n        for (let key in filtersGroups) {\n            if (filtersLocal.groups) {\n                filtersLocal.groups.push(key);\n            } else {\n                filtersLocal.groups = [];\n                filtersLocal.groups.push(key);\n            }\n            // filtersLocal.groups = [...filtersLocal.groups]\n        }\n\n        for (let key in param) {\n            if (param[key][0]) {\n                if (\n                    key == \"surname\" ||\n                    key == \"name\" ||\n                    key == \"midname\" ||\n                    key == \"age\"\n                ) {\n                    filtersLocal[`${key}s`] = param[key];\n                } else {\n                    filtersLocal[`${key}`] = param[key];\n                }\n            }\n        }\n\n        if (filtersLocal.ages) {\n            let age = [...filtersLocal.ages];\n            filtersLocal.ages = [];\n            age.forEach((age) => {\n                filtersLocal.ages.push(+age);\n            });\n        }\n\n        if (filtersLocal.balance) {\n            let balance = [...filtersLocal.balance];\n            if ((balance[0] == 1) & !balance[1]) {\n                filtersLocal.balance = {$gte: 0};\n            } else if ((balance[0] == 2) & !balance[1]) {\n                filtersLocal.balance = {$lt: 0};\n            } else if (balance[1]) {\n                filtersLocal.balance = {$gte: 0, $lte: 0};\n            }\n        }\n\n        filtersLocal.emptyAge = emptyAgeLocal\n\n        let p = {\n            filters: filtersLocal,\n        };\n        setEmptyAge(emptyAgeLocal)\n        SET_FILTER(p)\n        update(0, p)\n    }\n\n    useEffect(() => {\n        update();\n    }, [])\n\n    useEffect(() => {\n        let input = document.getElementById('inputGroup')\n        if (input) {\n            input.focus()\n        }\n    })\n\n    return (\n        <TableL>\n            <Table_Pupils\n                paramFilrers={paramFilrers}\n                setParamFilrers={setParamFilrers}\n                globalFiltersG={globalFilters}\n                setGlobalFiltersG={setGlobalFilters}\n                dataGroupsChecked={dataGroupsChecked}\n                setDataGroupsChecked={setDataGroupsChecked}\n\n                dataSource={objPupils}\n                update={setFilterAxios}\n\n                loadingButtomFilrer={loadingButtomFilrer}\n                setLoadingButtomFilrer={setLoadingButtomFilrer}\n                filterDropdownVisible={filterDropdownVisible}\n                setFilterDropdownVisible={setFilterDropdownVisible}\n                columns={columns}\n\n                scrollLeft={scrollLeft}\n            />\n            <Pagination getItem={update} count={Count} offset={offsetG} setOffset={setOffsetG}/>\n        </TableL>\n    )\n}\n\nexport default Create_Columns_Rows_Pupils","import React, {useState, useEffect} from 'react'\nimport {BrowserRouter as Router, Route, Switch, Link} from \"react-router-dom\"\n\nimport {Layout, Menu} from 'antd'\nimport {\n    LogoutOutlined,\n    TeamOutlined,\n    UserOutlined,\n    SearchOutlined,\n    DatabaseOutlined,\n    UploadOutlined,\n    FunnelPlotOutlined\n} from '@ant-design/icons'\n\nimport SearchAll from './../search/search.js'\n\nimport Student from './student/student.js'\nimport StudentPage from './student/pageStudent/pageStudent.js'\n\nimport Group from './group/group.js'\nimport GroupPage from './group/group-page/group-page.js'\n\nimport SalesFunnel from './sales-funnel/sales-funnel'\nimport UploadPupils from './upload-pupils/upload-pupils'\n// Сводные таблицы\nimport Create_Columns_Rows_Groups from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-groups.js'\nimport Create_Columns_Rows_Pupils from './#more-functions/сreate-columns-and-rows/сreate-columns-rows-pupils.js'\n\nimport styled from '@emotion/styled'\n\nconst {Sider} = Layout;\nconst {SubMenu} = Menu;\n\nconst HomePage = ({logOut}) => {\n\n    const [collapsed, setCollapsed] = useState(false)\n\n    const onCollapse = collapsed => {\n        setCollapsed(collapsed);\n    };\n\n    useEffect(() => {\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '257px'\n    })\n\n    const Vag = styled.div({\n        '.ant-menu': {\n            height: '100vh',\n            position: 'relative',\n            width: collapsed ? '80px' : '257px'\n        },\n        '.vag123': {\n            position: 'absolute',\n            bottom: '48px',\n            width: collapsed ? '80px' : ''\n        },\n        '.site-layout': {\n            padding: '15px'\n        },\n        '& > section': {\n            '& > aside': {\n                position: 'fixed',\n                zIndex: 99\n            },\n            '& > section': {\n                marginLeft: collapsed ? '80px' : '257px'\n            }\n        }\n    })\n\n    const Box = styled.div({\n        overflow: 'auto'\n    })\n\n    return (\n        <>\n            <Router>\n                <Vag>\n                    <Layout style={{minHeight: '100vh'}}>\n                        <Sider\n                            collapsible\n                            collapsed={collapsed}\n                            onCollapse={onCollapse}\n                        >\n                            <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                                <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\n                                    <SearchAll/>\n                                </Menu.Item>\n                                <Menu.Item\n                                    icon={<UploadOutlined\n                                        onClick={() => document.querySelector(\".ButtonUpload\").click()}/>}>\n                                    <UploadPupils/>\n                                </Menu.Item>\n                                <Menu.Item key=\"2\" icon={<UserOutlined/>}>\n                                    <Link to='/student'>\n                                        Ученики\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"3\" icon={<TeamOutlined/>}>\n                                    <Link to='/group'>\n                                        Группы\n                                    </Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"4\" icon={<FunnelPlotOutlined/>}>\n                                    <Link to='/sales-funnel'>\n                                        Воронка продаж\n                                    </Link>\n                                </Menu.Item>\n                                <SubMenu key=\"sub1\" icon={<DatabaseOutlined/>} title=\"Сводные таблицы\">\n                                    <Menu.Item key=\"sub-student\">\n                                        <Link to='/table-pupils'>\n                                            Ученики\n                                        </Link>\n                                    </Menu.Item>\n                                    <Menu.Item key=\"sub-groups\">\n                                        <Link to='/table-groups'>\n                                            Группы\n                                        </Link>\n                                    </Menu.Item>\n                                </SubMenu>\n                                <Menu.Item\n                                    onClick={() => {\n                                        localStorage.removeItem('tokenID');\n                                        logOut()\n                                    }}\n                                    id='LogoutOut'\n                                    key=\"Logout\"\n                                    className='vag123'\n                                    icon={<LogoutOutlined/>}>\n                                    <Link to='/'>\n                                        Выход\n                                    </Link>\n                                </Menu.Item>\n                            </Menu>\n                        </Sider>\n                        <Layout className=\"site-layout\">\n                            <Switch>\n                                <Route exact path='/student'\n                                       component={() => <Student/>}/>\n                                <Route path={`/student/:id`} children={() => <StudentPage/>}/>\n\n                                <Route exact path='/group' component={() => <Group/>}/>\n                                <Route path={`/group/:id`} children={() => <GroupPage/>}/>\n                                <Route path={'/sales-funnel'} component={SalesFunnel}/>\n                                {/*Сводные таблицы*/}\n                                <Route exact path='/table-groups' component={() => <Create_Columns_Rows_Groups/>}/>\n\n                                <Route exact path='/table-pupils' component={() => (\n                                    <Box>\n                                        <Create_Columns_Rows_Pupils/>\n                                    </Box>)}/>\n\n                                <Route path=\"/student/*\">\n                                    <h2>Странца не найдена</h2>\n                                </Route>\n                            </Switch>\n                        </Layout>\n                    </Layout>\n                </Vag>\n            </Router>\n        </>\n    );\n};\n\nexport default HomePage;","import Url from './../../../../../../url/url.js'\nimport errorHandler from \"../../../../../error-handler/error-handler\";\n\nconst axios = require(\"axios\");\n\nconst writeComment = (pupil_id, value) => {\n    axios({\n        method: 'post',\n        url: `${Url}/CRM/Pupils/${pupil_id}/Notes`,\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: {\n            text: value\n        }\n    })\n    .catch((error) => {\n        errorHandler(writeComment, error)\n    });\n}\n\nexport default writeComment","import Url from './../../../../../../url/url.js'\nimport errorHandler from '../../../../../error-handler/error-handler.js'\n\nconst axios = require('axios'); // AJAX\n\nconst changeSchedule = (mass, pupil_id, id, getUser) => {\n    axios({\n        method: 'put',\n        url: `${Url}/CRM/Groups/${id}/Pupils/${pupil_id}/Schedule`,\n        headers: {\n            'Content-Type': 'application/json;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n        },\n        data: mass\n    })\n    .then((res) => {\n        getUser('Сохранение')\n    })\n    .catch((error) => {\n        errorHandler(changeSchedule, error)\n    });\n}\n\nexport default changeSchedule","import React, {useState, useEffect} from 'react';\nimport writeComment from './write-сomment/write-comment.js'\nimport changeSchedule from './change-schedule/change-schedule.js'\n\nimport {Table, Tag, Input, Button} from 'antd';\n\nconst {Column, ColumnGroup} = Table\nconst {TextArea} = Input\n\n\nconst TablePupils = ({ID_Group, Group, getUser}) => {\n\n    const [GLOBAL_ARR_PUPILS, set_GLOBAL_ARR_DAY] = useState({})\n    const [GLOBAL_ROW_KEY, set_GLOBAL_ROW_KEY] = useState([])\n\n    let ARR_PUPILS = {...GLOBAL_ARR_PUPILS},\n        RowKeys = [...GLOBAL_ROW_KEY]\n\n    const onRowKeys = () => {\n\n        RowKeys = []\n\n        for (let key in ARR_PUPILS) {\n            if (ARR_PUPILS[key].arr[ID_Group].status == 2) {\n                RowKeys.push(key)\n            }\n        }\n    }\n\n    let Notes = {}\n\n    const onSeveChange = () => {\n        for (let key in ARR_PUPILS) {\n            changeSchedule(ARR_PUPILS[key].arr, key, Group._id, getUser)\n        }\n        for (let key in Notes) {\n            writeComment(key, Notes[key].text)\n        }\n    }\n\n    const data = Group.pupils.map((item, i) => {\n\n        let {_id, name, surname, midname} = item\n\n        ARR_PUPILS[_id] = {\n            arr: item.localSchedule ? item.localSchedule[Group._id] : [],\n            pupil_id: _id\n        }\n        onRowKeys()\n\n\n        let start = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].start : '',\n            finish = ARR_PUPILS[_id].arr[ID_Group].start ? ARR_PUPILS[_id].arr[ID_Group].finish : ''\n\n        const titleProgresStart = (key, text) => {\n            ARR_PUPILS[_id].arr[ID_Group][key] = text\n        }\n\n        const onChangeStatys = (arr) => {\n            if (ARR_PUPILS[_id]) {\n                ARR_PUPILS[_id].arr = arr\n            } else if (!ARR_PUPILS[_id]) {\n                ARR_PUPILS[_id] = {\n                    arr: arr,\n                    pupil_id: _id\n                }\n            }\n        }\n\n        let changeDayPupil = (index = 3) => {\n            let arr = [...item.localSchedule[Group._id]];\n\n            if (index == 2 & arr[ID_Group].status == 3) {\n                arr[ID_Group].status = index;\n\n                onChangeStatys(arr)\n\n            } else if (index == 3) {\n                arr[ID_Group].status = index;\n\n                onChangeStatys(arr)\n\n            } else if (index != 3 & index != 2) {\n                arr[ID_Group].title = index;\n\n                onChangeStatys(arr)\n            } else {\n                // swallErr('Не возможно установить статус');\n            }\n        };\n\n        let titlePupil = ''\n        if (Group.pupils[i]) {\n            titlePupil = Group.pupils[i].localSchedule[Group._id][ID_Group].title\n        }\n\n        return {\n            key: _id,\n            name: `${surname} ${name} ${midname}`,\n            title: {\n                text: titlePupil,\n                action: changeDayPupil,\n                addNotes: (value) => {\n                    Notes[_id] = {\n                        text: value,\n                        id: _id\n                    }\n                }\n            },\n            progres: {\n                start: start,\n                finish: finish,\n                action: titleProgresStart\n            }\n        }\n    })\n\n    const rowSelection = {\n\n        selectedRowKeys: RowKeys,\n\n        onChange: () => {\n            set_GLOBAL_ARR_DAY(ARR_PUPILS)\n            set_GLOBAL_ROW_KEY(RowKeys)\n        },\n        onSelect: (e) => {\n\n            let i,\n                box = ARR_PUPILS[e.key].arr[ID_Group].status\n            if (box == 2) {\n                i = 3\n            } else {\n                i = 2\n            }\n\n            ARR_PUPILS[e.key].arr[ID_Group].status = i\n\n            onRowKeys()\n        },\n        onSelectAll: (e) => {\n\n            if (e) {\n                for (let key in ARR_PUPILS) {\n                    ARR_PUPILS[key].arr[ID_Group].status = 2\n                }\n            } else if (!e) {\n                for (let key in ARR_PUPILS) {\n                    ARR_PUPILS[key].arr[ID_Group].status = 3\n                }\n            }\n\n            onRowKeys()\n        }\n    };\n\n    return (\n        <>\n            <Table\n                pagination={false}\n                loading={false}\n                rowSelection={rowSelection}\n                scroll={{x: 0}}\n\n                dataSource={data}>\n                <Column\n                    title=\"Ученик\"\n                    dataIndex=\"name\"\n                    key=\"name\"\n                    render={(name) => (\n                        <Tag color=\"blue\">{name}</Tag>\n                    )}/>\n                <ColumnGroup title='Прогресс'>\n                    <Column\n                        title=\"Коментарии\"\n                        dataIndex=\"title\"\n                        key=\"title\"\n                        render={(title) => (\n                            <TextArea\n                                defaultValue={title.text}\n                                placeholder=\"Коментарий ученику\"\n                                onBlur={e => {\n                                    title.action(e.target.value)\n                                    title.addNotes(e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                    <Column\n                        title=\"Начало\"\n                        dataIndex=\"progres\"\n                        key=\"progres\"\n                        render={(progres) => (\n                            <TextArea\n                                defaultValue={progres.start}\n                                placeholder='Старт...'\n                                onBlur={e => {\n                                    progres.action('start', e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                    <Column\n                        title=\"Конец\"\n                        dataIndex=\"progres\"\n                        key=\"progres\"\n                        render={(progres) => (\n                            <TextArea\n                                defaultValue={progres.finish}\n                                placeholder=\"Финиш...\"\n                                onBlur={e => {\n                                    progres.action('finish', e.target.value)\n                                }}\n                                autoSize={{minRows: 2, maxRows: 6}}\n                            />\n                        )}\n                    />\n                </ColumnGroup>\n            </Table>\n            <div className='Button'>\n                <Button\n                    onClick={onSeveChange}\n                    type='primary'\n                >Сохранить</Button>\n            </div>\n        </>\n    )\n}\n\nexport default TablePupils","import React, {useState, useEffect} from 'react';\n\n// import {loading, Swalclose} from './../../../../alert/alert.js'\n// import Url from './../../../../url/url.js'\n// import localStorage_change from './../../../../#localStorage_change.js'\n\nimport TablePupils from './table-pupils/table-pupils.js'\n\nimport { Typography, Space } from 'antd';\n\nimport styled from '@emotion/styled';\n\nconst LessonNowStyle = styled.div({\n\t'.time': {\n\t\t'h5, h6': {\n\t\t\tmargin: 0\n\t\t}\n\t},\n\t'.TablePupils': {\n\t\tmarginTop: '15px',\n\t\t'.ant-tag': {\n\t\t\tfontSize: '13px'\n\t\t},\n\t\ttd: {\n\t\t\tpadding: '16px 3px'\n\t\t}\n\t},\n\t'.Button': {\n\t\tmarginTop: '15px',\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'flex-end'\n\t}\n})\n\nconst { Text } = Typography;\n\nconst LessonNow = ({rowKey, setRowKey, GROUP, Group, getUser}) => {\n\n\tlet G = {\n\t\tgroup: {\n\t\t\tglobal_schedule: [{date: '', duration: ''}]\n\t\t},\n\t\tindexD: 0\n\t}\n\n\tif (!GROUP.group.group_name) {\n\t\tG = Group\n\t}\n\n\treturn (\n\t\t<LessonNowStyle className='LessonNow'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<h4><Text type=\"secondary\"> Урок сейчас: </Text> {G.group.group_name} </h4>\n\t\t\t\t</div>\n\t\t\t\t<div className={`col-md-3 time`}>\n\t\t\t\t\t<h6> <Text type=\"secondary\">Начало</Text> </h6>\n\t\t\t\t\t<h5> <Text type=\"warning\">{G.group.global_schedule[G.indexD].date} в {G.group.global_schedule[0].duration[0]}</Text> </h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"TablePupils\">\n\t\t\t\t<TablePupils rowKey={rowKey} getUser={getUser} ID_Group={G.indexD} setRowKey={setRowKey} Group={G.group}/>\n\t\t\t</div>\n\t\t</LessonNowStyle>\n\t)\n}\n\nexport default LessonNow","import React, {useState, useEffect} from 'react';\n\nimport { Table, Tag, Space, Pagination } from 'antd';\n\n\nconst TableGroups = ({Groups, newGroup, setGROUP, GROUP}) => {\n\n\tconst { Column, ColumnGroup } = Table\n\n\tconst data = Groups.map((item, i) => {\n\n\t\tlet {_id, group_name, global_schedule} = item.group,\n\t\t\tcolor = 'cyan'\n\n\t\t\tif (GROUP.group) {\n\t\t\t\tif (newGroup.group._id == _id & !GROUP.group.group_name) {\n\n\t\t\t\t\tcolor = 'volcano'\n\t\t\t\t} else if (_id == GROUP.group._id) {\n\n\t\t\t\t\tcolor = 'volcano'\n\t\t\t\t}\n\t\t\t}\n\n\t\treturn {\n\t\t\tkey: i,\n\t\t\tgroupName: { \n\t\t\t\tgroup_name: group_name,\n\t\t\t\tG: item\n\t\t\t},\n\t\t\tdate: {\n\t\t\t\tdate: `${global_schedule[`${item.indexD}`].date} в ${global_schedule[0].duration[0]}`,\n\t\t\t\tcolor: color,\n\t\t\t\tG: item\n\t\t\t}\n\t\t}\n\t})\n\n\tlet pagination = {\n\t\tpageSize: 15,\n\t\tonChange: (i) => {\n\t\t\tconsole.log(`Страница: ${i}`)\n\t\t}\n\t}\n\n\treturn (\n\t  <Table \n\t  \tpagination={pagination}\n\t  \tloading={false}\n\t  \tscroll={{ x: 0 }}\n\n\t  \tdataSource={data}>\n\t  \t\t<Column\n\t  \t\ttitle=\"Время\"\n\t  \t\tdataIndex=\"date\"\n\t  \t\tkey=\"date\"\n\t  \t\trender={(date) => (\n\t  \t\t\t<Tag\n\t  \t\t\t\tonClick={() => {setGROUP(date.G)}} \n\t  \t\t\t\tstyle={{cursor: 'pointer'}}\n\t  \t\t\t\tcolor={date.color}>{date.date}</Tag>\n\t  \t\t)}/>\n\n\t  \t\t<Column\n\t  \t\ttitle=\"Группа\"\n\t  \t\tdataIndex=\"groupName\"\n\t  \t\tkey=\"groupName\"\n\t  \t\trender={(groupName) => (\n\t  \t\t\t<Tag \n\t  \t\t\t\tonClick={() => {setGROUP(groupName.G)}}\n\t  \t\t\t\tstyle={{cursor: 'pointer'}}\n\t  \t\t\t\tcolor=\"volcano\">{groupName.group_name}</Tag>\n\t  \t\t)}/>\n\t  </Table>\n\t)\n}\n\n\nTableGroups.defaultProps = {\n\tGroups: [{\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t}]\n}\n\nexport default TableGroups","import React, {useState, useEffect} from 'react';\n\nimport TableGroups from './table-groups/table-groups.js'\n\nimport styled from '@emotion/styled';\n\nconst AllLessonStyle = styled.div`\n\tpadding: 15px;\n\tborder-radius: 2px;\n\tbackground-color: #fff;\n`\n\nconst AllLesson = ({Groups, newGroup, setGROUP, GROUP}) => {\n\n\treturn (\n\t\t<AllLessonStyle className='AllLesson'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t<h5>Ближайшие уроки</h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"TableGroups\">\n\t\t\t\t<TableGroups Groups={Groups} newGroup={newGroup} setGROUP={setGROUP} GROUP={GROUP}/>\n\t\t\t</div>\n\t\t</AllLessonStyle>\n\t)\t\n}\n\nexport default AllLesson","import React, {useState, useEffect} from 'react';\nimport { Layout, Breadcrumb } from 'antd';\n\nimport LessonNow from './lesson-now/lesson-now.js'\nimport AllLesson from './all-lesson/all-lesson.js'\n\nimport moment from 'moment'\n\nimport styled from '@emotion/styled';\n\nconst Today = ({rowKey, setRowKey, Groups, GROUP, setGROUP, getUser}) => {\n\n\tlet indexHours = {\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t},\n\tgroupsAll = [{\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t}]\n\n\n\tGroups.forEach((item, i) => {\n\n\t\tlet dataLes_l = []\n\t\tlet indexD = 'f'\n\n\t\tlet GLOBAL_SCHEDULE_Local = item.global_schedule ? item.global_schedule : []\n\n\t\tGLOBAL_SCHEDULE_Local.forEach((itemGL, i) => {\n\n\t\t\tlet time = moment(itemGL.date, 'DD.MM.YYYY').format('YYYY-MM-DD'),\n\t\t\ttime_day = moment().diff(time, 'day');\n\n\t\t\tif (time_day <= 0) {\n\n\t\t\t\tif (indexD == 'f') {\n\t\t\t\t\tindexD = i\n\t\t\t\t}\n\n\t\t\t\tdataLes_l.push(`${time} ${itemGL.duration[0]}`)\n\t\t\t}\n\t\t})\n\n\t\tif (dataLes_l[0]) {\n\n\t\t\tif (indexHours.timeN) {\n\n\t\t\t\tlet indexN = moment().diff(dataLes_l[0], 'hours'),\n\t\t\t\t\tposl = moment().diff(indexHours.timeN, 'hours')\n\n\t\t\t\tif (indexN > posl & indexN <= 0) {\n\t\t\t\t\t\n\t\t\t\t\tindexHours = {\n\t\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\t\tgroup: item,\n\t\t\t\t\t\tindexD: indexD\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else if (!indexHours.timeN) {\n\t\t\t\tindexHours = {\n\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\tgroup: item,\n\t\t\t\t\tindexD: indexD\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (dataLes_l[0]) {\n\t\t\t\tgroupsAll.push({\n\t\t\t\t\ttimeN: dataLes_l[0],\n\t\t\t\t\tgroup: item,\n\t\t\t\t\tindexD: indexD\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t})\n\n\tlet groupCon = [{\n\t\ttimeN: '',\n\t\tgroup: {\n\t\t\tgroup_name: '',\n\t\t\tglobal_schedule: [\n\t\t\t\t{date: \"\", duration: ['', '']}\n\t\t\t],\n\t\t\tpupils: []\n\t\t},\n\t\tindexD: 0\n\t}]\n\n\tlet indexGroup = []\n\tgroupsAll.forEach(item => {\n\t\tindexGroup.push(moment().diff(item.timeN, 'minutes'))\n\t})\n\n\tindexGroup.sort((a, b) => b - a)\n\n\tindexGroup.forEach(itemIN => {\n\t\tgroupsAll.forEach((item2, i) => {\n\n\t\t\tif (moment().diff(item2.timeN, 'minutes') == itemIN) {\n\n\t\t\t\tgroupCon.push(item2)\n\t\t\t}\n\t\t})\n\t})\n\n\tif (groupCon[1] != undefined) {\n\t\tgroupCon.splice(0, 1)\n\t}\n\n\t// console.log(groupCon)\n\n\tconst Today = styled.div({\n\t\t'.site-layout-background': {\n\t\t\t'.allCol': {\n\t\t\t\tpadding: '0 7.5px'\n\t\t\t},\n\t\t\t'.LessonNow, .AllLesson': {\n\t\t\t\tpadding: '15px',\n\t\t\t\tborderRadius: '2px',\n\t\t\t\tbackgroundColor: '#fff'\n\t\t\t}\n\t\t}\n\t})\n\n\tif (!GROUP) {\n\t\tsetGROUP(groupCon[0])\n\t}\n\n\tconst { Content } = Layout;\n\n\treturn (\n\t\t<Today>\n\t\t\t<Content style={{ margin: '0 16px' }}>\n\t\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\n\t\t\t\t\t<Breadcrumb.Item>Главная</Breadcrumb.Item>\n\t\t\t\t\t<Breadcrumb.Item>Ближайшие уроки</Breadcrumb.Item>\n\t\t\t\t</Breadcrumb>\n\t\t\t\t<div className=\"row site-layout-background\" style={{ padding: '7.5px', minHeight: 360 }}>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"allCol col-8\">\n\t\t\t\t\t\t<LessonNow rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP} Group={indexHours}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"allCol col-4\">\n\t\t\t\t\t\t<AllLesson Groups={groupCon} setGROUP={setGROUP} newGroup={indexHours} GROUP={GROUP}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Content>\n\t\t</Today>\n\t)\n}\n\nexport default Today","import React, {useState, useEffect} from 'react';\nimport {Layout, Breadcrumb, Table, Tag} from 'antd';\n\nimport styled from '@emotion/styled';\n\nimport moment from 'moment';\n\nconst columns = [\n    {\n        title: '',\n        key: 'time',\n        dataIndex: 'time',\n        fixed: 'left',\n        width: 100,\n        render: (time) => <Tag color=\"cyan\">{time}</Tag>,\n    },\n    {title: 'Понедельник', dataIndex: '1', key: '1'},\n    {title: 'Вторник', dataIndex: '2', key: '2'},\n    {title: 'Среда', dataIndex: '3', key: '3'},\n    {title: 'Четверг', dataIndex: '4', key: '4'},\n    {title: 'Пятница', dataIndex: '5', key: '5'},\n    {title: 'Суббота', dataIndex: '6', key: '6'},\n    {title: 'Воскресенье', dataIndex: '0', key: '7'}\n];\n\nconst СalendarStyle = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\nconst GroupsANDpupils = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff',\n    marginBottom: '15px'\n})\n\nconst {Content} = Layout;\n\nconst Сalendar = ({Groups}) => {\n\n    console.log(Groups)\n\n    const columns2 = Groups.map(item => {\n        // let name = `${item._id}`\n        return (\n            {\n                title: () => <Tag key={item._id} color=\"magenta\">{item.GROUP_NAME}</Tag>,\n                key: item._id,\n                dataIndex: 'pupil',\n                fixed: 'top',\n                width: 100,\n                render: () => {\n                    return (\n                        <>\n                            {\n                                item.PUPILS.map((itemf, i) => (\n                                    <div key={`${item._id}${i}`}>\n                                        <Tag\n                                            style={{marginBottom: '5px'}}\n                                            color=\"green\">{itemf.surname} {itemf.name} {itemf.midname}</Tag>\n                                    </div>\n                                ))\n                            }\n                        </>\n                    )\n                }\n            }\n        )\n    })\n\n    const data2 = [{\n        key: '777',\n        pupil: ''\n    }]\n\n    console.log(data2)\n\n\n// ==================\n    const data = Groups.map(items => {\n\n        let GLOBAL_SCHEDULE_Local = items.GLOBAL_SCHEDULE ? items.GLOBAL_SCHEDULE : []\n\n        if (GLOBAL_SCHEDULE_Local[0]) {\n            let wekDay = {}\n\n            items.GLOBAL_SCHEDULE.forEach(day => {\n                let wek_day = moment(day.date, 'DD.MM.YYYY').day()\n\n                wekDay[wek_day] = items.GROUP_NAME\n            })\n\n            return {\n                key: items._id,\n                ...wekDay,\n                time: items.GLOBAL_SCHEDULE[0].duration[0]\n            }\n        } else {\n            return {\n                key: items._id,\n                '1': `Для группы: \"${items.GROUP_NAME}\" не создано расписание.`,\n                time: ''\n            }\n        }\n    })\n\n    let finalDate = []\n\n    for (let inc = 0; inc <= 24; inc++) {\n        data.forEach(item => {\n\n            let hh = moment(item.time, 'hh:mm').hours()\n            if (hh == inc) {\n                finalDate.push(item)\n            }\n        })\n    }\n    \n    return (\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Расписание уроков</Breadcrumb.Item>\n            </Breadcrumb>\n            <GroupsANDpupils>\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\n                    <h4>Группы</h4>\n                    <Table bordered columns={columns2} dataSource={data2} scroll={{x: 1000}}/>\n                </div>\n            </GroupsANDpupils>\n            <СalendarStyle>\n                <div className=\"row site-layout-background\" style={{padding: '15px'}}>\n                    <h4>Расписание</h4>\n                    <Table bordered columns={columns} dataSource={finalDate} scroll={{x: 1300}}/>\n                </div>\n            </СalendarStyle>\n        </Content>\n    )\n}\n\nexport default Сalendar","import React, {useState, useEffect} from 'react';\nimport { Table, Tag, Space, Layout, Breadcrumb } from 'antd';\nimport {Link} from \"react-router-dom\"\n\nimport ReturnAge from './../../home-page/return-age/returnAge.js'\n\nimport styled from '@emotion/styled';\n\nconst AllPupilsBox = styled.div({\n\tpadding: '15px',\n\tborderRadius: '2px',\n\tbackgroundColor: '#fff'\n})\n\nconst AllPupils = ({AllPupils}) => {\n\n\tconst { Content } = Layout;\n\tconst { Column, ColumnGroup } = Table;\n\n\tconst data = []\n\n\tAllPupils.forEach(item => {\n\n\t\tlet {surname, name, midname, age, gender, phone, discord, _id} = item\n\n\t\tlet i = true\n\n\t\tdata.forEach(item => {\n\t\t\tif (item.key == _id) {\n\t\t\t\ti = false\n\t\t\t}\n\t\t})\n\n\t\tif (i) {\n\t\t\tdata.push({\n\t\t\t\tkey: _id,\n\t\t\t\tsurname: [surname, _id],\n\t\t\t\tname: name,\n\t\t\t\tmidname: midname,\n\t\t\t\tage: ReturnAge(age),\n\t\t\t\tgender: gender,\n\t\t\t\tphone: phone,\n\t\t\t\tdiscord: discord\n\t\t\t})\n\t\t}\n\t})\n\n\treturn (\n\n\t\t<Content style={{ margin: '0 16px' }}>\n\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\n\t\t\t\t<Breadcrumb.Item>Главная</Breadcrumb.Item>\n\t\t\t\t<Breadcrumb.Item>Таблица Учеников</Breadcrumb.Item>\n\t\t\t</Breadcrumb>\n\t\t\t<div className=\"site-layout-background\" style={{ padding: '10px', minHeight: 360 }}>\n\t\t\t\t<AllPupilsBox>\n\t\t\t\t\t<Table dataSource={data}>\n\t\t\t\t\t    <Column \n\t\t\t\t\t    \ttitle=\"Фамилия\" \n\t\t\t\t\t    \tdataIndex=\"surname\" \n\t\t\t\t\t    \tkey=\"surname\" \n\t\t\t\t\t    \trender={(surname) => (\n\t\t\t\t\t    \t\t<Link\n\t\t\t\t\t\t    \t\tclassName=\"link-info\"\n\t\t\t\t\t\t    \t\tto={`/student/${surname[1]}`}>\n\t\t\t\t\t\t    \t\t{surname[0]}\n\t\t\t\t\t    \t\t</Link>\n\t\t\t\t\t    \t)}/>\n\t\t\t\t\t    <Column title=\"Имя\" dataIndex=\"name\" key=\"name\" />\n\t\t\t\t\t    <Column title=\"Отчество\" dataIndex=\"midname\" key=\"midname\" />\n\t\t\t\t\t    <Column title=\"Возраст\" dataIndex=\"age\" key=\"age\" />\n\t\t\t\t\t    <Column title=\"Пол\" dataIndex=\"gender\" key=\"gender\" />\n\t\t\t\t\t    <Column title=\"Номер телефона\" dataIndex=\"phone\" key=\"phone\" />\n\t\t\t\t\t    <Column title=\"Дискорд никнейм\" dataIndex=\"discord\" key=\"discord\" />\n\t\t\t\t\t</Table>\n\t\t\t\t</AllPupilsBox>\n\t\t\t</div>\n\t\t</Content>\n\t)\n}\n\nexport default AllPupils","import React, {useState, useEffect} from 'react';\nimport {Table, Tag, Space, Layout, Breadcrumb} from 'antd';\nimport {Link} from \"react-router-dom\"\n\nimport styled from '@emotion/styled';\n\nconst AllGroupsBox = styled.div({\n    padding: '15px',\n    borderRadius: '2px',\n    backgroundColor: '#fff'\n})\n\nconst AllGroups = ({AllGroups}) => {\n    const {Content} = Layout;\n    const {Column} = Table;\n\n    const data = AllGroups.map(item => {\n\n        let {group_name, level, places, pupils, _id, global_schedule} = item\n\n        let time = ''\n\n        if (global_schedule) {\n            if (global_schedule[0]) {\n                time = `с ${global_schedule[0].duration[0]} до ${global_schedule[0].duration[1]}`\n            }\n        }\n\n        return ({\n            key: _id,\n            group_name: [group_name, _id],\n            level: level,\n            places: places,\n            free_places: places - pupils.length,\n            time: time\n        })\n    })\n\n    return (\n\n        <Content style={{margin: '0 16px'}}>\n            <Breadcrumb style={{margin: '16px 0'}}>\n                <Breadcrumb.Item>Главная</Breadcrumb.Item>\n                <Breadcrumb.Item>Таблица Групп</Breadcrumb.Item>\n            </Breadcrumb>\n            <div className=\"site-layout-background\" style={{padding: '10px', minHeight: 360}}>\n                <AllGroupsBox>\n                    <Table dataSource={data}>\n                        <Column\n                            title=\"Имя Группы\"\n                            dataIndex=\"group_name\"\n                            key=\"group_name\"\n                            render={(group_name) => (\n                                <Link\n                                    className=\"link-info\"\n                                    to={`/group/${group_name[1]}`}>\n                                    {group_name[0]}\n                                </Link>\n                            )}/>\n                        <Column title=\"Уровень\" dataIndex=\"level\" key=\"level\"/>\n                        <Column title=\"Количество мест\" dataIndex=\"places\" key=\"places\"/>\n                        <Column title=\"Свободных мест\" dataIndex=\"free_places\" key=\"free_places\"/>\n                        <Column title=\"Время занятий\" dataIndex=\"time\" key=\"time\"/>\n                    </Table>\n                </AllGroupsBox>\n            </div>\n        </Content>\n    )\n}\n\nexport default AllGroups","import React, {useState, useEffect} from 'react';\nimport {BrowserRouter as Router, Route, Link, Switch} from \"react-router-dom\";\n\nimport {loading, Swalclose} from './../../alert/alert.js'\nimport Url from './../../url/url.js'\nimport errorHandler from '../error-handler/error-handler.js'\nimport RestrictionMessage from '../restriction-message/restriction-message.js'\n\nimport Today from './today/today.js'\nimport Сalendar from './calendar/calendar.js'\nimport SearchAll from './../search/search.js'\nimport StudentPage from '../home-page/student/pageStudent/pageStudent.js'\nimport GroupPage from '../home-page/group/group-page/group-page.js'\n\nimport AllPupils from './all-pupils/all-pupils.js'\nimport AllGroups from './all-groups/all-groups.js'\n\nimport {Layout, Menu} from 'antd';\nimport {\n    LogoutOutlined,\n    ClockCircleOutlined,\n    CalendarOutlined,\n    TeamOutlined,\n    SearchOutlined,\n    UserOutlined,\n} from '@ant-design/icons';\n\nimport styled from '@emotion/styled';\n\nconst axios = require('axios'); // AJAX\nlet jwt = require('jsonwebtoken');\n\nconst {Sider} = Layout;\n\nconst HomePageTutor = ({logOut}) => {\n\n    const [collapsed, setCollapsed] = useState(false)\n    const [rowKey, setRowKey] = useState([])\n    const [GROUP, setGROUP] = useState({\n        group: {\n            group_name: '',\n            global_schedule: [\n                {date: \"00\", duration: ['', '']}\n            ],\n            pupils: [],\n            _id: '3443'\n        },\n        indexD: 0\n    })\n    const [user, setUser] = useState({\n        groups: [],\n        login: \"\",\n        midname: \"\",\n        name: \"\",\n        role: \"\",\n        surname: \"\",\n        _id: \"456456\"\n    })\n    const [Groups, setGroups] = useState([])\n\n    let Pupils = []\n    Groups.forEach(item => {\n        Pupils.push(...item.pupils)\n    })\n\n    const getGroups = (l_user) => {\n\n        let mass_id = l_user.groups.map(item => item._id)\n\n        if (mass_id[0]) {\n            axios({\n                method: 'post',\n                url: `${Url}/CRM/Groups/getByIds`,\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8',\n                    'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n                },\n                data: mass_id\n            })\n            .then((res) => {\n                setGroups(res.data)\n                Swalclose()\n            })\n            .catch((error) => {\n                errorHandler(getGroups, error)\n            })\n        } else {\n            Swalclose()\n        }\n    };\n\n    const getUser = (title) => {\n\n        loading(title, '')\n\n        axios({\n            method: 'get',\n            url: `${Url}/AdminPanel/CRMAccounts/${jwt.decode(localStorage.getItem('tokenID')).id}`,\n            headers: {\n                'Content-Type': 'application/json;charset=utf-8',\n                'Authorization': `Bearer ${localStorage.getItem('tokenID')}`\n            }\n        })\n        .then((res) => {\n            let {data} = res\n            if (!data) {\n                localStorage.removeItem('tokenID');\n                window.location.replace(\"/\");\n            }\n\n            setUser(data)\n            getGroups(data)\n        })\n        .catch((error) => {\n            errorHandler(getGroups, error)\n        })\n    };\n\n    useEffect(() => {\n        getUser('Получение данных...')\n    }, [])\n\n    useEffect(() => {\n        document.querySelector('.ant-layout-sider-trigger').style.width = collapsed ? '80px' : '250px'\n    })\n\n    const Vag = styled.div({\n        '.ant-menu': {\n            height: '100vh',\n            position: 'relative',\n            width: collapsed ? '80px' : '250px'\n        },\n        '.vag123': {\n            position: 'absolute',\n            bottom: '48px',\n            width: collapsed ? '80px' : ''\n        },\n        '.site-layout': {\n            padding: '15px'\n        },\n        '& > section': {\n            '& > aside': {\n                position: 'fixed',\n                zIndex: 99\n            },\n            '& > section': {\n                marginLeft: collapsed ? '80px' : '250px'\n            }\n        }\n    })\n\n    return (\n        <Router>\n            <Vag>\n                <Layout style={{minHeight: '100vh'}}>\n                    <Sider collapsible collapsed={collapsed} onCollapse={() => setCollapsed(collapsed)}>\n                        <div className=\"logo\"/>\n                        <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                            <Menu.Item key=\"Search\" icon={<SearchOutlined/>}>\n                                <SearchAll tutorid={`&tutorid=${jwt.decode(localStorage.getItem('tokenID')).id}`}/>\n                            </Menu.Item>\n                            <Menu.Item key=\"1\" icon={<ClockCircleOutlined/>}>\n                                <Link to='/'>\n                                    Сегодня\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"2\" icon={<CalendarOutlined/>}>\n                                <Link to='/calendar'>\n                                    Расписание\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"3\" icon={<UserOutlined/>}>\n                                <Link to='/pupils'>\n                                    Ученики\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item key=\"4\" icon={<TeamOutlined/>}>\n                                <Link to='/groups'>\n                                    Группы\n                                </Link>\n                            </Menu.Item>\n                            <Menu.Item\n                                onClick={() => {\n                                    localStorage.removeItem('tokenID')\n                                    logOut()\n                                }}\n                                key=\"Logout\" className='vag123' icon={<LogoutOutlined/>}>\n                                <Link to='/'>\n                                    Выход: {user.login}\n                                </Link>\n                            </Menu.Item>\n                        </Menu>\n                    </Sider>\n                    <Layout className=\"site-layout\">\n\n                        <div>\n                            <Switch>\n                                <Route exact path='/'>\n                                    <Today rowKey={rowKey} getUser={getUser} setRowKey={setRowKey} GROUP={GROUP}\n                                           setGROUP={setGROUP} Groups={Groups}/>\n                                </Route>\n                                <Route exact path='/calendar'>\n                                    <Сalendar Groups={Groups}/>\n                                </Route>\n                                <Route exact path='/pupils'>\n                                    <AllPupils AllPupils={Pupils}/>\n                                </Route>\n                                <Route exact path='/groups'>\n                                    <AllGroups AllGroups={Groups}/>\n                                </Route>\n\n                                <Route exact path={`/student/:id`} children={() => <StudentPage/>}/>\n                                <Route exact path={`/group/:id`} children={() => <GroupPage/>}/>\n                            </Switch>\n                        </div>\n\n                    </Layout>\n                </Layout>\n            </Vag>\n        </Router>\n    )\n}\n\nexport default HomePageTutor","import React, {useState, useEffect} from 'react'\n\nimport './App.css';\nimport FormlogIn from './form-log-In/form-log-in.js'\nimport HomePage from './home-page/home-page.js'\n\nimport Url from './../url/url.js'\n\nimport HomePageTutor from './home-page-tutor/home-page-tutor.js'\n\nconst App = () => {\n\tconst axios = require('axios'); // AJAX\n\n\tlet jwt = require('jsonwebtoken')\n\n\tconst [User, setUser] = useState('');\n\t\t//localStorage.getItem('tokenID')\n\tlet form = <FormlogIn setUser={setUser}/>;\n\tlet page = localStorage.getItem('tokenID')? <HomePage logOut={setUser}/> : form;\n\n\tuseEffect(() => {\n\t\tif (page !== form) {\n\t\t\taxios({\n\t\t\t\tmethod: \"get\",\n\t\t\t\turl: `${Url}/auth-check`,\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"tokenID\")}`,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (error.response) {\n\t\t\t\t\tlet {status} = error.response\n\t\t\t\t\tif (status === 401) {\n\t\t\t\t\t\tlocalStorage.removeItem(\"tokenID\");\n\t\t\t\t\t\twindow.location.replace(\"/\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [])\n\t\n\tif (localStorage.getItem('tokenID')) {\n\t\tif (jwt.decode(localStorage.getItem('tokenID')).accountType === 'teacher') {\n\t\t\tpage = <HomePageTutor logOut={setUser}/>\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t  \t\t{page}\n\t\t</>\n\t);\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\n// import { DatePicker, Pagination } from 'antd';\n// import 'antd/dist/antd.css';\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}